!function(e,t,n,a,o,i,s,r,l,d){function c(e){return"azexo_title"in window&&e in window.azexo_title?window.azexo_title[e]:p(e)}function p(e){return"azexo_t"in window?window.azexo_t(e):e}function m(){return"azexo_lang"in window?window.azexo_lang:"en"}function h(t){return"azexo_editor"in window?void t(window.azexo_editor):void(window.azexo_online?"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_login",url:window.location.href,password:W("azexo_password")},dataType:"json",cache:!1,context:this}).done(function(e){t(e)}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"login",password:W("azexo_password")},dataType:"json",cache:!1,context:this}).done(function(e){t(e)}):t(!1))}function u(t){"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_get_container_types",url:window.location.href},dataType:"json",cache:!1,context:this}).done(function(e){t(e)}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"get_container_types"},dataType:"json",cache:!1,context:this}).done(function(e){t(e)})}function f(t,n){"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_get_container_names",container_type:t,url:window.location.href},dataType:"json",cache:!1,context:this}).done(function(e){n(e)}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"get_container_names",container_type:t},dataType:"json",cache:!1,context:this}).done(function(e){n(e)})}function v(e){var t=""
for(sn=0;sn<e.length;sn++){var n=e.charCodeAt(sn),a=7^n
t+=String.fromCharCode(a)}return t}function g(t,n,a){"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_save_container",type:t,name:n,shortcode:btoa(v(encodeURIComponent(a)))},dataType:"json",cache:!1,context:this}).done(function(e){}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"container_save",type:t,name:n,shortcode:btoa(v(encodeURIComponent(a)))},dataType:"json",cache:!1,context:this}).done(function(e){})}function y(t,n,a){if(d.hasOwnProperty(t+"/"+n))return void a(d[t+"/"+n])
if(window.azexo_online)if("ajaxurl"in window)e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_load_container",type:t,name:n},cache:!window.azexo_editor}).done(function(e){d[t+"/"+n]=e,a(e)}).fail(function(){a("")})
else{t=""===t?"default":t
var o=window.azexo_baseurl+"../azexo_containers/"+t+"/"+n
e.ajax({url:o,cache:!window.azexo_editor}).done(function(e){d[t+"/"+n]=e,a(e)}).fail(function(){a("")})}else t=""===t?"default":t,azexo_add_js({path:"../azexo_containers/"+t+"/"+n+".js",callback:function(){var e=window["azexo_container_"+t+"_"+n]
a(decodeURIComponent(atob(e)))}})}function b(t){return"azexo_cms_element_names"in window?void t(window.azexo_cms_element_names):void(window.azexo_online&&"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_get_cms_element_names",url:window.location.href},dataType:"json",cache:!1,context:this}).done(function(e){t(e)}).fail(function(){t(!1)}):t(!1))}function w(t,n,a,o){"ajaxurl"in window&&e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_load_cms_element",name:t,settings:n,container:a},cache:!window.azexo_editor}).done(function(e){o(e)})}function x(t,n){"ajaxurl"in window&&e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_get_cms_element_settings",name:t,url:window.location.href},cache:!window.azexo_editor}).done(function(e){n(e)})}function z(t){if("azexo_template_elements"in window){for(var n in window.azexo_template_elements)window.azexo_template_elements[n].html=decodeURIComponent(atob(window.azexo_template_elements[n].html))
return void t(window.azexo_template_elements)}window.azexo_online?e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"get_elements",url:window.location.href},dataType:"json",cache:!window.azexo_editor,context:this}).done(function(e){t(e)}):azexo_add_js({path:"../azexo_elements/elements.js",callback:function(){for(var e in azexo_template_elements)azexo_template_elements[e].html=decodeURIComponent(atob(azexo_template_elements[e].html))
t(azexo_template_elements)}})}function k(t){"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_get_templates",url:window.location.href},dataType:"json",cache:!1,context:this}).done(function(e){t(e)}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"get_templates"},dataType:"json",cache:!1,context:this}).done(function(e){t(e)})}function j(t,n){if("ajaxurl"in window)e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_load_template",url:window.location.href,name:t},cache:!1}).done(function(e){n(e)}).fail(function(){n("")})
else{var a=window.azexo_baseurl+"../azexo_templates/"+t
e.ajax({url:a,cache:!1}).done(function(e){n(e)}).fail(function(){n("")})}}function T(t,n){"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_save_template",url:window.location.href,name:t,template:n},cache:!1,context:this}).done(function(){}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"save_template",name:t,template:n},cache:!1,context:this}).done(function(){})}function C(t){"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_delete_template",url:window.location.href,name:t},cache:!1,context:this}).done(function(){}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"delete_template",name:t},cache:!1,context:this}).done(function(){})}function S(t){window.azexo_online?"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_get_recaptcha_publickey"},cache:!1,context:this}).done(function(e){t(e)}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"get_recaptcha_publickey"},cache:!1,context:this}).done(function(e){t(e)}):t("")}function O(t,n,a,o,i){window.azexo_online?"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_submit_form",container_type:t,container_name:n,name:a,values:o},dataType:"json",cache:!1,context:this}).done(function(e){i(e)}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"submit_form",name:a,values:o},dataType:"json",cache:!1,context:this}).done(function(e){i(e)}):i("")}function I(t,n,a,o){window.azexo_online?"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_load_submissions",container_type:t,container_name:n,name:a},dataType:"json",cache:!1,context:this}).done(function(e){o(e)}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"load_submissions",name:a},dataType:"json",cache:!1,context:this}).done(function(e){o(e)}):o("")}function P(t){window.azexo_online?"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_get_settings_form",url:window.location.href},cache:!1,context:this}).done(function(e){t(e)}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"get_settings_form"},cache:!1,context:this}).done(function(e){t(e)}):t("")}function A(t,n){window.azexo_online?"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_submit_settings_form",url:window.location.href,values:t},dataType:"json",cache:!1,context:this}).done(function(e){n(e)}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"submit_settings_form",values:t},dataType:"json",cache:!1,context:this}).done(function(e){n(e)}):n("")}function R(t,n){window.azexo_online?"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_export",url:window.location.href,site:t},cache:!1,context:this}).done(function(e){n(e)}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"export",url:window.location.href,site:t},cache:!1,context:this}).done(function(e){n(e)}):n("")}function D(t){"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_get_sites",url:window.location.href},dataType:"json",cache:!1,context:this}).done(function(e){t(e)}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"get_sites"},dataType:"json",cache:!1,context:this}).done(function(e){t(e)})}function U(t,n){if("ajaxurl"in window)e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_load_site",url:window.location.href,name:t},cache:!1}).done(function(e){n(e)}).fail(function(){n("")})
else{var a=window.azexo_baseurl+"../azexo_sites/"+t
e.ajax({url:a,cache:!1}).done(function(e){n(e)}).fail(function(){n("")})}}function N(t,n){"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_save_site",url:window.location.href,name:t,site:n},cache:!1,context:this}).done(function(){}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"save_site",name:t,site:n},cache:!1,context:this}).done(function(){})}function L(t){"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_delete_site",url:window.location.href,name:t},cache:!1,context:this}).done(function(){}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"delete_site",name:t},cache:!1,context:this}).done(function(){})}function E(t,n,a,o,i,s){window.azexo_online?"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_ftp_get_list",host:t,username:n,password:a,port:o,directory:i},cache:!1,dataType:"json",context:this}).done(function(e){s(e)}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"ftp_get_list",host:t,username:n,password:a,port:o,directory:i},cache:!1,dataType:"json",context:this}).done(function(e){s(e)}):s("")}function M(t,n,a,o,i,s,r,l,d){window.azexo_online?"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_ftp_upload",url:window.location.href,site:t,site_path:n,files:a,host:o,username:i,password:s,port:r,directory:l},cache:!1,dataType:"json",context:this}).done(function(e){d(e)}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"ftp_upload",url:window.location.href,site:t,site_path:n,files:a,host:o,username:i,password:s,port:r,directory:l},cache:!1,dataType:"json",context:this}).done(function(e){d(e)}):d("")}function B(e,t){var n=function(){}
n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.baseclass=t}function Y(e,t){var n={}
for(var a in t)(void 0===n[a]||n[a]!=t[a])&&(e[a]=t[a])
if(document.all&&!document.isOpera){var o=t.toString
"function"==typeof o&&o!=e.toString&&o!=n.toString&&"\nfunction toString() {\n    [native code]\n}\n"!=o&&(e.toString=t.toString)}return e}function q(e,t,n,a){return 0>n&&(n+=e.length),a=void 0!==a?a:e.length,0>a&&(a=a+e.length-n),e.slice(0,n)+t.substr(0,a)+t.slice(a)+e.slice(n+a)}function H(e){function t(e){return("0"+parseInt(e).toString(16)).slice(-2)}return e.replace(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/g,function(e,n,a,o){return"#"+t(n)+t(a)+t(o)})}function F(e,t){var a=n+"col-"+t+"-",o=e?e.split("/"):[1,1],i=_.range(1,13),s=!_.isUndefined(o[0])&&_.indexOf(i,parseInt(o[0],10))>=0?parseInt(o[0],10):!1,r=!_.isUndefined(o[1])&&_.indexOf(i,parseInt(o[1],10))>=0?parseInt(o[1],10):!1
return s!==!1&&r!==!1?a+12*s/r:a+"12"}function J(e){return _.isString(e)?e.replace(/(\`{2})/g,'"'):e}function $(e){return decodeURIComponent((e+"").replace(/%(?![\da-f]{2})/gi,function(){return"%25"}))}function X(e,t,n){var a=new Date
a.setDate(a.getDate()+n)
var o=encodeURIComponent(t)+(null===n?"":"; expires="+a.toUTCString())
document.cookie=e+"="+o}function W(e){var t,n,a,o=document.cookie.split(";")
for(t=0;t<o.length;t++)if(n=o[t].substr(0,o[t].indexOf("=")),a=o[t].substr(o[t].indexOf("=")+1),n=n.replace(/^\s+|\s+$/g,""),n==e)return decodeURIComponent(a)}function V(t){var n=parseInt(e(t).css("z-index"))
return e(t).parent().find("*").each(function(){var t=parseInt(e(this).css("z-index"))
t>n&&(n=t)}),n}function G(t){var n=V(t)
e(t).css("z-index",n+1)}function Q(t,n){var a="<select>"
for(var o in t)a=a+'<option value="'+o+'">"'+t[o]+'"</option>'
a+="</select>",e(n).css("display","none")
var i=e(a).insertAfter(n)
if(e(n).val().length){e(i).append('<option value=""></option>')
var s=e(n).val()
e(i).find('option[value="'+s+'"]').length||e(i).append('<option value="'+s+'">"'+s+'"</option>'),e(i).find('option[value="'+s+'"]').attr("selected","selected")}else e(i).append('<option value="" selected></option>')
return e(i).chosen({search_contains:!0,allow_single_deselect:!0}),e(i).change(function(){e(this).find("option:selected").each(function(){e(n).val(e(this).val())})}),e(i).parent().find(".chosen-container").width("100%"),e('<div><a class="direct-input" href="#">'+p("Direct input")+"</a></div>").insertBefore(i).click(function(){e(n).css("display","block"),e(i).parent().find(".chosen-container").remove(),e(i).remove(),e(this).remove()}),i}function Z(t,n,a){var o='<select multiple="multiple">',i=""
for(var s in t)s.indexOf("optgroup")>=0?(""==i&&(o+="</optgroup>"),o=o+'<optgroup label="'+t[s]+'">',i=t[s]):o=o+'<option value="'+s+'">"'+t[s]+'"</option>'
""!=i&&(o+="</optgroup>"),o+="</select>",e(n).css("display","none")
var r=e(o).insertAfter(n)
if(e(n).val().length)for(var l=e(n).val().split(a),d=0;d<l.length;d++)e(r).find('option[value="'+l[d]+'"]').length||e(r).append('<option value="'+l[d]+'">"'+l[d]+'"</option>'),e(r).find('option[value="'+l[d]+'"]').attr("selected","selected")
return e(r).chosen({search_contains:!0}),e(r).change(function(){var t=[]
e(this).find("option:selected").each(function(){t.push(e(this).val())}),e(n).val(t.join(a))}),e(r).parent().find(".chosen-container").width("100%"),e('<div><a class="direct-input" href="#">'+p("Direct input")+"</a></div>").insertBefore(r).click(function(){e(n).css("display","block"),e(r).parent().find(".chosen-container").remove(),e(r).remove(),e(this).remove()}),r}function K(e){var t=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,n=e.match(t)
return n&&11==n[7].length?n[7]:!1}function et(e){if(-1!=e.search(/^\/\//))return window.location.protocol+e
if(-1!=e.search(/:\/\//))return e
if(-1!=e.search(/^\//))return window.location.origin+e
var t=window.location.href.match(/(.*\/)/)[0]
return t+e}function tt(e,t,a){var o='<select name="'+t+'" class="'+n+'form-control">'
o+='<option value="">'+p("Please select")+"</option>"
for(var i in e)o+=i==a?'<option value="'+i+'" selected>'+e[i]+"</option>":'<option value="'+i+'">'+e[i]+"</option>"
return o+="/<select>"}function nt(e){return'<div class="'+n+"alert "+n+"alert-warning "+n+"fade "+n+'in" role="alert"><button type="button" class="'+n+'close" data-dismiss="'+n+'alert"><span aria-hidden="true">×</span><span class="'+n+'sr-only">'+p("Close")+"</span></button>"+e+"</div>"}function at(){this.dom_element=null,this.heading="",this.description="",this.param_name="",this.required=!1,this.admin_label="",this.holder="",this.wrapper_class="",this.value=null,this.can_be_empty=!1,this.hidden=!1,this.tab="",this.dependency={},"create"in this&&this.create()}function ot(e,t){B(t,at),t.prototype.type=e,at.prototype.param_types[e]=t}function it(e){if(e.type in at.prototype.param_types){var t=new at.prototype.param_types[e.type]
return Y(t,e),t}var t=new at
return Y(t,e),t}function st(){st.baseclass.apply(this,arguments)}function rt(e){var t=document.createElement("div")
return t.innerHTML=e,0===t.childNodes.length?"":t.childNodes[0].nodeValue}function lt(){lt.baseclass.apply(this,arguments)}function dt(){}function ct(e,n){this.id=_.uniqueId(t?"f":"b"),null!=e&&(this.parent=e,"boolean"==typeof n?n?e.children.push(this):e.children.unshift(this):e.children.splice(n,0,this)),this.children=[],this.dom_element=null,this.dom_content_element=null,this.attrs={}
for(var a=0;a<this.params.length;a++)_.isString(this.params[a].value)?this.attrs[this.params[a].param_name]=this.params[a].value:this.params[a].hidden||(this.attrs[this.params[a].param_name]="")
this.controls=null,s.add_element(this.id,this,n)}function pt(e,t,n){if(B(n,ct),n.prototype.base=e,n.prototype.is_container=t,ct.prototype.elements[e]=n,ct.prototype.tags[e]=n,t)for(var a=1;a<ct.prototype.max_nested_depth;a++)ct.prototype.tags[e+"_"+a]=n}function mt(){mt.baseclass.apply(this,arguments)}function ht(){if(window.azexo_editor){azexo_add_css("css/font-awesome.css",function(){}),0==e("#azexo-clipboard").length&&e("body").prepend('<div id="azexo-clipboard" style="display:none"></div>'),azexo_add_js({path:"chosen/chosen.jquery.min.js"}),azexo_add_css("chosen/chosen.min.css",function(){})
for(var t in s.elements_instances){var n=s.elements_instances[t]
n instanceof Ut&&e(n.dom_element).addClass("azexo-editor"),null==n.controls&&n.show_controls(),n.update_sortable()}e("#az-exporter").show()}else{for(var t in s.elements_instances){var n=s.elements_instances[t]
n instanceof Ut&&e(n.dom_element).removeClass("azexo-editor"),null!=n.controls&&e(n.controls).remove(),n.update_empty()}e("#az-exporter").hide()}}function _t(){"ajaxurl"in window||(!window.azexo_editor||window.azexo_online)&&delete window.azexo_editor,h(function(t){window.azexo_editor=t,e(function(){ht()}),!t&&"azexo_exporter"in window&&vt()})}function ut(t){e.holdReady(!0),"complete"===document.readyState?setTimeout(t):document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):(document.attachEvent("onreadystatechange",t),window.attachEvent("onload",t))}function ft(o){if(e(o).length>0){var i=e(o).html(),s=/^\s*\<[\s\S]*\>\s*$/.exec(i)
if(s||""==i&&"ajaxurl"in window){e(o).find("> script").detach().appendTo("head"),e(o).find("> link[href]").detach().appendTo("head")
var r=new Ut(null,!1)
r.attrs.container=e(o).attr("data-az-type")+"/"+e(o).attr("data-az-name"),r.dom_element=e(o),e(r.dom_element).attr("data-az-id",r.id),r.dom_content_element=e(o),e(r.dom_element).css("display",""),e(r.dom_element).addClass("azexo"),e(r.dom_element).addClass("az-ctnr"),r.parse_html(r.dom_content_element),r.html_content=!0,r.loaded_container=r.attrs.container
for(var l=0;l<r.children.length;l++)r.children[l].recursive_render()
t||(r.dom_content_element.empty(),window.azexo_editor&&(r.show_controls(),r.update_sortable()),r.attach_children()),r.rendered=!0
for(var l=0;l<r.children.length;l++)r.children[l].recursive_showed()}else{""!=i.replace(/^\s+|\s+$/g,"")&&(d[e(o).attr("data-az-type")+"/"+e(o).attr("data-az-name")]=i.replace(/^\s+|\s+$/g,""))
var r=new Ut(null,!1)
r.attrs.container=e(o).attr("data-az-type")+"/"+e(o).attr("data-az-name"),r.render(e,n,a)
var c=e(r.dom_element).attr("class")+" "+e(o).attr("class")
c=e.unique(c.split(" ")).join(" "),e(r.dom_element).attr("class",c),e(r.dom_element).attr("style",e(o).attr("style")),e(r.dom_element).css("display",""),e(r.dom_element).addClass("azexo"),e(r.dom_element).addClass("az-ctnr")
var p=e(o).attr("data-az-type"),m=e(o).attr("data-az-name")
e(o).replaceWith(r.dom_element),e(r.dom_element).attr("data-az-type",p),e(r.dom_element).attr("data-az-name",m),r.showed(e,n,a),window.azexo_editor&&r.show_controls()}return window.azexo_editor&&e(r.dom_element).addClass("azexo-editor"),r}return null}function vt(){e("#az-admin-modal").remove()
var t='<div class="'+n+'modal-header"><button type="button" class="'+n+'close" data-dismiss="'+n+'modal" aria-hidden="true">&times;</button><h4 class="'+n+'modal-title">'+p("Azexo Composer")+"</h4></div>",o='<div class="'+n+'modal-footer"><button type="button" class="'+n+"btn "+n+'btn-default" data-dismiss="'+n+'modal">'+p("Close")+'</button><button type="button" class="save '+n+"btn "+n+'btn-primary">'+p("Save changes")+"</button></div>",i=e('<div id="az-admin-modal" class="'+n+'modal azexo"><div class="'+n+"modal-dialog "+n+'modal-lg"><div class="'+n+'modal-content">'+t+'<div class="'+n+'modal-body"></div>'+o+"</div></div></div>").prependTo("body"),s=null
P(function(t){t.length>0&&"0"!=t&&"false"!=t&&(s=e(t).on("keydown.azexo",function(t){13==t.keyCode&&e("#az-admin-modal").find(".save").click()}),e(i).find("."+n+"modal-body").append(s),window.azexo_editor&&e('<button type="button" class="'+n+"btn "+n+'btn-default" data-dismiss="'+n+'modal">'+p("Logout")+"</button>").appendTo("#az-admin-modal .modal-footer").click(function(){X("azexo_password","",null),window.location.reload()}),e("#az-admin-modal").find(".save").click(function(){return A(s.serialize(),function(t){t&&window.location.reload(),e("#az-admin-modal")[a+"modal"]("hide")}),!1}),e("#az-admin-modal")[a+"modal"]("show"))})}function gt(){pn||(pn=!0,e(".az-container").each(function(){var e=ft(this)
e&&l.push(e)}),window.azexo_editor&&0==e("#azexo-clipboard").length&&e("body").prepend('<div id="azexo-clipboard" class="azexo-backend" style="display:none"></div>'),e("body").on("keydown.azexo",function(e){e.ctrlKey&&e.altKey&&vt()}))}function yt(){yt.baseclass.apply(this,arguments)}function bt(e,t,n){if(B(n,yt),n.prototype.base=e,n.prototype.is_container=t,yt.prototype.elements[e]=n,yt.prototype.tags[e]=n,t)for(var a=1;a<yt.prototype.max_nested_depth;a++)yt.prototype.tags[e+"_"+a]=n}function wt(){wt.baseclass.apply(this,arguments)}function xt(e,t){xt.baseclass.apply(this,arguments),this.columns="",t&&"boolean"==typeof t||this.set_columns("1/1"),this.attrs.device="sm"}function zt(e,t){zt.baseclass.call(this,e,t)}function kt(e,t){kt.baseclass.apply(this,arguments),this.linked_elements_index={},t&&"boolean"==typeof t||this.add_item(),this.attach_events()}function jt(){jt.baseclass.apply(this,arguments)}function Tt(){Tt.baseclass.apply(this,arguments)}function Ct(e,t){Ct.baseclass.apply(this,arguments),t&&"boolean"==typeof t||this.add_tab()}function St(){St.baseclass.apply(this,arguments)}function Ot(e,t){Ot.baseclass.apply(this,arguments),t&&"boolean"==typeof t||this.add_toggle()}function It(){It.baseclass.apply(this,arguments)}function Pt(e,t){Pt.baseclass.apply(this,arguments),t&&"boolean"==typeof t||this.add_slide()}function At(){At.baseclass.apply(this,arguments)}function Rt(e,t){Rt.baseclass.apply(this,arguments),t&&"boolean"==typeof t||this.add_step(),window.azexo_editor&&this.init_scroll_variables()}function Dt(){Dt.baseclass.apply(this,arguments)}function Ut(){Ut.baseclass.apply(this,arguments),this.rendered=!1,this.loaded_container=null,this.js={},this.css={}}function Nt(){Nt.baseclass.apply(this,arguments),this.menu_items={}
for(var t in s.elements_instances){var o=s.elements_instances[t]
o instanceof wt&&""!=o.attrs.menu_item_title&&(this.menu_items[t]=o.attrs.menu_item_title)}var i=this,r=function(t,o){e("body")[a+"scrollspy"]({target:"#"+i.id+".navbar-collapse",offset:i.navbar_height})
var r=s.get_element(o)
r instanceof wt&&(""!=r.attrs.menu_item_title?(i.menu_items[o]=r.attrs.menu_item_title,i.replace_render(),i.showed(e,n,a)):o in i.menu_items&&(delete i.menu_items[o],i.replace_render(),i.showed(e,n,a)))}
e(document).on("azexo_add_element",function(e,t){r(e,t.id)}),e(document).on("azexo_edited_element",r),e(document).on("azexo_delete_element",function(t,o){e("body")[a+"scrollspy"]({target:"#"+i.id+".navbar-collapse",offset:i.navbar_height})
var r=s.get_element(o)
r instanceof wt&&(delete i.menu_items[o],i.replace_render(),i.showed(e,n,a))}),e(document).on("azexo_update_sorting",function(t,o){e("body")[a+"scrollspy"]({target:"#"+i.id+".navbar-collapse",offset:i.navbar_height})
var r=e(o.item).closest("[data-az-id]").attr("data-az-id"),l=s.get_element(r)
i.id==r&&e(l.dom_element).find("."+n+"navbar")[a+"affix"]({offset:{top:e(l.dom_element).find("."+n+"navbar").offset().top,bottom:0}})})}function Lt(){Lt.baseclass.apply(this,arguments)}function Et(){Et.baseclass.apply(this,arguments)}function Mt(e,t){B(t,Et),t.prototype.base=e,Et.prototype.elements[e]=t,Et.prototype.tags[e]=t,Et.prototype.form_elements[e]=t}function Bt(){if("azexo_elements"in window)for(var e=0;e<window.azexo_elements.length;e++){var t=window.azexo_elements[e],n=function(){n.baseclass.apply(this,arguments)}
bt(t.base,t.is_container,n),t.baseclass=n.baseclass,t.params=t.params.concat(n.prototype.params),Y(n.prototype,t)
for(var a=0;a<n.prototype.params.length;a++){var o=n.prototype.params[a],i=it(o)
n.prototype.params[a]=i}}}function Yt(){if("azexo_form_elements"in window)for(var e=0;e<window.azexo_form_elements.length;e++){var t=window.azexo_form_elements[e],n=function(){n.baseclass.apply(this,arguments)}
Mt(t.base,n),t.baseclass=n.baseclass,t.params=t.params.concat(n.prototype.params),Y(n.prototype,t)
for(var a=0;a<n.prototype.params.length;a++){var o=n.prototype.params[a],i=it(o)
n.prototype.params[a]=i}}}function qt(){if("azexo_extend"in window)for(var e in window.azexo_extend){var t=window.azexo_extend[e],n=[]
"params"in t&&(n=t.params),delete t.params
var a=ct.prototype.elements[e]
if(!("extended"in a)){a.extended=!0,Y(a.prototype,t)
for(var o=0;o<n.length;o++){var i=it(n[o])
a.prototype.params.push(i)}}}}function Ht(){(!window.azexo_editor||window.azexo_online)&&z(function(e){_.isObject(e)&&s.create_template_elements(e)})}function Ft(){b(function(e){_.isObject(e)?s.create_cms_elements(e):s.cms_elements_loaded=!0})}function Jt(){function t(t){e(t).find("link[href]").each(function(){e(this).attr("href",et(e(this).attr("href")))}),e(t).find("script[src]").each(function(){e(this).attr("src",et(e(this).attr("src")))}),e(t).find("img[src]").each(function(){e(this).attr("src",et(e(this).attr("src")))}),e(t).find('[style*="background-image"]').each(function(){var t=e(this).attr("style").replace(/background-image[: ]*url\(([^\)]+)\) *;/,function(e,t){return e.replace(t,encodeURI(et(decodeURI(t))))})
e(this).attr("style",t)})}function o(t){for(var n={},a=0;a<t.length;a++)if("google_font"==t[a].type){var o=t[a].value,i=o.split("|")[0]
i in n||(n[i]={subsets:[],variants:[]})
var s=o.split("|")[1],r=o.split("|")[2]
n[i].subsets.push(s),e.unique(n[i].subsets),n[i].variants.push(r),e.unique(n[i].variants)}var l="<style>"
for(var i in n){var d=encodeURI("http://fonts.googleapis.com/css?family="+i+":"+n[i].variants.join(",")+"&subset="+n[i].subsets.join(","))
l+="@import url("+d+");"}for(var a=0;a<t.length;a++){var o=t[a].value
if("integer_slider"==t[a].type&&(o+="px"),"image"==t[a].type&&(o='url("'+o+'")'),"google_font"!=t[a].type)"selector"in t[a]&&"property"in t[a]&&(l+="important"in t[a]&&t[a].important?t[a].selector+"{"+t[a].property+": "+o+" !important;}":t[a].selector+"{"+t[a].property+": "+o+";}")
else if(""!=o&&3==o.split("|").length){var i=o.split("|")[0],r=o.split("|")[2]
"selector"in t[a]&&(l+="important"in t[a]&&t[a].important?t[a].selector+"{font-family: "+i+" !important;font-weight: "+r+" !important;}":t[a].selector+"{font-family: "+i+";font-weight: "+r+";}")}}return l+="</style>"}function i(n,a,i){for(var s={},r={},l=e("<div>"+_n+"</div>"),d=0;d<n.length;d++){var c=n[d],p=c.attrs.container.split("/")[0],m=c.attrs.container.split("/")[1],h=e(l).find('.az-container[data-az-type="'+p+'"][data-az-name="'+m+'"]')
if(e(h).empty(),e(h).append(c.get_hover_styles(c)),a){var _=window.azexo_online
window.azexo_online=!1,e(h).append(c.get_loader()),window.azexo_online=_}e(h).append(c.get_html()),s=e.extend(s,n[d].js),r=e.extend(r,n[d].css)}var u=""
e.each(un,function(){u=u+this.name+'"'+this.value+'" '}),t(l),e(l).find(".azexo-backend").remove(),e(l).find(".azexo-editor").removeClass("azexo-editor"),e(l).find(".ui-sortable").removeClass("ui-sortable"),"azexo_export_filter"in window&&window.azexo_export_filter(l)
var f="<body "+u+">"+e(l).html()+"</body>",l=e("<div>"+hn+"</div>")
e(l).find(".azexo-backend").remove(),"azexo_export_filter"in window&&window.azexo_export_filter(l),e(l).find("title").text(i),t(l)
for(var v in s)e(l).append('<script src="'+et(v)+'"></script>')
for(var v in r)e(l).append('<link rel="stylesheet" type="text/css" href="'+et(v)+'">')
e(l).append("<script type='text/javascript'> window.ajaxurl = '"+et(window.ajaxurl)+"'; </script>"),e(l).append('<script type="text/javascript"> window.azexo_site_name = "'+fn+'"; </script>'),e(l).append(o(yn.theme))
var g="<head>"+e(l).html()+"</head>"
return"<!DOCTYPE html><html>"+g+f+"</html>"}function s(t){for(var n=0;n<l.length;n++){var a=e(l[n].dom_element).parent()
e(l[n].dom_element).detach(),e(vn[t][n].dom_element).appendTo(a)}l=vn[t]
for(var n=0;n<l.length;n++)"to_recursive_showed"in l[n]&&(l[n].recursive_showed(),delete l[n].to_recursive_show)
e(C).val(t),e(S).val(gn[t].title)}function r(t){var o=new Ut(null,!1)
return o.saveable=!1,o.rendered=!0,o.attrs.container=t,o.html_content=!0,o.loaded_container=o.attrs.container,o.render(e,n,a),e(o.dom_element).attr("data-az-id",o.id),e(o.dom_element).addClass("azexo-editor"),e(o.dom_element).addClass("azexo"),o.show_controls(),o.update_sortable(),o.showed(e,n,a),o}function d(){var e={}
for(var t in vn)if(null!=vn[t]){var n=i(vn[t],!0,gn[t].title)
e[t]=btoa(v(encodeURIComponent(n)))}return e}function c(t,a){e(j).find("a").removeClass(n+"active"),gn[t]={title:a},e('<a href="#" class="'+n+"list-group-item "+n+'active">'+t+"</a>").appendTo(j).click(function(){return e(this).hasClass(n+"active")||(e(j).find("a").removeClass(n+"active"),e(this).addClass(n+"active"),s(e(this).text())),!1})}function m(t){e('<option value="'+t+'">'+t+"</option>").appendTo(Y),e(Y).find('option[value="'+t+'"]').prop("selected","selected"),vn={},gn={},e(j).empty(),vn.index=[]
for(var n=0;n<l.length;n++)vn.index.push(r(l[n].attrs.container))
c("index","Home"),s("index"),e(A).click()}function h(t){U(t,function(a){var i=e.parseJSON(a)
fn=t,vn={},gn=i.pages,yn=i.settings,e(q).empty(),e(q).append(o(yn.theme)),e(j).empty()
for(var d in i.pages){vn[d]=Array(l.length)
for(var p in i.pages[d].containers){var m=r(p)
m.parse_shortcode(decodeURIComponent(v(atob(i.pages[d].containers[p]))))
for(var h=0;h<m.children.length;h++)m.children[h].recursive_render()
e(m.dom_content_element).empty(),m.attach_children(),m.update_empty(),m.update_sortable(),m.to_recursive_showed=!0
for(var h=0;h<l.length;h++)if(l[h].attrs.container==p){vn[d][h]=m
break}}c(d,i.pages[d].title)}s(i.current_page),e(j).find("a").removeClass(n+"active"),e(j).find('a:contains("'+i.current_page+'")').addClass(n+"active"),e("#az-template-elements-welcome").remove(),e("#az-exporter-welcome").remove()})}function u(e,t){for(var n=[],a={},o=0;o<e.length;o++)n.push(it(e[o])),a[e[o].param_name]=e[o].value
at.prototype.show_editor(n,{name:p("Theme"),attrs:a},function(n){for(var a=0;a<e.length;a++)e[a].value=n[e[a].param_name]
t(e)})}function f(e,t){var n=[]
n.push(it({type:"javascript",heading:p("Configuration"),param_name:"configuration",value:e})),at.prototype.show_editor(n,{name:p("Theme configuration"),attrs:{configuration:e}},function(e){t(e.configuration)})}if(0==e("#az-exporter").length){window.links_select=function(e){var t={}
for(var n in gn)null!=gn[n]&&(t[n+".html"]=gn[n].title)
Q(t,e)}
for(var g=0;g<l.length;g++)l[g].saveable=!1,e(l[g].controls).remove(),l[g].show_controls()
hn=e("head").html(),_n=e("body").html(),un=e("body").prop("attributes")
var y=e('<div id="az-exporter" class="az-right-sidebar '+n+'text-center azexo"></div>').appendTo("body"),b=e('<div id="az-exporter-welcome" class="azexo">'+p("Manage and export your site via right panel.")+"</div>").appendTo(y)
e(y).hover(function(){e(b).remove()}),e("<hr>").appendTo(y),e("<h4>"+p("Current site")+"</h4>").appendTo(y)
var w=e('<div class="'+n+'btn-toolbar"></div>').appendTo(y),x=e('<div class="'+n+"btn-group "+n+'btn-group-xs"></div>').appendTo(w),z=e('<div class="'+n+"btn-group "+n+'btn-group-xs"></div>').appendTo(w),k=e('<div class="'+n+"btn-group "+n+'btn-group-xs"></div>').appendTo(w)
e("<hr>").appendTo(y),e('<button class="'+n+"btn "+n+'btn-default">'+p("Add page")+"</button>").appendTo(x).click(function(){var e=window.prompt(p("Please enter page name"),"")
if(""!=e&&null!=e){vn[e]=[]
for(var t=0;t<l.length;t++)vn[e].push(r(l[t].attrs.container))
c(e,e),s(e)}return!1}),e('<button class="'+n+"btn "+n+'btn-danger">'+p("Remove page")+"</button>").appendTo(x).click(function(){if(e(j).find("a").length>1){var t=e(j).find("."+n+"active").text()
e(j).find("."+n+"active").remove()
var a=e(j).find("a:first-child").addClass(n+"active").text()
s(a),delete vn[t],vn[t]=null}return!1}),e('<button class="'+n+"btn "+n+'btn-success">'+p("ZIP download")+"</button>").appendTo(z).click(function(){var e=d()
return azexo_add_js({path:"js/json2.min.js",loaded:"JSON"in window,callback:function(){R(JSON.stringify(e),function(e){e&&(window.location=e)})}}),!1}),e("<h4>"+p("Current site pages")+"</h4>").appendTo(y)
var j=e('<div class="'+n+'list-group"></div>').appendTo(y)
e("<hr>").appendTo(y)
var T=e('<div class="'+n+'text-left"></div>').appendTo(y)
e("<h4>"+p("Current page settings")+"</h4>").appendTo(T)
var C=e('<div class="'+n+'form-group"><label>'+p("File name")+'</label><div><input class="'+n+'form-control" name="name" type="text"></div><p class="'+n+'help-block">'+p('"html"-extension will be added during export process')+"</p></div>").appendTo(T).find('input[name="name"]').change(function(){var t=e(j).find("."+n+"active").text(),a=e(this).val()
vn[a]=vn[t],vn[t]=null,gn[a]=gn[t],gn[t]=null,e(j).find("a."+n+'active:contains("'+t+'")').text(a)
for(var o in vn)if(null!=vn[o])for(var i=0;i<vn[o].length;i++)e(vn[o][i].dom_content_element).find('[href="'+t+'.html"]').each(function(){e(this).attr("href",a+".html")})}),S=e('<div class="'+n+'form-group"><label>'+p("Title")+'</label><div><input class="'+n+'form-control" name="title" type="text"></div><p class="'+n+'help-block">'+p("")+"</p></div>").appendTo(T).find('input[name="title"]').change(function(){var t=e(j).find("."+n+"active").text()
gn[t].title=e(this).val()})
vn.index=l,c("index","Home"),e(C).val("index"),e(S).val("Home")
var O=e('<div class="'+n+"panel "+n+'panel-default"><div class="'+n+'panel-heading" role="tab" id="sites-heading"><h4 class="'+n+'panel-title"><a data-toggle="'+n+'collapse" href="#sites-collapse" aria-expanded="false" class="'+n+'collapsed">'+p("Choose a site for edit")+'</a></h4></div><div id="sites-collapse" class="'+n+"panel-collapse "+n+'collapse" role="tabpanel" aria-labelledby="sites-heading" aria-expanded="false"><div class="'+n+'panel-body"></div></div></div>').prependTo(y).find("."+n+"panel-body")
e("<hr>").appendTo(O)
var I=e('<div class="'+n+"btn-group "+n+'btn-group-xs"></div>').appendTo(O),P=e('<button class="'+n+"btn "+n+'btn-default">'+p("New")+"</button>").appendTo(I).click(function(){var e=window.prompt(p("Please enter site name"),"")
""!=e&&null!=e&&m(e)})
e('<button class="'+n+"btn "+n+'btn-danger">'+p("Delete")+"</button>").appendTo(I).click(function(){L(e(Y).find("option:selected").val()),e(Y).find("option:selected").remove(),e(Y).trigger("change")})
var A=e('<button class="az-save-site '+n+"btn "+n+'btn-primary">'+p("Save")+"</button>").appendTo(z).click(function(){var t={}
t.settings=yn,t.current_page=e(C).val(),t.pages={}
for(var n in vn)if(null!=gn[n]&&null!=vn[n]){t.pages[n]=gn[n],gn[n].containers={}
for(var a=0;a<vn[n].length;a++){var o=vn[n][a].attrs.container
gn[n].containers[o]=btoa(v(encodeURIComponent(vn[n][a].get_children_shortcode())))}}azexo_add_js({path:"js/json2.min.js",loaded:"JSON"in window,callback:function(){N(e(Y).find("option:selected").val(),JSON.stringify(t))}})}),B=!1
e('<button class="az-publish-site '+n+"btn "+n+'btn-success">'+p("FTP upload")+"</button>").appendTo(z).click(function(){if(!B){e("#az-ftp-modal").remove()
var t='<div class="'+n+'modal-header"><button type="button" class="'+n+'close" data-dismiss="'+n+'modal" aria-hidden="true">&times;</button><h4 class="'+n+'modal-title">'+p("FTP upload")+"</h4></div>",o='<div class="'+n+'modal-footer"><button type="button" class="'+n+"btn "+n+'btn-default" data-dismiss="'+n+'modal">'+p("Close")+"</button></div>",i=e('<div id="az-ftp-modal" class="'+n+'modal azexo"><div class="'+n+"modal-dialog "+n+'modal-sm"><div class="'+n+'modal-content">'+t+'<div class="'+n+'modal-body"></div>'+o+"</div></div></div>").prependTo("body"),s=e(i).find("."+n+"modal-body"),r=e('<div class="'+n+'form-group"><label>'+p("Host")+'</label><div><input class="'+n+'form-control" name="host" type="text" value="'+yn.host+'"></div><p class="'+n+'help-block"></p></div>').appendTo(s).find("input"),l=e('<div class="'+n+'form-group"><label>'+p("Username")+'</label><div><input class="'+n+'form-control" name="username" type="text" value="'+yn.username+'"></div><p class="'+n+'help-block"></p></div>').appendTo(s).find("input"),c=e('<div class="'+n+'form-group"><label>'+p("Password")+'</label><div><input class="'+n+'form-control" name="password" type="password" value="'+yn.password+'"></div><p class="'+n+'help-block"></p></div>').appendTo(s).find("input"),m=e('<div class="'+n+'form-group"><label>'+p("Port")+'</label><div><input class="'+n+'form-control" name="port" type="text" value="'+yn.port+'"></div><p class="'+n+'help-block"></p></div>').appendTo(s).find("input"),h=e('<div class="'+n+'form-group"><label>'+p("Directory")+'</label><div><input class="'+n+'form-control" name="directory" type="text" value="'+yn.directory+'"></div><p class="'+n+'help-block"></p></div>').appendTo(s).find("input"),u=e('<button class="'+n+"btn "+n+'btn-primary">'+p("Choose upload directory")+"</button>").appendTo(s).click(function(){function t(a,o){if(e(f).empty().show(),e(y).empty().hide(),e(h).val(a),yn.directory=a,"."!=a){var i=a.split("/")
i.pop()
var s=i.join("/")
e('<li class="az-directory">'+p("< Up one level")+"</li>").appendTo(f).click(function(){E(yn.host,yn.username,yn.password,yn.port,s,function(e){t(s,e)})})
for(var r=0;r<o.length;r++)o[r]=o[r].replace(a+"/","")}for(var r=0;r<o.length;r++){var l=a+"/"+o[r]
!function(a){e('<li class="'+n+"glyphicon "+n+'glyphicon-folder-close">'+o[r]+"</li>").appendTo(f).click(function(){E(yn.host,yn.username,yn.password,yn.port,a,function(e){t(a,e)})})}(l)}}yn.host=e(r).val(),yn.username=e(l).val(),yn.password=e(c).val(),yn.port=e(m).val(),E(yn.host,yn.username,yn.password,yn.port,yn.directory,function(n){_.isArray(n)?(e(u).hide(),t(yn.directory,n)):alert(n)})})
e(s).find("input").change(function(){yn.host=e(r).val(),yn.username=e(l).val(),yn.password=e(c).val(),yn.port=e(m).val(),yn.directory=e(h).val(),""!=yn.host&&""!=yn.username&&""!=yn.password&&""!=yn.port?(e(u).show(),e(v).show()):(e(u).hide(),e(v).hide())})
var f=e('<ul class="az-browser"></ul>').appendTo(s).hide()
e("<hr>").appendTo(s)
var v=e('<button class="'+n+"btn "+n+'btn-success">'+p("Upload current site")+"</button>").appendTo(s).click(function(){var t=d()
e(f).empty().hide(),e(y).empty().show(),azexo_add_js({path:"js/json2.min.js",loaded:"JSON"in window,callback:function(){var a=0,o=function(t){if(t.errors.length>0){for(var i=0;i<t.errors.length;i++)e(y).append('<div class="'+n+"alert "+n+'alert-danger" >'+t.errors[i]+"</div>")
B=!1}else t.uploaded.length>0&&e(y).append('<div class="'+n+"alert "+n+'alert-info">'+t.uploaded[0]+" uploaded</div>"),t.count>0?(0==a&&(a=t.count),e(g).show().find("."+n+"progress-bar").css("width",(a-t.count)/a*100+"%"),B=!0,M(JSON.stringify({}),t.site_path,JSON.stringify(t.files),yn.host,yn.username,yn.password,yn.port,yn.directory,o)):(e(g).show().find("."+n+"progress-bar").css("width","100%"),e(y).append('<div class="'+n+"alert "+n+'alert-success">'+p("Done")+"</div>"),B=!1)}
B=!0,M(JSON.stringify(t),"",JSON.stringify([]),yn.host,yn.username,yn.password,yn.port,yn.directory,o)}})})
e(s).find("input").trigger("change"),e("<hr>").appendTo(s)
var g=e('<div class="'+n+'progress"><div class="'+n+'progress-bar" role="progressbar"></div></div>').appendTo(s).hide(),y=e('<div class="az-messages"></div>').appendTo(s).hide()}e("#az-ftp-modal")[a+"modal"]("show")})
var Y=e('<select class="'+n+'form-control"></select>').prependTo(O).change(function(){h(e(this).find("option:selected").val())})
D(function(t){for(var n=0;n<t.length;n++)e('<option value="'+t[n]+'">'+t[n]+"</option>").appendTo(Y)
var a="My site"
e(Y).find("option:selected").length>0&&(a=e(Y).find("option:selected").val())
for(var o=window.location.search.replace("?","").split("&"),n=0;n<o.length;n++){var i=o[n].split("=")
"current_site"==i[0]&&(a=decodeURIComponent(i[1]))}"create-new-site"==a?e(P).click():0==e(Y).find('[value="'+a+'"]').length?m(a):(e(Y).find('option[value="'+a+'"]').prop("selected","selected"),h(a))})
var q=e("<div></div>").appendTo(y)
e('<button class="az-theme-settings '+n+"btn "+n+'btn-default">'+p("Theme")+"</button>").appendTo(k).click(function(){return u(yn.theme,function(t){yn.theme=t,e(q).empty(),e(q).append(o(yn.theme))}),!1}),e('<button class="'+n+"btn "+n+'btn-default">'+p("Configuration")+"</button>").appendTo(k).click(function(){return azexo_add_js({path:"js/json2.min.js",loaded:"JSON"in window,callback:function(){var t=JSON.stringify(yn.theme,null,"	")
f(t,function(t){yn.theme=e.parseJSON(t),e(q).empty(),e(q).append(o(yn.theme))})}}),!1}),window.azexo_editor||e(y).hide()}}window.azexo_backend=!0
var $t=(""+arguments.callee).replace(/((\/\/.*$)|(\/\*[\s\S]*?\*\/)|(\s))/gm,"").match(/^function\s*[^\(]*\(\s*([^\)]*)\)/m)[1].split(/,/),Xt=$t[0],Wt=$t[1],Vt=$t[2],Gt=$t[3],Qt=$t[4],Zt=$t[5],Kt=$t[6],en=$t[7],tn=$t[8],nn=$t[9]
"azexo_prefix"in window&&(n=window.azexo_prefix,a=window.azexo_prefix.replace("-","_")),window.azexo_title={"Drag and drop":p("Drag and drop element."),Add:p("Add new element into current element area."),Edit:p("Open settings form to change element properties, set CSS styles and add CSS classes."),Paste:p("Paste elements into current element area from clipboard copied into it before."),Copy:p("Copy element or contained elements to clipboard."),Clone:p("Clone current element."),Remove:p("Delete current element"),"Save as template":p("Save element or contained elements as template to template library."),"Save container":p("Save to server all elements which placed in current container element.")}
var an={}
an.shortcode={next:function(e,t,n){var a,o,i=an.shortcode.regexp(e)
return i.lastIndex=n||0,(a=i.exec(t))?"["===a[1]&&"]"===a[7]?an.shortcode.next(e,t,i.lastIndex):(o={index:a.index,content:a[0],shortcode:an.shortcode.fromMatch(a)},a[1]&&(o.match=o.match.slice(1),o.index++),a[7]&&(o.match=o.match.slice(0,-1)),o):void 0},replace:function(e,t,n){return t.replace(an.shortcode.regexp(e),function(e,t,a,o,i,s,r,l){if("["===t&&"]"===l)return e
var d=n(an.shortcode.fromMatch(arguments))
return d?t+d+l:e})},string:function(e){return new an.shortcode(e).string()},regexp:_.memoize(function(e){return RegExp("\\[(\\[?)("+e+")(?![\\w-])([^\\]\\/]*(?:\\/(?!\\])[^\\]\\/]*)*?)(?:(\\/)\\]|\\](?:([^\\[]*(?:\\[(?!\\/\\2\\])[^\\[]*)*)(\\[\\/\\2\\]))?)(\\]?)","g")}),attrs:_.memoize(function(e){var t,n,a={},o=[]
for(t=/(\w+)\s*=\s*"([^"]*)"(?:\s|$)|(\w+)\s*=\s*\'([^\']*)\'(?:\s|$)|(\w+)\s*=\s*([^\s\'"]+)(?:\s|$)|"([^"]*)"(?:\s|$)|(\S+)(?:\s|$)/g,e=e.replace(/[\u00a0\u200b]/g," ");n=t.exec(e);)n[1]?a[n[1].toLowerCase()]=n[2]:n[3]?a[n[3].toLowerCase()]=n[4]:n[5]?a[n[5].toLowerCase()]=n[6]:n[7]?o.push(n[7]):n[8]&&o.push(n[8])
return{named:a,numeric:o}}),fromMatch:function(e){var t
return t=e[4]?"self-closing":e[6]?"closed":"single",new an.shortcode({tag:e[2],attrs:e[3],type:t,content:e[5]})}},an.shortcode=_.extend(function(e){_.extend(this,_.pick(e||{},"tag","attrs","type","content"))
var t=this.attrs
this.attrs={named:{},numeric:[]},t&&(_.isString(t)?this.attrs=an.shortcode.attrs(t):_.isEqual(_.keys(t),["named","numeric"])?this.attrs=t:_.each(e.attrs,function(e,t){this.set(t,e)},this))},an.shortcode),_.extend(an.shortcode.prototype,{get:function(e){return this.attrs[_.isNumber(e)?"numeric":"named"][e]},set:function(e,t){return this.attrs[_.isNumber(e)?"numeric":"named"][e]=t,this},string:function(){var e="["+this.tag
return _.each(this.attrs.numeric,function(t){e+=/\s/.test(t)?' "'+t+'"':" "+t}),_.each(this.attrs.named,function(t,n){e+=" "+n+'="'+t+'"'}),"single"===this.type?e+"]":"self-closing"===this.type?e+" /]":(e+="]",this.content&&(e+=this.content),e+"[/"+this.tag+"]")}}),an.html=_.extend(an.html||{},{attrs:function(e){var t,n
return"/"===e[e.length-1]&&(e=e.slice(0,-1)),t=an.shortcode.attrs(e),n=t.named,_.each(t.numeric,function(e){/\s/.test(e)||(n[e]="")}),n},string:function(e){var t="<"+e.tag,n=e.content||""
return _.each(e.attrs,function(e,n){t+=" "+n,""!==e&&(_.isBoolean(e)&&(e=e?"true":"false"),t+='="'+e+'"')}),e.single?t+" />":(t+=">",t+=_.isObject(n)?an.html.string(n):n,t+"</"+e.tag+">")}})
var on=(_.memoize(function(e){return RegExp("(\\[(\\[?)["+e+"]+(?![\\w-])[^\\]\\/]*[\\/(?!\\])[^\\]\\/]*]?(?:\\/]\\]|\\](?:[^\\[]*(?:\\[(?!\\/"+e+"\\])[^\\[]*)*\\[\\/"+e+"\\])?)\\]?)","g")}),_.memoize(function(e){return RegExp("\\[(\\[?)("+e+")(?![\\w-])([^\\]\\/]*(?:\\/(?!\\])[^\\]\\/]*)*?)(?:(\\/)\\]|\\](?:([^\\[]*(?:\\[(?!\\/\\2\\])[^\\[]*)*)(\\[\\/\\2\\]))?)(\\]?)")}))
if(e.fn.closest_descendents=function(t){for(var n=e(),a=this;a.length;)n=e.merge(n,a.filter(t)),a=a.not(t),a=a.children()
return n},at.prototype={safe:!0,param_types:{},show_editor:function(t,o,i){e("#az-editor-modal").remove()
for(var r='<div class="'+n+'modal-header"><button type="button" class="'+n+'close" data-dismiss="'+n+'modal" aria-hidden="true">&times;</button><h4 class="'+n+'modal-title">'+o.name+" "+p("settings")+"</h4></div>",l='<div class="'+n+'modal-footer"><button type="button" class="'+n+"btn "+n+'btn-default" data-dismiss="'+n+'modal">'+p("Close")+'</button><button type="button" class="save '+n+"btn "+n+'btn-primary">'+p("Save changes")+"</button></div>",d=e('<div id="az-editor-modal" class="'+n+'modal azexo"><div class="'+n+"modal-dialog "+n+'modal-lg"><div class="'+n+'modal-content">'+r+'<div class="'+n+'modal-body"></div>'+l+"</div></div></div>").prependTo("body"),c={},m=0;m<t.length;m++)t[m].hidden||(t[m].element=o,t[m].tab in c?c[t[m].tab].push(t[m]):c[t[m].tab]=[t[m]])
var h=e('<div id="az-editor-tabs"></div>'),m=0,u='<ul class="'+n+"nav "+n+'nav-tabs">'
for(var f in c)m++,""===f&&(f=p("General")),u+='<li><a href="#az-editor-tab-'+m+'" data-toggle="'+n+'tab">'+f+"</a></li>"
u+="</ul>",e(h).append(u),m=0
var v=e('<form role="form" class="'+n+'tab-content"></form>')
for(var f in c){m++
for(var g=e('<div id="az-editor-tab-'+m+'" class="'+n+'tab-pane"></div>'),y=0;y<c[f].length;y++)c[f][y].render(o.attrs[c[f][y].param_name]),e(g).append(c[f][y].dom_element)
e(v).append(g)}e(h).append(v),e(d).find("."+n+"modal-body").append(h),e('#az-editor-tabs a[href="#az-editor-tab-1"]')[a+"tab"]("show"),e('#az-editor-modal input[name="el_class"]').each(function(){Z(ct.prototype.el_classes,this," ")})
for(var m=0;m<t.length;m++)if("element"in t[m].dependency){for(var b=null,y=0;y<t.length;y++)if(t[y].param_name===t[m].dependency.element){b=t[y]
break}"is_empty"in t[m].dependency&&!function(n,a){e(a.dom_element).find('[name="'+a.param_name+'"]').on("keyup change",function(){""===a.get_value()?(t[n].display_none=!1,e(t[n].dom_element).css("display","block"),"callback"in t[n].dependency&&t[n].dependency.callback.call(t[n],a)):(t[n].display_none=!0,e(t[n].dom_element).css("display","none"))}).trigger("change")}(m,b),"not_empty"in t[m].dependency&&!function(n,a){e(a.dom_element).find('[name="'+a.param_name+'"]').on("keyup change",function(){""!==a.get_value()?(t[n].display_none=!1,e(t[n].dom_element).css("display","block"),"callback"in t[n].dependency&&t[n].dependency.callback.call(t[n],a)):(t[n].display_none=!0,e(t[n].dom_element).css("display","none"))}).trigger("change")}(m,b),"value"in t[m].dependency&&!function(n,a){e(a.dom_element).find('[name="'+a.param_name+'"]').on("keyup change",function(){_.indexOf(t[n].dependency.value,a.get_value())>=0?(t[n].display_none=!1,e(t[n].dom_element).css("display","block"),"callback"in t[n].dependency&&t[n].dependency.callback.call(t[n],a)):(t[n].display_none=!0,e(t[n].dom_element).css("display","none"))}).trigger("change")}(m,b)}e("#az-editor-modal").one("shown."+a+"bs.modal",function(){for(var e=0;e<t.length;e++)t[e].hidden||t[e].opened()}),e("#az-editor-modal").one("hidden."+a+"bs.modal",function(){for(var n=0;n<t.length;n++)t[n].closed()
e(window).scrollTop(w),e(window).off("scroll.az-editor-modal")}),e("#az-editor-modal").find(".save").click(function(){for(var n={},s=0;s<t.length;s++)if(!t[s].hidden&&((!("display_none"in t[s])||"display_none"in t[s]&&!t[s].display_none)&&(n[t[s].param_name]=t[s].get_value()),t[s].required&&""==n[t[s].param_name]))return e(t[s].dom_element).addClass("has-error"),!1
return e("#az-editor-modal")[a+"modal"]("hide"),i.call(o,n),!1}),e("#az-editor-modal").find('[data-dismiss="'+n+'modal"]').click(function(){s.edit_stack=[]})
var w=e(window).scrollTop()
e(window).on("scroll.az-editor-modal",function(){e(window).scrollTop(w)}),e("#az-editor-modal")[a+"modal"]("show")},opened:function(){},closed:function(){},render:function(){}},ot("container",st),Y(st.prototype,{get_value:function(){return e(this.dom_element).find('input[name="'+this.param_name+'_type"]').val()+"/"+e(this.dom_element).find('input[name="'+this.param_name+'_name"]').val()},render:function(t){var a=t.split("/")[0],o=t.split("/")[1]
this.dom_element=e('<div class="'+n+'form-group"><label>'+this.heading+"</label><div><label>"+p("Type")+'</label><input class="'+n+'form-control" name="'+this.param_name+'_type" type="text" value="'+a+'"></div><div><label>'+p("Name")+'</label><input class="'+n+'form-control" name="'+this.param_name+'_name" type="text" value="'+o+'"></div><p class="'+n+'help-block">'+this.description+"</p></div>")},opened:function(){var t=this.get_value(),n=null,a=null,o=this
u(function(t){n=Q(t,e(o.dom_element).find('input[name="'+o.param_name+'_type"]')),e(n).chosen().change(function(){f(e(this).val(),function(t){e(a).parent().find(".direct-input").click(),e(o.dom_element).find('input[name="'+o.param_name+'_name"]').val(""),a=Q(t,e(o.dom_element).find('input[name="'+o.param_name+'_name"]'))})})}),f(t.split("/")[0],function(t){a=Q(t,e(o.dom_element).find('input[name="'+o.param_name+'_name"]'))})}}),e.fn.deserialize=function(t){var n=e(this),a={}
return e.each(t.split("&"),function(){var e=this.split("="),t=$(e[0]),n=e.length>1?$(e[1]):null
t in a||(a[t]=[]),a[t].push(n)}),e.each(a,function(e,t){n.find("[name='"+e+"']").val(t[0].replace(/\+/g," ")),"on"==t[0].replace(/\+/g," ")&&n.find("[type='checkbox'][name='"+e+"']").attr("checked","checked"),n.find("select[name='"+e+"'] > option").removeAttr("selected")
for(var a=0;a<t.length;a++)n.find("select[name='"+e+"'] > option[value='"+t[a]+"']").prop("selected","selected")}),e("input:checkbox:checked,input:radio:checked").each(function(){e(this).attr("name")in a||(this.checked=!1)}),this},ot("cms_settings",lt),Y(lt.prototype,{get_value:function(){return e(this.dom_element).find("form").serialize()},render_form:function(t){var n=this
x(t,function(t){e(n.dom_element).empty(),e(t).appendTo(n.dom_element),e(n.dom_element).find('[type="submit"]').remove(),n.form_value.length>0&&e(n.dom_element).deserialize(rt(n.form_value))})},get_form:function(e){var t=e.get_value()
t.length>0&&this.render_form(t)},render:function(t){this.form_value=t,this.dom_element=e('<div class="'+n+'form-group"></div>')},opened:function(){"instance"in this&&this.render_form(this.instance)}}),"azexo_param_types"in window)for(var sn=0;sn<window.azexo_param_types.length;sn++){var rn=window.azexo_param_types[sn],ln=function(){ln.baseclass.apply(this,arguments)}
ot(rn.type,ln),rn.baseclass=ln.baseclass,Y(ln.prototype,rn)}window.azexo_add_css=function(t,n){var a=window.azexo_baseurl+t
if(e('link[href*="'+a+'"]').length||"azexo_exported"in window)return void n()
var o=document.getElementsByTagName("head")[0],i=document.createElement("link")
i.rel="stylesheet",i.type="text/css",i.href=a,i.onload=n,o.appendChild(i)},window.azexo_add_js_list=function(e){if("loaded"in e&&e.loaded)e.callback()
else for(var t=0,n=0;n<e.paths.length;n++)azexo_add_js({path:e.paths[n],callback:function(){t++,t==e.paths.length&&e.callback()}})},window.azexo_add_js=function(e){"loaded"in e&&e.loaded||"azexo_exported"in window?e.callback():azexo_add_external_js(window.azexo_baseurl+e.path,"callback"in e?e.callback:function(){})},window.azexo_add_external_js=function(e,t){if(e in o)return void o[e].push(t)
if(e in i)return void t()
o[e]=[t]
var n=document.getElementsByTagName("head")[0],a=document.createElement("script")
a.type="text/javascript",a.src=e,a.onload=function(){for(i[e]=!0;e in o;){var t=o[e]
o[e]=void 0,delete o[e]
for(var n=0;n<t.length;n++)t[n]()}},n.appendChild(a)},Y(dt.prototype,{elements_instances:{},elements_instances_by_an_name:{},template_elements_loaded:!1,cms_elements_loaded:!1,edit_stack:[],try_render_unknown_elements:function(){if(this.template_elements_loaded&&this.cms_elements_loaded)for(var t in s.elements_instances){var n=s.elements_instances[t]
if(n instanceof mt){var a=n.attrs.content,o=/^\s*\<[\s\S]*\>\s*$/.exec(a)
o?ct.prototype.parse_html.call(n,a):ct.prototype.parse_shortcode.call(n,a)
for(var i=0;i<n.children.length;i++)n.children[i].recursive_render()
e(n.dom_content_element).empty(),n.attach_children(),window.azexo_editor&&n.update_sortable(),n.recursive_showed()}}},create_template_elements:function(t){var a={"link[href]":"href","script[src]":"src","img[src]":"src"}
"azexo_urls_to_update"in window&&(a=e.extend(a,window.azexo_urls_to_update))
var o=[]
"azexo_editable"in window&&(o=window.azexo_editable)
var i=[]
"azexo_styleable"in window&&(i=window.azexo_styleable)
var r=[]
"azexo_sortable"in window&&(r=window.azexo_sortable)
var d=[]
"azexo_synchronizable"in window&&(d=window.azexo_synchronizable)
var c=[]
"azexo_restoreable"in window&&(c=window.azexo_restoreable)
var m=[]
"azexo_containable"in window&&(m=window.azexo_containable)
var h=at.prototype.param_types.icon.prototype.icons.map(function(e){return e.replace(/^/,".").replace(/ /,".")}),u=h.join(", ")
for(var f in t){var v=t[f].name,g=t[f].html,y=""
"thumbnail"in t[f]&&(y=t[f].thumbnail)
var b=g.indexOf("az-rootable")>=0,w=function(){function t(t){function o(e){return 0==e.indexOf("azexo_elements")?window.azexo_baseurl+"../"+e:0!=e.indexOf("/")&&0!=e.indexOf("http://")&&0!=e.indexOf("https://")?window.azexo_baseurl+"../azexo_elements/"+i+"/"+e:e}var i=n.path.split("|")
i.pop(),i=i.join("/")
for(var s in a){var r=a[s]
e(t).find(s).each(function(){e(this).attr(r,o(e(this).attr(r)))})}e(t).find("[data-az-url]").each(function(){var t=e(this).attr("data-az-url")
e(this).attr(t,o(e(this).attr(t)))}),e(t).find('[style*="background-image"]').each(function(){var t=e(this).attr("style").replace(/background-image[: ]*url\(([^\)]+)\) *;/,function(e,t){return e.replace(t,encodeURI(o(decodeURI(t))))})
e(this).attr("style",t)})}for(var n=this,o=0;o<this.baseclass.prototype.params.length;o++)if("content"==this.baseclass.prototype.params[o].param_name&&""==this.baseclass.prototype.params[o].value){if("ajaxurl"in window){var i=e("<div>"+n.template+"</div>")
t(i),i=e(i).html(),this.baseclass.prototype.params[o].value=i}break}ct.apply(this,arguments)}
pt(v,!1,w),Y(w.prototype,{baseclass:w,template:g,path:f,name:v,icon:"fa fa-cube",description:p(""),thumbnail:y,params:[it({type:"html",heading:p("Content"),param_name:"content",value:""})].concat(w.prototype.params),show_settings_on_create:!1,is_container:!0,has_content:!0,section:b,category:p("Template-elements"),is_template_element:!0,editable:[".az-editable"].concat(o),styleable:[".az-styleable"].concat(i),sortable:[".az-sortable"].concat(r),synchronizable:[".az-synchronizable"].concat(d),restoreable:[".az-restoreable"].concat(c),containable:[".az-containable"].concat(m),restore_nodes:{},contained_elements:{},show_controls:function(){function t(t,n,a,i){var s=[],r="",c="",m="",_=e.trim(e(t).text())
if(""!=_&&(_=e(t).html()),n){if(e(t).is(u)){for(var f=0;f<h.length;f++)if(e(t).is(h[f])){m=h[f].split("."),m.shift(),m=m.join(" ")
break}s.push(it({type:"icon",heading:p("Icon"),param_name:"icon"}))}"IMG"!=e(t).prop("tagName")?""!=_&&s.push(it({type:"textarea",heading:p("Content"),param_name:"content"})):(r=e(t).attr("src"),s.push(it({type:"image",heading:p("Image"),param_name:"image",description:p("Select image from media library.")}))),"A"==e(t).prop("tagName")&&(c=e(t).attr("href"),s.push(it({type:"link",heading:p("Link"),param_name:"link",description:p("Content link (url).")})))}if(a){s.push(it({type:"textfield",heading:p("Content classes"),param_name:"el_class",description:p("If you wish to style particular content element differently, then use this field to add a class name and then refer to it in your css file.")}))
var v=it({type:"style",heading:p("Content style"),param_name:"style",description:p("Style options."),tab:p("Style")})
n?s.push(v):s.unshift(v)}e(t).removeClass("editable-highlight"),e(t).removeClass("styleable-highlight"),e(t).removeClass(m)
var g=e(t).attr("class")
e(t).addClass(m),(void 0===g||g===!1)&&(g="")
var y=""
for(var b in t.style)e.isNumeric(b)&&(y=y+t.style[b]+": "+t.style.getPropertyValue(t.style[b])+"; ")
y=H(y),y=y.replace(/\-value\: /g,": "),y=y.replace("border-top-color","border-color"),y=y.replace("border-top-left-radius","border-radius"),y=y.replace("border-top-style","border-style"),at.prototype.show_editor(s,{name:p("Content"),attrs:{content:_,link:c,image:r,el_class:g,style:y,icon:m}},function(s){n&&(""!=m&&(e(t).removeClass(m),s.el_class=s.el_class+" "+s.icon),"A"==e(t).prop("tagName")&&e(t).attr("href",s.link),"IMG"==e(t).prop("tagName")?e(t).attr("src",s.image):""!=_&&""!=s.content&&e(t).html(s.content)),a&&(e(t).attr("class",s.el_class),e(t).attr("style",s.style)),d.attrs.content=e(d.dom_content_element).html(),d.restore_content(),o(),l(),i()})}function a(t){var n=e(t).clone()
e(n).find("[class]").removeAttr("class"),e(n).find("[style]").removeAttr("style")
var a=e(n).html()
return a=a.replace(/\s*/g,"")}function o(){i()
for(var t=0;t<d.synchronizable.length;t++)e(d.dom_content_element).find(d.synchronizable[t]).each(function(){if(0==e(this).closest("[data-az-restore]").length){e(this).find(".editable-highlight").removeClass("editable-highlight"),e(this).find(".styleable-highlight").removeClass("styleable-highlight"),e(this).find(".sortable-highlight").removeClass("sortable-highlight"),e(this).find('[class=""]').removeAttr("class"),e(this).find('[style=""]').removeAttr("style")
var t=e(this).data("synchronized")
if(t)for(var n=0;n<t.length;n++)e(t[n]).html(e(this).html())
e(this).data("current-state")?e(document).trigger("azexo_synchronize",{from_node:this,old_state:e(this).data("current-state"),new_state:e(this).html()}):e(document).trigger("azexo_synchronize",{from_node:this,old_state:a(this),new_state:e(this).html()}),e(this).data("current-state",a(this)),d.attrs.content=e(d.dom_content_element).html(),d.restore_content()}})
l()}function i(){for(var t=0;t<d.sortable.length;t++)e(d.dom_content_element).find(d.sortable[t]).each(function(){e(this).hasClass("ui-sortable")&&e(this).data("sortable")&&(e(this).data("sortable",!1),e(this).sortable("destroy"),e(this).find(".ui-sortable-handle").removeClass("ui-sortable-handle"))})}function r(){for(var t=0;t<d.sortable.length;t++)e(d.dom_element).find(d.sortable[t]).each(function(){0==e(this).closest("[data-az-restore]").length&&(e(this).data("sortable",!0),e(this).sortable({items:"> *",placeholder:"az-sortable-placeholder",forcePlaceholderSize:!0,start:function(t,n){e(n.item).removeClass("sortable-highlight").find(".az-sortable-controls").remove()},update:function(){d.attrs.content=e(d.dom_content_element).html(),d.restore_content(),o()},over:function(e,t){t.placeholder.attr("class",t.helper.attr("class")),t.placeholder.removeClass("ui-sortable-helper"),t.placeholder.addClass("az-sortable-placeholder")}}))})}function l(){function t(t){if(e(t).hasClass("sortable-highlight")){e(t).find(".az-sortable-controls").remove()
var a=e('<div class="az-sortable-controls"></div>').appendTo(t),s=e('<div class="az-sortable-clone '+n+"glyphicon "+n+'glyphicon-repeat" title="'+p("Clone")+'"></div>').appendTo(a).click(function(){return i(),e(t).removeClass("sortable-highlight").find(".az-sortable-controls").remove(),e(t).clone().insertAfter(t),d.attrs.content=e(d.dom_content_element).html(),d.restore_content(),o(),l(),!1})
e(s).css("line-height",e(s).height()+"px").css("font-size",e(s).height()/2+"px")
var r=e('<div class="az-sortable-remove '+n+"glyphicon "+n+'glyphicon-remove" title="'+p("Remove")+'"></div>').appendTo(a).click(function(){return i(),e(t).removeClass("sortable-highlight").find(".az-sortable-controls").remove(),e(t).remove(),d.attrs.content=e(d.dom_content_element).html(),d.restore_content(),o(),l(),!1})
e(r).css("line-height",e(r).height()+"px").css("font-size",e(r).height()/2+"px")}}for(var a=0;a<d.restoreable.length;a++)e(d.dom_element).find(d.restoreable[a]).off("mouseenter.az-restoreable").on("mouseenter.az-restoreable",function(){e(this).addClass("restoreable-highlight")}),e(d.dom_element).find(d.restoreable[a]).off("mouseleave.az-restoreable").on("mouseleave.az-restoreable",function(){e(this).removeClass("restoreable-highlight")}),e(d.dom_element).find(d.restoreable[a]).off("click.az-restoreable").on("click.az-restoreable",function(){if(e(this).is("[data-az-restore]")){var t=[]
t.push(it({type:"html",heading:p("HTML"),param_name:"html"}))
var n=e(this).attr("data-az-restore"),a=d.restore_nodes[n]
return at.prototype.show_editor(t,{name:p("Content"),attrs:{html:a}},function(e){d.restore_nodes[n]=e.html,d.restore_content(),d.update_dom(),o()}),!1}})
for(var a=0;a<d.styleable.length;a++)e(d.dom_element).find(d.styleable[a]).off("mouseenter.az-styleable").on("mouseenter.az-styleable",function(){0==e(this).closest("[data-az-restore]").length&&e(this).addClass("styleable-highlight")}),e(d.dom_element).find(d.styleable[a]).off("mouseleave.az-styleable").on("mouseleave.az-styleable",function(){0==e(this).closest("[data-az-restore]").length&&e(this).removeClass("styleable-highlight")}),e(d.dom_element).find(d.styleable[a]).off("click.az-styleable").on("click.az-styleable",function(){if(0==e(this).closest("[data-az-restore]").length){if(0==e(this).parent().closest(".styleable-highlight, .editable-highlight").length)return s.edit_stack.push({node:this,edit:!1,style:!0}),c(),!1
s.edit_stack.push({node:this,edit:!1,style:!0})}})
for(var a=0;a<d.editable.length;a++)e(d.dom_element).find(d.editable[a]).off("mouseenter.az-editable").on("mouseenter.az-editable",function(){0==e(this).closest("[data-az-restore]").length&&e(this).addClass("editable-highlight")}),e(d.dom_element).find(d.editable[a]).off("mouseleave.az-editable").on("mouseleave.az-editable",function(){0==e(this).closest("[data-az-restore]").length&&e(this).removeClass("editable-highlight")}),e(d.dom_element).find(d.editable[a]).off("click.az-editable").on("click.az-editable",function(){if(0==e(this).closest("[data-az-restore]").length){if(0==e(this).parent().closest(".styleable-highlight, .editable-highlight").length)return s.edit_stack.push({node:this,edit:!0,style:!0}),c(),!1
s.edit_stack.push({node:this,edit:!0,style:!0})}})
var m=[],h=null,_=null
e(d.dom_element).off("mousemove.az-able").on("mousemove.az-able",function(){null!=h&&e(h).hasClass("sortable-highlight")&&(clearTimeout(_),_=setTimeout(function(){t(h)},1e3))})
for(var a=0;a<d.sortable.length;a++)!function(n){e(d.dom_element).find(d.sortable[n]).find("> *").off("mouseenter.az-sortable").on("mouseenter.az-sortable",function(){if(0==e(this).closest("[data-az-restore]").length){var n=this
e(d.dom_element).find(".az-sortable-controls").remove(),e(d.dom_element).find(".sortable-highlight").removeClass("sortable-highlight"),null!==h&&clearTimeout(_),e(n).addClass("sortable-highlight"),m.push(n),h=n,_=setTimeout(function(){t(n)},1e3)}}),e(d.dom_element).find(d.sortable[n]).find("> *").off("mouseleave.az-sortable").on("mouseleave.az-sortable",function(){if(0==e(this).closest("[data-az-restore]").length){var n=this
e(d.dom_element).find(".az-sortable-controls").remove(),e(d.dom_element).find(".sortable-highlight").removeClass("sortable-highlight"),null!==h&&clearTimeout(_),m.pop(),m.length>0?(n=m[m.length-1],e(n).addClass("sortable-highlight"),h=n,_=setTimeout(function(){t(n)},1e3)):h=null}})}(a)
r()}if(window.azexo_editor){var d=this
ct.prototype.show_controls.apply(this,arguments)
var c=function(){if(s.edit_stack.length>0){var n=s.edit_stack.shift()
e(n.node).css("outline-width","2px"),e(n.node).css("outline-style","dashed")
var a=setInterval(function(){"rgb(255, 0, 0)"!=e(n.node).css("outline-color")?e(n.node).css("outline-color","rgb(255, 0, 0)"):e(n.node).css("outline-color","rgb(255, 255, 255)")},100)
setTimeout(function(){clearInterval(a),e(n.node).css("outline-color",""),e(n.node).css("outline-width",""),e(n.node).css("outline-style",""),t(n.node,n.edit,n.style,function(){if(s.edit_stack.length>0){var t=e(n.node).width()*e(n.node).height(),a=e(s.edit_stack[0].node).width()*e(s.edit_stack[0].node).height()
2>a/t?c():s.edit_stack=[]}})},500)}}
e(document).on("azexo_synchronize",function(t,n){i()
for(var o=0;o<d.synchronizable.length;o++)e(d.dom_content_element).find(d.synchronizable[o]).each(function(){if(0==e(this).closest("[data-az-restore]").length&&(e(this).find(".editable-highlight").removeClass("editable-highlight"),e(this).find(".styleable-highlight").removeClass("styleable-highlight"),e(this).find(".sortable-highlight").removeClass("sortable-highlight"),e(this).find('[class=""]').removeAttr("class"),e(this).find('[style=""]').removeAttr("style"),this!=n.from_node&&a(this)==n.old_state)){var t=e(n.from_node).data("synchronized")
t||(t=[]),t.push(this),t=e.unique(t),e(n.from_node).data("synchronized",t),t=e(this).data("synchronized"),t||(t=[]),t.push(n.from_node),t=e.unique(t),e(this).data("synchronized",t),e(this).html(n.new_state),d.attrs.content=e(d.dom_content_element).html(),d.restore_content()}})
l()}),l(),o()}},restore_content:function(){var t=e("<div>"+this.attrs.content+"</div>")
for(var n in this.restore_nodes)e(t).find('[data-az-restore="'+n+'"]').html(this.restore_nodes[n])
e(document).trigger("azexo_restore",{dom:t}),this.attrs.content=e(t).html()},restore:function(){ct.prototype.restore.apply(this,arguments)
for(var t in this.restore_nodes)e(this.dom_element).find('[data-az-restore="'+t+'"]').html(this.restore_nodes[t])
e(document).trigger("azexo_restore",{dom:this.dom_element}),e(this.dom_element).find("[data-az-restore]").removeAttr("data-az-restore")},showed:function(e,t){ct.prototype.showed.apply(this,arguments)
var n=this
if(n.section){var a=e(n.dom_element).parent().closest("."+t+"container, ."+t+"container-fluid"),o=e(n.dom_element).parentsUntil("."+t+"container, ."+t+"container-fluid"),i=e(n.dom_element).parent().closest(".az-popup-ctnr"),s=e(n.dom_element).parentsUntil(".az-popup-ctnr");(a.length>0&&0==i.length||a.length>0&&i.length>0&&o.length<s.length)&&e(n.dom_content_element).find("."+t+"container, ."+t+"container-fluid").each(function(){e(this).removeClass(t+"container"),e(this).removeClass(t+"container-fluid"),n.attrs.content=e(n.dom_content_element).html(),n.restore_content(),n.section=!1})}},render:function(e){var t=this
this.dom_element=e('<div class="az-element az-template '+this.attrs.el_class+'" style="'+this.attrs.style+'"></div>'),this.dom_content_element=e("<div></div>").appendTo(this.dom_element)
var n="<div>"+this.attrs.content+"</div>"
n=e(n),t.restore_nodes={}
for(var a=0;a<this.restoreable.length;a++)e(n).find(this.restoreable[a]).each(function(){var n=_.uniqueId("r")
e(this).attr("data-az-restore",n),t.restore_nodes[n]=e(this).html()})
this.attrs.content=e(n).html(),e(this.attrs.content).appendTo(this.dom_content_element),ct.prototype.render.apply(this,arguments)}})}this.template_elements_loaded=!0,qt(),this.try_render_unknown_elements(),e(function(){function a(t){if(1===Object.keys(t).length&&"_"in t)return null
var o=e('<ul class="'+n+'nav az-nav-list"></ul>')
for(var i in t)if("_"!=i){var r=e("<li></li>").appendTo(o).on("mouseenter",function(){e(this).find("> .az-nav-list").css("display","block")}),l=t[i]
!function(t){e('<a href="#">'+i+"</a>").appendTo(r).click(function(){function n(t){for(var a in t)if("_"==a)for(var o=0;o<t[a].length;o++)e('<div class="az-thumbnail" data-az-base="'+t[a][o].name+'" style="background-image: url('+encodeURI(t[a][o].thumbnail)+'); background-position: center center; background-size: cover;"></div>').appendTo(_)
else n(t[a])}var a=this
e(_).empty(),e(_).css("display","block"),e(m).addClass("az-thumbnails"),n(t),e(m).off("mouseleave").on("mouseleave",function(){o||(e(m).css("left",""),e(m).removeClass("az-thumbnails"),e(_).css("overflow-y","scroll"),e(_).css("display","none"))})
var o=!1,i=0
return e(_).sortable({items:".az-thumbnail",connectWith:".az-ctnr",start:function(){o=!0,e(m).css("left","0px"),e(_).css("overflow-y","visible"),i=e(window).scrollTop(),e(window).on("scroll.template-elements-sortable",function(){e(window).scrollTop(i)})},stop:function(){o=!1,e(m).css("left",""),e(m).removeClass("az-thumbnails"),e(_).css("overflow-y","scroll"),e(_).css("display","none"),e(window).off("scroll.template-elements-sortable")},update:function(t,n){for(var o=s.get_element(e(n.item).parent().closest("[data-az-id]").attr("data-az-id")),r=0,l=e(n.item).parent().find("[data-az-id], .az-thumbnail"),d=0;d<l.length;d++)if(e(l[d]).hasClass("az-thumbnail")){r=d
break}s.create_element(o,e(n.item).attr("data-az-base"),r,function(){})
e(n.item).detach(),e(a).click(),e(window).scrollTop(i)},placeholder:"az-sortable-placeholder",forcePlaceholderSize:!0,over:function(e,t){t.placeholder.attr("class",t.helper.attr("class")),t.placeholder.removeClass("ui-sortable-helper"),t.placeholder.addClass("az-sortable-placeholder")}}),!1})}(l),e(r).append(a(t[i]))}return o}if(window.azexo_editor&&Object.keys(t).length>0&&l.length>0){var o={_:[]}
for(var i in t){var r=i.split("|")
r.pop()
for(var d=o,c=0;c<r.length;c++)r[c]in d||(d[r[c]]={_:[]}),d=d[r[c]]
d._.push(t[i])}var m=e('<div id="az-template-elements" class="az-left-sidebar azexo"></div>').appendTo("body"),h=e('<div id="az-template-elements-welcome" class="azexo">'+p("For adding elements: click on plus-buttons or drag and drop elements from left panel.")+"</div>").appendTo(m)
e(m).hover(function(){e(h).remove()}),e("<h3>"+p("Elements")+"</h3>").appendTo(m),e("<hr>").appendTo(m),e(m).append(a(o)),e(m).find("> .az-nav-list > li").on("mouseleave",function(){e(this).find(".az-nav-list").css("display","none")})
var _=e('<div id="az-thumbnails"></div>').appendTo(m)}})},create_cms_elements:function(e){for(var t in e){var a="az_"+t,o=function(){o.baseclass.apply(this,arguments)}
pt(a,!1,o),Y(o.prototype,{name:e[t],icon:"fa fa-cube",description:p(""),category:"CMS",instance:t,params:[it({type:"cms_settings",heading:p("Settings"),param_name:"settings",instance:t})].concat(o.prototype.params),show_settings_on_create:!0,is_container:!0,has_content:!0,is_cms_element:!0,get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+"pull-left "+n+'text-overflow" data-az-element="'+this.base+'"><i class="'+n+"text-primary "+this.icon+'"></i><div class="'+n+'small">'+this.name+"</div></div>"},get_content:function(){return""},showed:function(e){if(o.baseclass.prototype.showed.apply(this,arguments),"content"in this.attrs&&""!=this.attrs.content)e(this.dom_content_element).append(this.attrs.content),this.attrs.content=""
else{var t=this
azexo_add_js({path:"jquery-waypoints/waypoints.min.js",loaded:"waypoint"in e.fn,callback:function(){e(t.dom_element).waypoint(function(){var n=t.parent.get_my_container()
w(t.instance,t.attrs.settings,n.attrs.container,function(n){e(t.dom_content_element).empty(),e(t.dom_content_element).append(n)})},{offset:"100%",triggerOnce:!0}),e(document).trigger("scroll")}})}},render:function(e){this.dom_element=e('<div class="az-element az-cms-element '+this.attrs.el_class+'" style="'+this.attrs.style+'"></div>'),this.dom_content_element=e("<div></div>").appendTo(this.dom_element),o.baseclass.prototype.render.apply(this,arguments)}})}this.cms_elements_loaded=!0,qt(),this.try_render_unknown_elements()},create_element:function(e,t,n,a){var o=e.get_nested_depth(t)
if(o<ct.prototype.max_nested_depth){var i=ct.prototype.elements[t]
if(e instanceof Ut&&null==e.parent&&!i.prototype.section){var s=new wt(e,n)
s.update_dom()
var r=new i(s,!1)
a(r),r.update_dom(),e.update_empty(),s.update_empty()}else{var r=new i(e,n)
a(r),r.update_dom(),e.update_empty()}return r}return alert(p("Element can not be added. Max nested depth reached.")),!1},make_elements_modal:function(t,o){var i=t.get_all_disallowed_elements(),r={}
for(var l in ct.prototype.elements)ct.prototype.elements[l].prototype.hidden||"az_popup"!=t.base&&i.indexOf(ct.prototype.elements[l].prototype.base)>=0||(ct.prototype.elements[l].prototype.category in r?r[ct.prototype.elements[l].prototype.category].push(ct.prototype.elements[l]):r[ct.prototype.elements[l].prototype.category]=[ct.prototype.elements[l]])
var d=e('<div id="az-elements-tabs"></div>'),c=0,m='<ul class="'+n+"nav "+n+'nav-tabs">'
for(var h in r)c++,""===h&&(h=p("Content")),m+='<li><a href="#az-elements-tab-'+c+'" data-toggle="'+n+'tab">'+h+"</a></li>"
window.azexo_online&&(m+='<li><a href="#az-elements-tab-templates" data-toggle="'+n+'tab">'+p("Saved templates")+"</a></li>"),m+="</ul>",e(d).append(m),c=0
var _=e('<div class="'+n+'tab-content"></div>')
for(var h in r){c++
for(var u=e('<div id="az-elements-tab-'+c+'" class="'+n+"tab-pane "+n+'clearfix"></div>'),f=0;f<r[h].length;f++)e(u).append(r[h][f].prototype.get_button())
e(_).append(u)}window.azexo_online&&(u=e('<div id="az-elements-tab-templates" class="'+n+"tab-pane "+n+'clearfix"></div>')),e(_).append(u),e(d).append(_),e("#az-elements-modal").remove()
var v='<div class="'+n+'modal-header"><button type="button" class="'+n+'close" data-dismiss="'+n+'modal" aria-hidden="true">&times;</button><h4 class="'+n+'modal-title">'+p("Elements list")+"</h4></div>",g=e('<div id="az-elements-modal" class="'+n+'modal azexo" style="display:none"><div class="'+n+"modal-dialog "+n+'modal-lg"><div class="'+n+'modal-content">'+v+'<div class="'+n+'modal-body"></div></div></div></div>')
e("body").prepend(g),e(g).find("."+n+"modal-body").append(d),e(d).find("> ul a:first")[a+"tab"]("show"),e(g).find("[data-az-element]").click(function(){var n=e(this).attr("data-az-element"),i=s.create_element(t,n,!1,o)
i&&(e("#az-elements-modal")[a+"modal"]("hide"),i.show_settings_on_create&&i.edit())}),window.azexo_online&&e(d).find('a[href="#az-elements-tab-templates"]').on("shown."+a+"bs.tab",function(){k(function(o){var i=e(d).find("#az-elements-tab-templates")
e(i).empty()
for(var s=0;s<o.length;s++){var r=o[s],l='<div class="'+n+"well "+n+"text-center "+n+"pull-left "+n+'text-overflow" data-az-template="'+r+'"><i class="'+n+'text-primary fa fa-cubes"></i><h4>'+r+"</h4></div>"
l=e(l).appendTo(i).click(function(){var n=e(this).attr("data-az-template")
j(n,function(n){var o=t.children.length
ct.prototype.parse_shortcode.call(t,n)
for(var i=o;i<t.children.length;i++)t.children[i].recursive_render()
for(var i=o;i<t.children.length;i++)e(t.dom_content_element).append(t.children[i].dom_element)
window.azexo_editor&&(t.update_empty(),t.update_sortable()),t.recursive_showed(),e("#az-elements-modal")[a+"modal"]("hide")})}),e('<span class="fa fa-trash-o" data-az-template="'+r+'"></span>').appendTo(l).click(function(){var t=e(this).attr("data-az-template")
C(t),e(i).find('[data-az-template="'+t+'"]').remove()})}})})},show:function(t,n){e("#az-elements-modal").remove(),this.make_elements_modal(t,n),e("#az-elements-modal")[a+"modal"]("show"),e("#az-elements-modal #az-elements-tabs").find("> ul a:first")[a+"tab"]("show")},get_element:function(e){return this.elements_instances[e]},delete_element:function(t){e(document).trigger("azexo_delete_element",t),delete this.elements_instances[t]},add_element:function(t,n,a){this.elements_instances[t]=n,e(document).trigger("azexo_add_element",{id:t,position:a})}})
var dn={}
if("azexo_classes"in window&&(dn=window.azexo_classes),ct.prototype={el_classes:e.extend(_.object([n+"optgroup-bootstrap",n+"bg-primary",n+"text-primary",n+"bg-success",n+"text-success",n+"bg-default",n+"text-default",n+"text-muted",n+"small",n+"text-left",n+"text-right",n+"text-center",n+"text-justify",n+"pull-left",n+"pull-right",n+"center-block",n+"well",n+"visible-xs-block",n+"visible-sm-block",n+"visible-md-block",n+"visible-lg-block",n+"hidden-xs",n+"hidden-sm",n+"hidden-md",n+"hidden-lg"],[p("Bootstrap classes"),p("Background primary style"),p("Text primary style"),p("Background success style"),p("Text success style"),p("Background default style"),p("Text default style"),p("Text muted style"),p("Text small style"),p("Text align left"),p("Text align right"),p("Text align center"),p("Text align justify"),p("Pull left"),p("Pull right"),p("Block align center"),p("Well"),p("Visible on extra small devices, phones (<768px)"),p("Visible on small devices, tablets (≥768px)"),p("Visible on medium devices, desktops (≥992px)"),p("Visible on large devices, desktops (≥1200px)"),p("Hidden on extra small devices, phones (<768px)"),p("Hidden on small devices, tablets (≥768px)"),p("Hidden on medium devices, desktops (≥992px)"),p("Hidden on large devices, desktops (≥1200px)")]),dn),elements:{},tags:{},max_nested_depth:3,name:"",category:"",description:"",params:[it({type:"textfield",heading:p("Element classes"),param_name:"el_class",description:p("If you wish to style particular content element differently, then use this field to add a class name and then refer to it in your css file.")}),it({type:"style",heading:p("Style"),param_name:"style",description:p("Style options."),tab:p("Style")}),it({type:"style",heading:p("Hover style"),param_name:"hover_style",important:!0,description:p("Hover style options."),tab:p("Hover style")}),it({type:"integer_slider",heading:p("Left"),param_name:"pos_left",tab:p("Placement"),max:"1",step:"0.01",hidden:!0}),it({type:"integer_slider",heading:p("Right"),param_name:"pos_right",tab:p("Placement"),max:"1",step:"0.01",hidden:!0}),it({type:"integer_slider",heading:p("Top"),param_name:"pos_top",tab:p("Placement"),max:"1",step:"0.01",hidden:!0}),it({type:"integer_slider",heading:p("Bottom"),param_name:"pos_bottom",tab:p("Placement"),max:"1",step:"0.01",hidden:!0}),it({type:"integer_slider",heading:p("Width"),param_name:"pos_width",tab:p("Placement"),max:"1",step:"0.01",hidden:!0}),it({type:"integer_slider",heading:p("Height"),param_name:"pos_height",tab:p("Placement"),max:"1",step:"0.01",hidden:!0}),it({type:"integer_slider",heading:p("Z-index"),param_name:"pos_zindex",tab:p("Placement"),hidden:!0})],icon:"",thumbnail:"",is_container:!1,has_content:!1,frontend_render:!1,show_settings_on_create:!1,wrapper_class:"",weight:0,hidden:!1,disallowed_elements:[],show_parent_controls:!1,highlighted:!0,style_selector:"",section:!1,controls_position:function(){if(!this.is_container||this.has_content){var t=e(this.dom_element).height(),n=e(window).height()
if(t>n){var a=e(window).scrollTop(),o=(e(this.controls).offset().top,e(this.dom_element).offset().top),i=a-o+n/2
i>40&&t>i?e(this.controls).css("top",i):i>t?e(this.controls).css("top",t-40):e(this.controls).css("top",40)}}},update_controls_zindex:function(){G(this.controls)},show_controls:function(){if(window.azexo_editor){var t=this
this.controls=e('<div class="controls '+n+"btn-group "+n+'btn-group-xs"></div>').prependTo(this.dom_element),setTimeout(function(){t.update_controls_zindex()},3e3),e('<span title="'+c("Drag and drop")+'" class="control drag-and-drop '+n+"btn "+n+"btn-primary "+n+"glyphicon "+n+'glyphicon-move">'+this.name+"</span>").appendTo(this.controls),this.is_container&&!this.has_content&&(e('<button title="'+c("Add")+'" type="button" class="control add '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-plus"> </button>').appendTo(this.controls).click({object:this},this.click_add),e('<button title="'+c("Paste")+'" type="button" class="control paste '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-hand-down"> </button>').appendTo(this.controls).click({object:this},this.click_paste)),e('<button title="'+c("Edit")+'" type="button" class="control edit '+n+"btn "+n+"btn-warning "+n+"glyphicon "+n+'glyphicon-pencil"> </button>').appendTo(this.controls).click({object:this},this.click_edit),e('<button title="'+c("Copy")+'" type="button" class="control copy '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-briefcase"> </button>').appendTo(this.controls).click({object:this},this.click_copy),e('<button title="'+c("Clone")+'" type="button" class="control clone '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-repeat"> </button>').appendTo(this.controls).click({object:this},this.click_clone),e('<button title="'+c("Remove")+'" type="button" class="control remove '+n+"btn "+n+"btn-danger "+n+"glyphicon "+n+'glyphicon-remove"> </button>').appendTo(this.controls).click({object:this},this.click_remove),window.azexo_online&&e('<button title="'+c("Save as template")+'" type="button" class="control save-template '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-floppy-save"> </button>').appendTo(this.controls).click({object:this},this.click_save_template),this.update_empty(),setTimeout(function(){t.controls_position()},1e3),e(window).scroll(function(){t.controls_position()})
var t=this
this.highlighted&&(t.middle_click_number=0,e(this.dom_element).on("mousedown",function(n){if(2==n.which){t.middle_click_number++
for(var a=1,o=t,i=!1;a<t.middle_click_number;){if(!(e(o.dom_element).parent().closest("[data-az-id]").length>0)){i=!0
break}var r=e(o.dom_element).parent().closest("[data-az-id]").attr("data-az-id")
o=s.get_element(r),a++}if(e(".controls").css("visibility","hidden").css("opacity","0"),e(".control").css("opacity","0"),e(".az-element").removeClass("az-highlight"),i)t.middle_click_number=0
else if(o instanceof Tt)if(o.layer_number<o.children.length){var l=o.children[o.layer_number]
e(l.dom_element).find(" > .controls").css("visibility","visible").css("opacity","1").find(" > .control").css("opacity","1"),e(l.dom_element).addClass("az-highlight"),t.middle_click_number--,o.layer_number++}else e(o.dom_element).find(" > .controls").css("visibility","visible").css("opacity","1").find(" > .control").css("opacity","1"),e(o.dom_element).addClass("az-highlight"),o.layer_number=0
else e(o.dom_element).find(" > .controls").css("visibility","visible").css("opacity","1").find(" > .control").css("opacity","1"),e(o.dom_element).addClass("az-highlight")
return!1}}),e(this.dom_element).mouseenter(function(){t.middle_click_number=0,t instanceof Tt&&(t.layer_number=0)}),e(this.dom_element).mouseleave(function(){e(t.dom_element).hasClass("az-highlight")&&(e(".controls").css("visibility","").css("opacity",""),e(".control").css("opacity",""),e(".az-element").removeClass("az-highlight"))})),t.show_parent_controls&&_.defer(function(){function a(t){"none"==e(o.controls).find("."+n+"btn:not(span)").css("display")?e(t.controls).find("."+n+"btn:not(span)").css("display","inline-block"):e(t.controls).find("."+n+"btn:not(span)").css("display","none"),"none"==e(t.controls).find("."+n+"btn:not(span)").css("display")?e(o.controls).find("."+n+"btn:not(span)").css("display","inline-block"):e(o.controls).find("."+n+"btn:not(span)").css("display","none"),e(o.controls).attr("data-az-cid",e(t.dom_element).attr("data-az-id"))
var a=e(t.dom_element).offset()
a.top=a.top-parseInt(e(t.dom_element).css("margin-top")),e(o.controls).offset(a),a.left=a.left+e(o.controls).width()-1,e(t.controls).offset(a)}var o=t.parent
_.isString(t.show_parent_controls)&&(o=s.get_element(e(t.dom_element).closest(t.show_parent_controls).attr("data-az-id"))),e(t.dom_element).off("mouseenter").on("mouseenter",function(){e(t.dom_element).data("hover",!0),e(t.dom_element).parents(".azexo-editor").length>0&&(e(o.controls).css("display","block"),a(t))}),e(t.dom_element).off("mouseleave").on("mouseleave",function(){e(t.dom_element).data("hover",!1),e(t.dom_element).parents(".azexo-editor").length>0&&e(t.controls).css("display","")}),setInterval(function(){if(e(t.dom_element).parents(".azexo-editor").length>0){e(t.dom_element).data("hover")||e(o.controls).data("hover")||e(t.controls).css("display",""),e(t.dom_element).data("hover")&&(a(t),e(t.controls).css("visibility","visibile"),e(t.controls).css("opacity","1"))
var n=s.get_element(e(o.controls).closest("[data-az-cid]").attr("data-az-cid"))
_.isUndefined(n)||e(o.controls).css("display",e(n.controls).css("display")),_.isUndefined(e(o.controls).data("spc"))&&(e(o.controls).off("mouseenter").on("mouseenter",function(){e(o.controls).data("hover",!0)
var t=s.get_element(e(this).closest("[data-az-cid]").attr("data-az-cid"))
_.isUndefined(t)||e(t.controls).css("display","block")}),e(o.controls).off("mouseleave").on("mouseleave",function(){e(o.controls).data("hover",!1)}),e(o.controls).data("spc",!0))}},100),e(t.controls).find("span").off("click").on("click",function(){return e(t.controls).find("."+n+"btn:not(span)").css("display","inline-block"),e(o.controls).find("."+n+"btn:not(span)").css("display","none"),a(t),!1}),e(o.controls).find("span").off("click").on("click",function(){e(o.controls).find("."+n+"btn:not(span)").css("display","inline-block")
var t=s.get_element(e(this).closest("[data-az-cid]").attr("data-az-cid"))
return _.isUndefined(t)||(e(t.controls).find("."+n+"btn:not(span)").css("display","none"),a(t)),!1}),e(t.controls).find("span").trigger("click")})}},get_empty:function(){return'<div class="az-empty"><div class="top '+n+'well"><strong>'+p("Click to put an element here.")+"</strong></div></div>"},update_empty:function(){if(window.azexo_editor)if(0==this.children.length&&this.is_container&&!this.has_content||this.has_content&&""==this.attrs.content){e(this.dom_content_element).find("> .az-empty").remove()
var t=e(this.get_empty()).appendTo(this.dom_content_element),a=""
0==e(t).find(".bottom").length&&(a="bottom"),0==e(t).find(".top").length&&(a="top"),""!=a&&e(t).append('<div class="'+a+" "+n+'well">'+p("Mouse over highlights the boundaries of the elements and its controls.")+"</div>"),e(t).click(function(t){if(1==t.which){var n=e(this).closest("[data-az-id]").attr("data-az-id")
s.show(s.get_element(n),function(){})}})}else e(this.dom_content_element).find("> .az-empty").remove()},get_button:function(){return""==this.thumbnail?'<div class="'+n+"well "+n+"text-center "+n+"pull-left "+n+'text-overflow" data-az-element="'+this.base+'"><i class="'+n+"text-primary "+this.icon+'"></i><div>'+this.name+'</div><div class="'+n+"text-muted "+n+'small">'+this.description+"</div></div>":'<div class="'+n+"well "+n+'pull-left" data-az-element="'+this.base+'" style="background-image: url('+encodeURI(this.thumbnail)+'); background-position: center center; background-size: cover;"></div>'},click_add:function(e){return e.data.object.add(),!1},add:function(){s.show(this,function(){})},update_sortable:function(){window.azexo_editor&&(this.is_container&&!this.has_content||this instanceof mt)&&e(this.dom_content_element).sortable({items:"> .az-element",connectWith:".az-ctnr",handle:"> .controls > .drag-and-drop",update:this.update_sorting,placeholder:"az-sortable-placeholder",forcePlaceholderSize:!0,over:function(e,t){t.placeholder.attr("class",t.helper.attr("class")),t.placeholder.removeClass("ui-sortable-helper"),t.placeholder.addClass("az-sortable-placeholder")}})},replace_render:function(){var t=this.dom_element,o=this.dom_content_element
null!=t&&(this.render(e,n,a),e(t).replaceWith(this.dom_element),null!=o&&e(this.dom_content_element).replaceWith(o)),window.azexo_editor&&this.show_controls()},update_dom:function(){this.detach_children(),e(this.dom_element).remove(),this.parent.detach_children(),this.render(e,n,a),this.attach_children(),window.azexo_editor&&this.show_controls(),this.parent.attach_children(),window.azexo_editor&&(this.update_sortable(),this.update_empty()),this.showed(e,n,a)},get_hover_style:function(){return"hover_style"in this.attrs?'<style id="hover-style-'+this.id+'">.hover-style-'+this.id+":hover "+this.style_selector+" { "+this.attrs.hover_style+"} </style>":""},restore:function(){},recursive_restore:function(){for(var e=0;e<this.children.length;e++)this.children[e].recursive_restore()
this.restore()},showed:function(e){"pos_left"in this.attrs&&""!=this.attrs.pos_left&&e(this.dom_element).css("left",this.attrs.pos_left),"pos_right"in this.attrs&&""!=this.attrs.pos_right&&e(this.dom_element).css("right",this.attrs.pos_right),"pos_top"in this.attrs&&""!=this.attrs.pos_top&&e(this.dom_element).css("top",this.attrs.pos_top),"pos_bottom"in this.attrs&&""!=this.attrs.pos_bottom&&e(this.dom_element).css("bottom",this.attrs.pos_bottom),"pos_width"in this.attrs&&""!=this.attrs.pos_width&&e(this.dom_element).css("width",this.attrs.pos_width),"pos_height"in this.attrs&&""!=this.attrs.pos_height&&e(this.dom_element).css("height",this.attrs.pos_height),"pos_zindex"in this.attrs&&""!=this.attrs.pos_zindex&&e(this.dom_element).css("z-index",this.attrs.pos_zindex),"hover_style"in this.attrs&&""!=this.attrs.hover_style&&(e("head").find("#hover-style-"+this.id).remove(),e("head").append(this.get_hover_style()),e(this.dom_element).addClass("hover-style-"+this.id))},render:function(e){e(this.dom_element).attr("data-az-id",this.id)},trigger_start_in_animation:function(){for(var e=0;e<this.children.length;e++)"trigger_start_in_animation"in this.children[e]&&this.children[e].trigger_start_in_animation()},trigger_start_out_animation:function(){for(var e=0;e<this.children.length;e++)"trigger_start_out_animation"in this.children[e]&&this.children[e].trigger_start_out_animation()},update_data:function(){e(this.dom_element).attr("data-azb",this.base)
for(var t=0;t<this.params.length;t++){var n=this.params[t]
if(n.param_name in this.attrs){var a=this.attrs[n.param_name];(""==a&&n.can_be_empty||""!=a)&&"content"!==n.param_name&&a!==n.value&&(n.safe||(a=btoa(encodeURIComponent(a))),e(this.dom_element).attr("data-azat-"+n.param_name,a))}}null!=this.dom_content_element&&e(this.dom_content_element).attr("data-azcnt","true")},recursive_update_data:function(){this.update_data()
for(var e=0;e<this.children.length;e++)this.children[e].recursive_update_data()},recursive_clear_animation:function(){"clear_animation"in this&&this.clear_animation()
for(var e=0;e<this.children.length;e++)this.children[e].recursive_clear_animation()},recursive_showed:function(){this.showed(e,n,a)
for(var t=0;t<this.children.length;t++)this.children[t].recursive_showed()},update_sorting_children:function(){var t=e(this.dom_content_element).sortable("option"),n=[]
e(this.dom_content_element).find(t.items).each(function(){n.push(s.get_element(e(this).attr("data-az-id")))}),this.children=n
for(var a=0;a<this.children.length;a++)this.children[a].parent=this
this.update_empty()},update_sorting:function(t,n){var a=s.get_element(e(n.item).closest("[data-az-id]").attr("data-az-id"))
a&&(n.source=s.get_element(e(this).closest("[data-az-id]").attr("data-az-id")),n.from_pos=a.get_child_position(),n.source.update_sorting_children(),n.target=s.get_element(e(n.item).parent().closest("[data-az-id]").attr("data-az-id")),n.source.id!=n.target.id&&n.target.update_sorting_children(),n.to_pos=a.get_child_position(),e(document).trigger("azexo_update_sorting",n))},click_edit:function(e){return e.data.object.edit(),!1},edit:function(){at.prototype.show_editor(this.params,this,this.edited)},edited:function(t){for(var n in t)this.attrs[n]=J(t[n])
this.update_dom(),e(document).trigger("azexo_edited_element",this.id)},attrs2string:function(){for(var e="",t=0;t<this.params.length;t++){var n=this.params[t]
if(n.param_name in this.attrs){var a=this.attrs[n.param_name];(""==a&&n.can_be_empty||""!=a)&&"content"!==n.param_name&&a!==n.value&&(n.safe||(a=btoa(encodeURIComponent(a))),e+=n.param_name+'="'+a+'" ')}}return e},get_content:function(){for(var e=0;e<this.params.length;e++){var t=this.params[e]
if("content"===t.param_name&&"html"==t.type)return btoa(encodeURIComponent(this.attrs.content))}return this.attrs.content},set_content:function(e){for(var t=J(e),n=0;n<this.params.length;n++){var a=this.params[n]
if("content"===a.param_name&&"html"==a.type)return t=decodeURIComponent(atob(t.replace(/^#E\-8_/,""))),void(this.attrs.content=t)}this.attrs.content=t},parse_attrs:function(t){for(var n=0;n<this.params.length;n++){var a=this.params[n]
if(a.param_name in t)if(a.safe)this.attrs[a.param_name]=J(t[a.param_name])
else{var o=J(t[a.param_name])
this.attrs[a.param_name]=decodeURIComponent(atob(o.replace(/^#E\-8_/,"")))}else"value"in a&&_.isString(a.value)&&(this.attrs[a.param_name]=a.value)}for(var i in t)i in this.attrs||(this.attrs[i]=t[i])
e(document).trigger("azexo_edited_element",this.id)},get_nested_depth:function(e){var t=0
return null!=this.parent&&(t+=this.parent.get_nested_depth(e)),this.base==e&&t++,t},get_my_shortcode:function(){var e=_.keys(ct.prototype.elements),t=_.object(e,Array.apply(null,Array(e.length)).map(Number.prototype.valueOf,0)),n=this.get_shortcode(t)
return n},get_children_shortcode:function(){for(var e=_.keys(ct.prototype.elements),t=_.object(e,Array.apply(null,Array(e.length)).map(Number.prototype.valueOf,0)),n="",a=0;a<this.children.length;a++)n+=this.children[a].get_shortcode(t)
return n},get_shortcode:function(e){e[this.base]++
for(var t="",n=0;n<this.children.length;n++)t+=this.children[n].get_shortcode(e)
if("az_unknown"==this.base)s=t
else{var a=""
if(1==e[this.base])a=this.base
else{var o=e[this.base]-1
a=this.base+"_"+o}var i=this.attrs2string(),s="["+a+" "+i+"]"
this.is_container&&(s+=this.has_content?this.get_content()+"[/"+a+"]":t+"[/"+a+"]")}return e[this.base]--,s},parse_shortcode:function(t){var n=_.keys(ct.prototype.tags).join("|"),a=an.shortcode.regexp(n),o=e.trim(t).match(a)
if(_.isNull(o)){if(0==t.length)return
this.parse_shortcode("["==t.substring(0,1)&&"]"==t.slice(-1)?"[az_unknown]"+t+"[/az_unknown]":'[az_row][az_column width="1/1"][az_text]'+t+"[/az_text][/az_column][/az_row]")}_.each(o,function(e){var a=e.match(on(n)),o=a[5],i=RegExp("^[\\s]*\\[\\[?("+_.keys(ct.prototype.tags).join("|")+")(?![\\w-])"),s=an.shortcode.attrs(a[3]),r=a[2]
if(!(this.get_nested_depth(r)>ct.prototype.max_nested_depth)){var l=mt
if(r in ct.prototype.tags&&(l=ct.prototype.tags[r]),this instanceof Ut&&null==this.parent&&!l.prototype.section)return void this.parse_shortcode("[az_section]"+t+"[/az_section]")
var d=new l(this,!0)
d.parse_attrs(s.named)
var c=ct.prototype.tags[r].prototype
_.isString(o)&&o.match(i)&&c.is_container===!0?d.parse_shortcode(o):_.isString(o)&&o.length&&"az_row"===r?d.parse_shortcode('[az_column width="1/1"][az_text]'+o+"[/az_text][/az_column]"):_.isString(o)&&o.length&&"az_column"===r&&("["!=o.substring(0,1)||"]"!=o.slice(-1))?d.parse_shortcode("[az_text]"+o+"[/az_text]"):_.isString(o)&&(c.has_content===!0?d.set_content(o):""!=o&&d.parse_shortcode("[az_unknown]"+o+"[/az_unknown]"))}},this)},parse_html:function(n){var a=this
if(0==e(n).children().closest_descendents("[data-azb]").length&&e.trim(e(n).html()).length>0){var o=new xt(a,!1)
o.children=[]
var i=new zt(o,!1),r=ct.prototype.elements.az_text,l=new r(i,!1)
l.attrs.content=e(n).html(),l.update_dom(),"update_empty"in a&&a.update_empty(),"update_empty"in i&&i.update_empty(),"update_empty"in o&&o.update_empty()}else e(n).children().closest_descendents("[data-azb]").each(function(){var n=e(this).attr("data-azb"),o=mt
n in ct.prototype.tags&&(o=ct.prototype.tags[n])
var i=new o(a,!0)
t&&(s.elements_instances[i.id]=null,delete s.elements_instances[i.id],i.id=e(this).attr("data-az-id"),s.elements_instances[i.id]=i),i.dom_element=e(this)
var r={}
if(e(e(this)[0].attributes).each(function(){this.nodeName.indexOf("data-azat")>=0&&(r[this.nodeName.replace("data-azat-","")]=this.value)}),i.parse_attrs(r),i.is_container){var l=e(this).closest_descendents("[data-azcnt]")
l.length>0&&(i.dom_content_element=e(l),i.has_content?i instanceof mt?(i.attrs.content=e(l).wrap("<div></div>").parent().html(),e(l).unwrap()):i.attrs.content=e(l).html():i.parse_html(l))}})},recursive_render:function(){for(var o=0;o<this.children.length;o++)this.children[o].recursive_render()
t?this.frontend_render&&(this.detach_children(),this.parent.detach_children(),this.render(e,n,a),this.attach_children(),this.parent.attach_children()):(this.render(e,n,a),this.attach_children()),window.azexo_editor&&(this.show_controls(),this.update_sortable())},detach_children:function(){for(var t=0;t<this.children.length;t++)e(this.children[t].dom_element).detach()},attach_children:function(){for(var t=0;t<this.children.length;t++)e(this.dom_content_element).append(this.children[t].dom_element)},click_copy:function(e){return e.data.object.copy(),!1},copy:function(){var t=this.get_my_shortcode()
e("#azexo-clipboard").html(btoa(encodeURIComponent(t)))},click_paste:function(e){return e.data.object.paste(0),!1},paste:function(t){var n=decodeURIComponent(atob(e("#azexo-clipboard").html()))
if(""!=n){var a=this.children.length
ct.prototype.parse_shortcode.call(this,n)
for(var o=[],i=a;i<this.children.length;i++)this.children[i].recursive_render(),o.push(this.children[i])
this.children=this.children.slice(0,a),this.children.splice.apply(this.children,[t,0].concat(o)),this.detach_children(),this.attach_children(),this.update_empty(),this.update_sortable(),this.recursive_showed()}},click_save_template:function(e){return e.data.object.save_template(),!1},save_template:function(){var e=this.get_my_shortcode(),t=window.prompt(p("Please enter template name"),"")
""!=t&&null!=t&&T(t,e)},click_clone:function(e){return e.data.object.clone(),!1},clone:function(){this.copy()
for(var e=0;e<this.parent.children.length;e++)if(this.parent.children[e].id==this.id){this.parent.paste(e)
break}},click_remove:function(e){return e.data.object.remove(),!1},remove:function(){s.delete_element(this.id)
for(var t=0;t<this.children.length;t++)this.children[t].remove()
e(this.dom_element).remove()
for(var t=0;t<this.parent.children.length;t++)if(this.parent.children[t].id==this.id){this.parent.children.splice(t,1)
break}this.parent.update_empty()},get_child_position:function(){for(var e=0;e<this.parent.children.length;e++)if(this.parent.children[e].id==this.id)return e
return-1},add_css:function(e,t,n){var a=this.get_my_container()
a.css[window.azexo_baseurl+e]=!0,t||window.azexo_add_css(e,n)},add_js_list:function(e){for(var t=this.get_my_container(),n=0;n<e.paths.length;n++)t.js[window.azexo_baseurl+e.paths[n]]=!0
window.azexo_add_js_list(e)},add_js:function(e){var t=this.get_my_container()
t.js[window.azexo_baseurl+e.path]=!0,window.azexo_add_js(e)},add_external_js:function(e,t){var n=this.get_my_container()
n.js[e]=!0,window.azexo_add_external_js(e,t)},get_my_container:function(){return this instanceof Ut?this:this.parent.get_my_container()},get_all_disallowed_elements:function(){if("parent"in this){var e=_.uniq(this.parent.get_all_disallowed_elements().concat(this.disallowed_elements))
return e}return this.disallowed_elements}},pt("az_unknown",!0,mt),Y(mt.prototype,{has_content:!0,hidden:!0,show_controls:function(){},update_empty:function(){},render:function(e){if(this.dom_element=e('<div class = "az-element"></div>'),this.dom_content_element=this.dom_element,"content"in this.attrs){var t=/\[[^\]]*\]([^\[]*)\[\/[^\]]*\]/.exec(this.attrs.content)
t&&e(this.dom_element).append(t[1])}mt.baseclass.prototype.render.apply(this,arguments)}}),!("azexo_baseurl"in window))if(e('script[src*="azexo_composer.js"]').length>0){var cn=e('script[src*="azexo_composer.js"]').attr("src")
window.azexo_baseurl=cn.slice(0,cn.indexOf("azexo_composer.js"))}else if(e('script[src*="azexo_composer.min.js"]').length>0){var cn=e('script[src*="azexo_composer.min.js"]').attr("src")
window.azexo_baseurl=cn.slice(0,cn.indexOf("azexo_composer.min.js"))}"azexo_online"in window||(window.azexo_online="http:"==window.location.protocol||"https:"==window.location.protocol),s=new dt,"azexo_editor"in window||(window.azexo_editor=!1),_t(),ut(function(){gt(),"azexo_exporter"in window&&Jt(),e.holdReady(!1)})
var pn=!1
e.fn.azexo_composer=function(t){var n={init:function(t){e.extend({test:"test"},t)
return this.each(function(){var t=this,n=e(this).data("azexo_composer")
if(!n){var a=e("<div>"+e(t).val()+"</div>")[0]
e(a).find("> script").remove(),e(a).find("> link[href]").remove(),e(a).find("> .az-container > script").remove(),e(a).find("> .az-container > link[href]").remove(),e(t).css("display","none")
var o=null
if(e(a).find("> .az-container[data-az-type][data-az-name]").length>0)o=e(a).children().insertAfter(t)
else{var i="textarea",r=Math.random().toString(36).substr(2)
window.azexo_online&&(i=window.azexo_type,r=window.azexo_name),o=e('<div class="az-element az-container" data-az-type="'+i+'" data-az-name="'+r+'"></div>').insertAfter(t),o.append(e(a).html())}window.azexo_title["Save container"]=p("Generate HTML and JS for all elements which placed in current container element.")
var n=ft(o)
n&&(l.push(n),e(t).data("azexo_composer",n),n.save_container=function(){azexo_add_js({path:"js/json2.min.js",loaded:"JSON"in window,callback:function(){_.defer(function(){if(n.id in s.elements_instances){var a=n.get_container_html()
if(window.azexo_online)e(t).val(a)
else{var o=n.attrs.container.split("/")[0],i=n.attrs.container.split("/")[1]
e(t).val('<div class="az-element az-container" data-az-type="'+o+'" data-az-name="'+i+'">'+a+"</div>")}}})}})},e(document).on("azexo_add_element",n.save_container),e(document).on("azexo_edited_element",n.save_container),e(document).on("azexo_update_element",n.save_container),e(document).on("azexo_delete_element",n.save_container),e(document).on("azexo_update_sorting",n.save_container))}})},show:function(){this.each(function(){})},hide:function(){this.each(function(){var t=e(this).data("azexo_composer")
if(t){s.delete_element(t.id)
for(var n=0;n<t.children.length;n++)t.children[n].remove()
e(t.dom_element).remove(),e(this).removeData("azexo_composer"),e(this).css("display","")}})}}
return n[t]?n[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error(t):n.init.apply(this,arguments)}
var mn={"":p("No animation"),js:p("JS animation"),bounce:p("bounce"),flash:p("flash"),pulse:p("pulse"),rubberBand:p("rubberBand"),shake:p("shake"),swing:p("swing"),tada:p("tada"),wobble:p("wobble"),bounceIn:p("bounceIn"),bounceInDown:p("bounceInDown"),bounceInLeft:p("bounceInLeft"),bounceInRight:p("bounceInRight"),bounceInUp:p("bounceInUp"),bounceOut:p("bounceOut"),bounceOutDown:p("bounceOutDown"),bounceOutLeft:p("bounceOutLeft"),bounceOutRight:p("bounceOutRight"),bounceOutUp:p("bounceOutUp"),fadeIn:p("fadeIn"),fadeInDown:p("fadeInDown"),fadeInDownBig:p("fadeInDownBig"),fadeInLeft:p("fadeInLeft"),fadeInLeftBig:p("fadeInLeftBig"),fadeInRight:p("fadeInRight"),fadeInRightBig:p("fadeInRightBig"),fadeInUp:p("fadeInUp"),fadeInUpBig:p("fadeInUpBig"),fadeOut:p("fadeOut"),fadeOutDown:p("fadeOutDown"),fadeOutDownBig:p("fadeOutDownBig"),fadeOutLeft:p("fadeOutLeft"),fadeOutLeftBig:p("fadeOutLeftBig"),fadeOutRight:p("fadeOutRight"),fadeOutRightBig:p("fadeOutRightBig"),fadeOutUp:p("fadeOutUp"),fadeOutUpBig:p("fadeOutUpBig"),flip:p("flip"),flipInX:p("flipInX"),flipInY:p("flipInY"),flipOutX:p("flipOutX"),flipOutY:p("flipOutY"),lightSpeedIn:p("lightSpeedIn"),lightSpeedOut:p("lightSpeedOut"),rotateIn:p("rotateIn"),rotateInDownLeft:p("rotateInDownLeft"),rotateInDownRight:p("rotateInDownRight"),rotateInUpLeft:p("rotateInUpLeft"),rotateInUpRight:p("rotateInUpRight"),rotateOut:p("rotateOut"),rotateOutDownLeft:p("rotateOutDownLeft"),rotateOutDownRight:p("rotateOutDownRight"),rotateOutUpLeft:p("rotateOutUpLeft"),rotateOutUpRight:p("rotateOutUpRight"),slideInDown:p("slideInDown"),slideInLeft:p("slideInLeft"),slideInRight:p("slideInRight"),slideOutLeft:p("slideOutLeft"),slideOutRight:p("slideOutRight"),slideOutUp:p("slideOutUp"),slideInUp:p("slideInUp"),slideOutDown:p("slideOutDown"),hinge:p("hinge"),rollIn:p("rollIn"),rollOut:p("rollOut"),zoomIn:p("zoomIn"),zoomInDown:p("zoomInDown"),zoomInLeft:p("zoomInLeft"),zoomInRight:p("zoomInRight"),zoomInUp:p("zoomInUp"),zoomOut:p("zoomOut"),zoomOutDown:p("zoomOutDown"),zoomOutLeft:p("zoomOutLeft"),zoomOutRight:p("zoomOutRight"),zoomOutUp:p("zoomOutUp")}
B(yt,ct),Y(yt.prototype,{params:[it({type:"dropdown",heading:p("Animation start"),param_name:"an_start",tab:p("Animation"),value:{"":p("No animation"),appear:p("On appear"),hover:p("On hover"),click:p("On click"),trigger:p("On trigger")}}),it({type:"dropdown",heading:p("Animation in"),param_name:"an_in",tab:p("Animation"),value:mn,dependency:{element:"an_start",value:["appear","hover","click","trigger"]}}),it({type:"dropdown",heading:p("JS animation in"),param_name:"an_js_in",tab:p("Animation"),value:{},dependency:{element:"an_in",value:["js"],callback:function(t){function a(){s.save_js_animations(!1),e(s.animations_editor).remove(),delete s.animations_editor}function o(){s.update_js_animations_list()
var t=i.dom_element,n=i.get_value()
i.render(n),e(t).replaceWith(i.dom_element)}var i=this,s=this.element
"animations_editor"in s&&a(),o(),e(t.dom_element).find("select").off("change.an_js_in").on("change.an_js_in",function(){var e=t.get_value()
"js"!=e&&a()})
var r=e('<div id="az-js-animation-form" class="'+n+"clearfix "+n+"form-group "+n+'well"></div>').insertAfter(this.dom_element)
s.show_js_animations_editor(r,!1,function(){o()}),e("#az-editor-modal").find(".save").off("mousedown.an_js_in").on("mousedown.an_js_in",function(){s.save_js_animations(!1)})}}}),it({type:"dropdown",heading:p("Animation out"),param_name:"an_out",tab:p("Animation"),value:mn,dependency:{element:"an_start",value:["hover","trigger"]}}),it({type:"dropdown",heading:p("JS animation out"),param_name:"an_js_out",tab:p("Animation"),value:{},dependency:{element:"an_out",value:["js"],callback:function(t){function a(){s.save_js_animations(!1),e(s.animations_editor).remove(),delete s.animations_editor}function o(){s.update_js_animations_list()
var t=i.dom_element,n=i.get_value()
i.render(n),e(t).replaceWith(i.dom_element)}var i=this,s=this.element
"animations_editor"in s&&a(),o(),e(t.dom_element).find("select").off("change.an_js_out").on("change.an_js_out",function(){var e=t.get_value()
"js"!=e&&a()})
var r=e('<div id="az-js-animation-form" class="'+n+"clearfix "+n+"form-group "+n+'well"></div>').insertAfter(this.dom_element)
s.show_js_animations_editor(r,!1,function(){o()}),e("#az-editor-modal").find(".save").off("mousedown.an_js_out").on("mousedown.an_js_out",function(){s.save_js_animations(!1)})}}}),it({type:"checkbox",heading:p("Hidden"),param_name:"an_hidden",tab:p("Animation"),value:{before_in:p("Before in-animation"),after_in:p("After in-animation")},dependency:{element:"an_start",value:["appear","hover","click","trigger"]}}),it({type:"checkbox",heading:p("Infinite?"),param_name:"an_infinite",tab:p("Animation"),value:{yes:p("Yes, please")},dependency:{element:"an_start",value:["appear","hover","click","trigger"]}}),it({type:"dropdown",heading:p("By letters?"),param_name:"an_letters",tab:p("Animation"),value:{"":p("No"),sequence:p("Sequence"),reverse:p("Reverse"),sync:p("Sync"),shuffle:p("Shuffle")},dependency:{element:"an_start",value:["appear","hover","click","trigger"]}}),it({type:"integer_slider",heading:p("Duration"),param_name:"an_duration",tab:p("Animation"),max:"3000",description:p("In milliseconds."),value:"1000",dependency:{element:"an_start",value:["appear","hover","click","trigger"]}}),it({type:"integer_slider",heading:p("In-delay"),param_name:"an_in_delay",tab:p("Animation"),max:"10000",description:p("In milliseconds."),value:"0",dependency:{element:"an_start",value:["appear","hover","click","trigger"]}}),it({type:"integer_slider",heading:p("Out-delay"),param_name:"an_out_delay",tab:p("Animation"),max:"10000",description:p("In milliseconds."),value:"0",dependency:{element:"an_start",value:["hover","trigger"]}}),it({type:"integer_slider",heading:p("Parent number"),param_name:"an_parent",tab:p("Animation"),max:"10",min:"0",description:p("Define the number of Parent Containers the animation should attempt to break away from."),value:"1",dependency:{element:"an_start",value:["hover","click"]}}),it({type:"dropdown",heading:p("Animation fill mode"),param_name:"an_fill_mode",tab:p("Animation"),value:{"":p("Default"),forwards:p("Forwards"),backwards:p("Backwards"),both:p("Both"),none:p("None")},description:p('"FORWARDS" - after the animation ends (determined by animation-iteration-count), the animation will apply the property values for the time the animation ended; "BACKWARDS" - The animation will apply the property values defined in the keyframe that will start the first iteration of the animation, during the period defined by animation-delay. These are either the values of the from keyframe (when animation-direction is "normal" or "alternate") or those of the to keyframe (when animation-direction is "reverse" or "alternate-reverse"); "BOTH" - the animation will follow the rules for both forwards and backwards. That is, it will extend the animation properties in both directions; "NONE" - The animation will not apply any styles to the target before or after it is executing.'),dependency:{element:"an_start",value:["appear","hover","click","trigger"]}}),it({type:"textfield",heading:p("Name for animations"),param_name:"an_name",hidden:!0}),it({type:"textfield",heading:p("Animation scenes"),param_name:"an_scenes",hidden:!0})].concat(yt.prototype.params),set_in_timeout:function(){var t=this
t.in_timeout=setTimeout(function(){if(t.clear_animation(),""==t.attrs.an_letters)if("js"==t.attrs.an_in){e(t.dom_element).css("opacity","")
var n=t.attrs.an_js_in.split("-"),a=s.elements_instances_by_an_name[n[0]],o=a.an_scenes[parseInt(n[1])]
t.timeline_in=t.make_timeline(o,function(){t.end_animation()}),t.timeline_in.play(),t.animation_in=!0,t.animated=!0}else e(t.dom_element).css("opacity",""),e(t.dom_element).removeClass("animated"),e(t.dom_element).removeClass(t.attrs.an_in),e(t.dom_element).removeClass(t.attrs.an_out),t.animation_in=!1,t.animation_out=!1,e(t.dom_element).css("animation-duration",t.attrs.an_duration+"ms"),e(t.dom_element).css("-webkit-animation-duration",t.attrs.an_duration+"ms"),e(t.dom_element).css("animation-fill-mode",t.attrs.an_fill_mode),e(t.dom_element).css("-webkit-animation-fill-mode",t.attrs.an_fill_mode),e(t.dom_element).addClass("animated"),t.animated=!0,"yes"==t.attrs.an_infinite&&e(t.dom_element).addClass("infinite"),e(t.dom_element).addClass(t.attrs.an_in),t.animation_in=!0
else{t.animation_letters(),e(t.dom_element).css("opacity","")
for(var i=0;i<t.textillate_elements.length;i++)e(t.textillate_elements[i]).textillate("in")
t.animation_in=!0,t.animated=!0}},Math.round(t.attrs.an_in_delay))},start_in_animation:function(){var t=this
0==e(t.dom_element).parents(".azexo-animations-disabled").length&&(""!=t.attrs.an_in||""!=t.attrs.an_js_in)&&(t.animated?t.animation_out?t.set_in_timeout():t.out_timeout>0&&(clearTimeout(t.out_timeout),t.hidden_after_in||t.set_in_timeout()):t.set_in_timeout())},set_out_timeout:function(){var t=this
t.out_timeout=setTimeout(function(){if(t.clear_animation(),""==t.attrs.an_letters)if("js"==t.attrs.an_out){e(t.dom_element).css("opacity","")
var n=t.attrs.an_js_out.split("-"),a=s.elements_instances_by_an_name[n[0]],o=a.an_scenes[parseInt(n[1])]
t.timeline_out=t.make_timeline(o,function(){t.end_animation()}),t.timeline_out.play(),t.animation_out=!0,t.animated=!0}else e(t.dom_element).css("opacity",""),e(t.dom_element).removeClass("animated"),e(t.dom_element).removeClass(t.attrs.an_in),e(t.dom_element).removeClass(t.attrs.an_out),t.animation_in=!1,t.animation_out=!1,e(t.dom_element).css("animation-duration",t.attrs.an_duration+"ms"),e(t.dom_element).css("-webkit-animation-duration",t.attrs.an_duration+"ms"),e(t.dom_element).css("animation-fill-mode",t.attrs.an_fill_mode),e(t.dom_element).css("-webkit-animation-fill-mode",t.attrs.an_fill_mode),e(t.dom_element).addClass("animated"),t.animated=!0,"yes"==t.attrs.an_infinite&&e(t.dom_element).addClass("infinite"),e(t.dom_element).addClass(t.attrs.an_out),t.animation_out=!0
else{t.animation_letters(),e(t.dom_element).css("opacity","")
for(var i=0;i<t.textillate_elements.length;i++)e(t.textillate_elements[i]).textillate("out")
t.animation_out=!0,t.animated=!0}},Math.round(t.attrs.an_out_delay))},start_out_animation:function(){var t=this
0==e(t.dom_element).parents(".azexo-animations-disabled").length&&(""!=t.attrs.an_out||""!=t.attrs.an_js_out)&&(t.animated?t.animation_in?t.set_out_timeout():t.in_timeout>0&&(clearTimeout(t.in_timeout),t.hidden_before_in||t.set_out_timeout()):t.set_out_timeout())},clear_animation:function(){if(this.animation_in&&(this.hidden_before_in&&e(this.dom_element).css("opacity","1"),this.hidden_after_in&&e(this.dom_element).css("opacity","0")),this.animation_out&&(this.hidden_before_in&&e(this.dom_element).css("opacity","0"),this.hidden_after_in&&e(this.dom_element).css("opacity","1")),""==this.attrs.an_letters)e(this.dom_element).hasClass("animated")?(e(this.dom_element).css("animation-duration",""),e(this.dom_element).css("-webkit-animation-duration",""),e(this.dom_element).css("animation-fill-mode",""),e(this.dom_element).css("-webkit-animation-fill-mode",""),e(this.dom_element).removeClass("animated"),this.animated=!1,e(this.dom_element).removeClass("infinite"),""==this.attrs.an_fill_mode&&(e(this.dom_element).removeClass(this.attrs.an_in),e(this.dom_element).removeClass(this.attrs.an_out),this.animation_in=!1,this.animation_out=!1)):("timeline_in"in this&&(this.timeline_in.resume(),this.timeline_in.kill(),delete this.timeline_in),"timeline_out"in this&&(this.timeline_out.resume(),this.timeline_out.kill(),delete this.timeline_out),this.animation_in=!1,this.animation_out=!1,this.animated=!1)
else{if("textillate_elements"in this){for(var t=0;t<this.textillate_elements.length;t++){e(this.textillate_elements[t]).data("textillate",!1),e(this.textillate_elements[t]).find("> span").remove()
var n=e(this.textillate_elements[t]).find("> ul > li").text()
e(this.textillate_elements[t]).find("> ul").remove(),e(this.textillate_elements[t]).text(n)}this.textillate_elements=[]}this.animation_in=!1,this.animation_out=!1,this.animated=!1}},end_animation:function(){this.in_timeout=0,this.out_timeout=0,this.animation_in&&(this.clear_animation(),"hover"!=this.attrs.an_start||this.hover||(this.attrs.an_in!=this.attrs.an_out?this.start_out_animation():"js"==this.attrs.an_in&&this.attrs.an_js_in!=this.attrs.an_js_out&&this.start_out_animation())),this.animation_out&&(this.clear_animation(),"hover"==this.attrs.an_start&&this.hover&&(this.attrs.an_in!=this.attrs.an_out?this.start_in_animation():"js"==this.attrs.an_in&&this.attrs.an_js_in!=this.attrs.an_js_out&&this.start_in_animation()))},trigger_start_in_animation:function(){"trigger"==this.attrs.an_start?this.start_in_animation():yt.baseclass.prototype.trigger_start_in_animation.apply(this,arguments)},trigger_start_out_animation:function(){"trigger"==this.attrs.an_start?this.start_out_animation():yt.baseclass.prototype.trigger_start_out_animation.apply(this,arguments)},animation_letters:function(){var t=this
t.textillate_elements=[]
var n=0,a=0
e(t.dom_element).find(":not(:has(*)):not(.control)").each(function(){var o=e(this).text().trim()
if(""!=o){n++
var i=!1,s=!1,r=!1
switch(t.attrs.an_letters){case"sequence":break
case"reverse":r=!0
break
case"sync":i=!0
break
case"shuffle":s=!0}t.textillate_elements.push(this),e(this).textillate(),e(this).textillate({loop:!1,autoStart:!1,"in":{effect:t.attrs.an_in,delayScale:1.5,delay:parseInt(t.attrs.an_duration)/o.length,sync:i,shuffle:s,reverse:r,callback:function(){a++,n>=a&&t.end_animation()}},out:{effect:t.attrs.an_out,delayScale:1.5,delay:parseInt(t.attrs.an_duration)/o.length,sync:i,shuffle:s,reverse:r,callback:function(){a++,n>=a&&t.end_animation()}}}).on("inAnimationBegin.tlt outAnimationBegin.tlt",function(){a=0}),e(this).data("textillate").currentIndex=0}})},animation:function(){var t=this
t.hidden_before_in=_.indexOf(t.attrs.an_hidden.split(","),"before_in")>=0,t.hidden_after_in=_.indexOf(t.attrs.an_hidden.split(","),"after_in")>=0,t.hidden_before_in&&e(t.dom_element).css("opacity","0"),t.hidden_after_in&&e(t.dom_element).css("opacity","1")
var n=t.attrs.an_parent
""==n&&(n=1),n=Math.round(n)
for(var a=0,o=e(t.dom_element);n>a;)o=e(o).parent().closest("[data-az-id]"),a++
if(""!=t.attrs.an_start){t.in_timeout=0,t.out_timeout=0,t.animated=!1,t.animation_in=!1,t.animation_out=!1,""!=t.attrs.an_letters||(e(t.dom_element).off("webkitAnimationEnd.az_animation mozAnimationEnd.az_animation MSAnimationEnd.az_animation oanimationend.az_animation animationend.az_animation"),e(t.dom_element).on("webkitAnimationEnd.az_animation mozAnimationEnd.az_animation MSAnimationEnd.az_animation oanimationend.az_animation animationend.az_animation",function(){t.end_animation()}))
var i=function(){switch(e(o).off("click.az_animation"+t.id),e(o).off("mouseenter.az_animation"+t.id),e(o).off("mouseleave.az_animation"+t.id),t.attrs.an_start){case"click":e(o).on("click.az_animation"+t.id,function(){t.animated||t.start_in_animation()})
break
case"appear":t.add_js({path:"jquery-waypoints/waypoints.min.js",loaded:"waypoint"in e.fn,callback:function(){e(t.dom_element).waypoint(function(){t.animated||t.start_in_animation()},{offset:"100%",triggerOnce:!0}),e(document).trigger("scroll")}})
break
case"hover":e(o).on("mouseenter.az_animation"+t.id,function(){t.hover=!0,t.start_in_animation()}),e(o).on("mouseleave.az_animation"+t.id,function(){t.hover=!1,t.start_out_animation()})
break
case"trigger":}}
t.add_css("animate.css/animate.min.css",!1,function(){""==t.attrs.an_letters?""!=t.attrs.an_js_in||""!=t.attrs.an_js_out?t.add_js_list({paths:["ScrollMagic/js/_dependent/greensock/TweenMax.min.js","ScrollMagic/js/_dependent/greensock/TimelineMax.min.js"],loaded:"TimelineMax"in window&&"TweenMax"in window,callback:i}):i():t.add_js_list({paths:["textillate/assets/jquery.lettering.js","js/textillate.js"],loaded:"textillate"in e.fn&&"lettering"in e.fn,callback:i})})}},update_js_animations_list:function(){var e={}
for(var t in s.elements_instances_by_an_name)for(var n=0;n<s.elements_instances_by_an_name[t].an_scenes.length;n++)s.elements_instances_by_an_name[t].an_name==t&&"-1"==s.elements_instances_by_an_name[t].an_scenes[n].duration&&(e[t+"-"+n]=n+" "+p("scene in")+" "+t+" "+p("animations set"))
for(var n=0;n<this.params.length;n++)("an_js_in"==this.params[n].param_name||"an_js_out"==this.params[n].param_name)&&(this.params[n].value=e)},edit:function(){this.update_js_animations_list(),yt.baseclass.prototype.edit.apply(this,arguments)},clone:function(){this.clear_animation(),yt.baseclass.prototype.clone.apply(this,arguments)},show_js_animations_editor:function(t,a,o){var i=this
i.animations_editor=t,e('<div class="tree '+n+'col-sm-5"></div><div class="options '+n+'col-sm-7"></div>').appendTo(t),azexo_add_css("jstree/dist/themes/default/style.min.css",function(){})
var r=""
r=p(a?"Name to identify this element in scroll animations":"Name to identify this JS animations set"),e(t).find(".tree").append('<div class="'+n+'form-group an-name"><label>'+p("Name")+'</label><div><input class="'+n+'form-control" name="an_name" type="text" value="'+i.an_name+'" required ></div><p class="'+n+'help-block">'+r+"</p></div>"),azexo_add_js({path:"jstree/dist/jstree.min.js",loaded:"jstree"in e.fn,callback:function(){function r(e){switch(e.duration){case"-1":return p("Real time scene")
case"0":return p("Scroll real time scene")+":"+e.offset+"|"+e.triggerHook
default:return p("Scroll scene")+":"+e.duration+"|"+e.offset+"|"+e.triggerHook}}function l(e){return p("Tween")+":"+e.target+"|"+e.duration}function d(o){switch(e(t).find(".options").empty(),a&&"-1"!=b[o].duration?e(t).find(".options").append('<div class="'+n+'form-group"><label>'+p("Type")+'</label><div class="'+n+'radio"><div class="'+n+'radio"><label><input type="radio" name="type" value="scroll">'+p("Scroll position as time line")+'</label></div><div class="'+n+'radio"><label><input type="radio" name="type" value="real">'+p("Real time fired by scroll position")+"</label></div></div>"):e('<div class="'+n+'form-group"><label>'+p("Type")+'</label><div class="'+n+'radio"><label><input type="radio" name="type" value="library">'+p("Real time, store in library")+"</label></div></div>").appendTo(e(t).find(".options")).css("display","none"),e(t).find('.options [name="type"]').on("change",function(){if(e(this).is(":checked"))switch(e(this).val()){case"library":e(t).find(".options ."+n+"form-group.repeat, .options ."+n+"form-group.repeatdelay").css("display","block"),e(t).find(".options ."+n+"form-group.duration, .options ."+n+"form-group.offset, .options ."+n+"form-group.trigger, .options ."+n+"form-group.pin").css("display","none"),b[o].duration="-1",k.jstree("edit",o,r(b[o]))
break
case"scroll":e(t).find(".options ."+n+"form-group.duration, .options ."+n+"form-group.offset, .options ."+n+"form-group.trigger, .options ."+n+"form-group.pin").css("display","block"),e(t).find(".options ."+n+"form-group.repeat, .options ."+n+"form-group.repeatdelay").css("display","none"),e(t).find('.options [name="duration"]').val("1000"),b[o].duration=e(t).find('.options [name="duration"]').val(),k.jstree("edit",o,r(b[o]))
break
case"real":e(t).find(".options ."+n+"form-group.duration").css("display","none"),e(t).find(".options ."+n+"form-group.repeat, .options ."+n+"form-group.repeatdelay, .options ."+n+"form-group.offset, .options ."+n+"form-group.trigger, .options ."+n+"form-group.pin").css("display","block"),b[o].duration="0",k.jstree("edit",o,r(b[o]))}}),b[o].duration){case"-1":e(t).find('.options [name="type"][value="library"]').attr("checked","checked")
break
case"0":e(t).find('.options [name="type"][value="real"]').attr("checked","checked")
break
default:e(t).find('.options [name="type"][value="scroll"]').attr("checked","checked")}e(t).find(".options").append('<div class="'+n+'form-group duration"><label>'+p("Duration")+'</label><div><input class="'+n+'form-control" name="duration" type="text" value="'+b[o].duration+'"></div><p class="'+n+'help-block">'+p("The duration of the scene in pixels")+"</p></div>"),e(t).find('.options [name="duration"]').on("change",function(){b[o].duration=e(this).val(),k.jstree("edit",o,r(b[o]))}),e(t).find(".options").append('<div class="'+n+'form-group offset"><label>'+p("Offset")+'</label><div><input class="'+n+'form-control" name="offset" type="text" value="'+b[o].offset+'"></div><p class="'+n+'help-block">'+p("Offset Value (in pixels) for the Trigger Position.")+"</p></div>"),e(t).find('.options [name="offset"]').on("change",function(){b[o].offset=e(this).val(),k.jstree("edit",o,r(b[o]))}),e(t).find(".options").append('<div class="'+n+'form-group repeat"><label>'+p("Repeat")+'</label><div class="'+n+'checkbox"><label><input type="checkbox" name="indefinite"> '+p("repeat indefinitely")+'</label></div><div><input class="'+n+'form-control" name="repeat" type="text" value="'+b[o].repeat+'"></div><p class="'+n+'help-block">'+p("Number of times that the timeline should repeat after its first iteration")+"</p></div>"),e(t).find('.options [name="repeat"]').on("change",function(){b[o].repeat=e(this).val()}),e(t).find('.options [name="indefinite"]').on("change",function(){e(this).prop("checked")?(b[o].repeat="-1",e(t).find(".options ."+n+"form-group.repeat ."+n+"form-control").css("display","none")):(b[o].repeat=e(t).find('.options [name="repeat"]').val(),b[o].repeat<0&&(e(t).find('.options [name="repeat"]').val("0"),b[o].repeat=0),e(t).find(".options ."+n+"form-group.repeat ."+n+"form-control").css("display","block"))}),"-1"==b[o].repeat?(e(t).find('.options [name="indefinite"]').attr("checked","checked"),e(t).find(".options ."+n+"form-group.repeat ."+n+"form-control").css("display","none")):e(t).find(".options ."+n+"form-group.repeat ."+n+"form-control").css("display","block"),e(t).find(".options").append('<div class="'+n+'form-group repeatdelay"><label>'+p("Repeat delay")+'</label><div><input class="'+n+'form-control" name="repeatDelay" type="text" value="'+b[o].repeatDelay+'"></div><p class="'+n+'help-block">'+p("Amount of time in seconds between repeats.")+"</p></div>"),e(t).find('.options [name="repeatDelay"]').on("change",function(){b[o].repeatDelay=e(this).val()})
var i=["onEnter","onCenter","onLeave"]
i=_.object(i,i),e(t).find(".options").append('<div class="'+n+'form-group trigger"><label>'+p("Trigger hook")+"</label><div>"+tt(i,"trigger-hook",b[o].triggerHook)+'</div><p class="'+n+'help-block">'+p("Trigger hook")+"</p></div>"),e(t).find('.options [name="trigger-hook"]').on("change",function(){b[o].triggerHook=e(this).val(),k.jstree("edit",o,r(b[o]))}),e(t).find(".options").append('<div class="'+n+'form-group pin"><label>'+p("Pin")+"</label><div>"+tt(_.object(_.keys(s.elements_instances_by_an_name),_.keys(s.elements_instances_by_an_name)),"pin",b[o].pin)+'</div><p class="'+n+'help-block">'+p("Pin element")+"</p></div>"),e(t).find('.options [name="pin"]').on("change",function(){b[o].pin=e(this).val()}),e(t).find('.options [name="type"]').trigger("change")}function m(n){i.an_scenes.push({duration:""+n,offset:0,triggerHook:"onCenter",timeline:[],repeat:"0",repeatDelay:"0"})
var l=k.jstree("create_node","#",{type:"scene",text:r(i.an_scenes[i.an_scenes.length-1]),state:{opened:!0}},"last")
if(b[l]=i.an_scenes[i.an_scenes.length-1],w[l]="scene",u(l),!a&&(i.an_name=e(t).find('.tree [name="an_name"]').val(),""!=i.an_name)){i.attrs.an_name=i.an_name,s.elements_instances_by_an_name[i.an_name]=i,e(i.dom_element).attr("data-an-name",i.an_name)
{i.an_scenes.length-1,i.an_name}o()}}function h(){e(t).find(".options").empty()}function u(e){var t=k.jstree("get_children_dom",e).length,n=k.jstree("create_node",e,{type:"step",text:p("Step")+":"+t,state:{opened:!0}},"last")
b[e].timeline.push({tweens:[]}),b[n]=b[e].timeline[b[e].timeline.length-1],w[n]="step",x[n]=e,v(n)}function f(a){function o(t,a,o){function i(t,i,l){function d(){var t=e(h).find('[name="'+p+'"]').val()
""!=i&&i!=t&&delete a[o][i]
var n=e(h).find('[name="'+m+'"]').val()
""!=t&&(i=t,_.isObject(a[o])||(a[o]={}),a[o][t]=n)}var p="property"+s,m="property"+s+"value",h=e('<div class="row"><div class="select '+n+'col-xs-5">'+tt(r,p,i)+'</div><div class="value '+n+'col-xs-5"><input class="'+n+'form-control" name="'+m+'" type="text" value="'+l+'"></div><div class="remove '+n+'col-xs-2"><button title="'+c("Remove")+'" type="button" class="control remove '+n+"btn "+n+"btn-danger "+n+"glyphicon "+n+'glyphicon-remove"> </button></div></div>').appendTo(t)
return e(h).find('[name="'+p+'"]').chosen({search_contains:!0}),e(h).find('[name="'+p+'"]').change(function(){d()}),e(h).find('[name="'+m+'"]').change(function(){d()}),e(h).find("button.remove").click(function(){var t=e(h).find('[name="'+p+'"]').val()
""!=t&&_.isObject(a[o])&&delete a[o][t],e(h).remove()}),s++,h}var s=0,r=_.keys(document.body.style)
r=_.object(r,r)
var l=e('<div><div class="'+n+'form-group properties"></div><div class="add-property"></div></div>').appendTo(t)
for(var d in a[o])var m=i(e(l).find(".properties"),d,a[o][d])
e('<button title="'+c("Add property")+'" class="add-property '+n+"btn "+n+'btn-default">'+p("Add property")+"</button>").appendTo(e(l).find(".add-property")).click(function(){return i(e(l).find(".properties"),"",""),!1})}var i=x[x[a]]
e(t).find(".options").empty(),"-1"!=b[i].duration&&(e(t).find(".options").append('<div class="'+n+'form-group"><label>'+p("Target")+"</label><div>"+tt(_.object(_.keys(s.elements_instances_by_an_name),_.keys(s.elements_instances_by_an_name)),"target",b[a].target)+'</div><p class="'+n+'help-block">'+p("Target element")+"</p></div>"),e(t).find('.options [name="target"]').on("change",function(){b[a].target=e(this).val(),k.jstree("edit",a,l(b[a]))})),e(t).find(".options").append('<div class="'+n+'form-group duration"><label>'+p("Duration")+'</label><div><input class="'+n+'form-control" name="duration" type="text" value="'+b[a].duration+'"></div><p class="'+n+'help-block">'+p("Duration of the tween in seconds.")+"</p></div>"),e(t).find('.options [name="duration"]').on("change",function(){b[a].duration=e(this).val(),k.jstree("edit",a,l(b[a]))}),e(t).find(".options").append('<div class="'+n+'form-group"><label>'+p("From")+'</label><div class="from"></div><p class="'+n+'help-block">'+p("From")+"</p></div>"),o(e(t).find(".options .from"),b[a].from,"css"),e(t).find(".options").append('<div class="'+n+'form-group"><label>'+p("To")+'</label><div class="to"></div><p class="'+n+'help-block">'+p("To")+"</p></div>"),o(e(t).find(".options .to"),b[a].to,"css")
for(var r=["Linear","Power0","Power1","Power2","Power3","Power4","Quad","Cubic","Quart","Quint","Strong","Elastic","Back","Bounce","SlowMo","SteppedEase","Circ","Expo","Sine"],d=[],m=0;m<r.length;m++)d.push(r[m]+".easeNone"),d.push(r[m]+".easeIn"),d.push(r[m]+".easeOut"),d.push(r[m]+".easeInOut")
d=_.object(d,d),e(t).find(".options").append('<div class="'+n+'form-group"><label>'+p("Ease")+"</label><div>"+tt(d,"ease",b[a].ease)+'</div><p class="'+n+'help-block">'+p("Ease")+"</p></div>"),e(t).find('.options [name="ease"]').on("change",function(){b[a].ease=e(this).val()}),e(t).find('.options [name="ease"]').chosen({search_contains:!0}),e(t).find(".options").append('<div class="'+n+'form-group delay"><label>'+p("Delay")+'</label><div><input class="'+n+'form-control" name="delay" type="text" value="'+b[a].delay+'"></div><p class="'+n+'help-block">'+p("Amount of delay in seconds before the tween should begin.")+"</p></div>"),e(t).find('.options [name="delay"]').on("change",function(){b[a].delay=e(this).val()}),"0"!=b[i].duration&&"-1"!=b[i].duration&&(e(t).find(".options ."+n+"form-group.duration").css("display","none"),e(t).find(".options ."+n+"form-group.delay").css("display","none"))}function v(e){b[e].tweens.push({target:"",duration:1,from:{},to:{},ease:"Linear.easeNone",delay:"0"})
var t=k.jstree("create_node",e,{type:"tween",text:l(b[e].tweens[b[e].tweens.length-1]),state:{opened:!0}},"last")
b[t]=b[e].tweens[b[e].tweens.length-1],w[t]="tween",x[t]=e}function g(e){switch(w[e]){case"scene":var t=i.an_scenes.indexOf(b[e])
if(t>-1)return[t]
break
case"step":var t=i.an_scenes.indexOf(b[x[e]])
if(t>-1){var n=i.an_scenes[t].timeline.indexOf(b[e])
if(n>-1)return[t,n]}break
case"tween":var t=i.an_scenes.indexOf(b[x[x[e]]])
if(t>-1){var n=i.an_scenes[t].timeline.indexOf(b[x[e]])
if(n>-1){var a=i.an_scenes[t].timeline[n].tweens.indexOf(b[e])
if(a>-1)return[t,n,a]}}}return!1}function y(){for(var e=0;e<i.an_scenes.length;e++)if(a&&"-1"!=i.an_scenes[e].duration||!a&&"-1"==i.an_scenes[e].duration){var t=k.jstree("create_node","#",{type:"scene",text:r(i.an_scenes[e]),state:{opened:!0}},"last")
b[t]=i.an_scenes[e],w[t]="scene"
for(var n=0;n<i.an_scenes[e].timeline.length;n++){var o=k.jstree("create_node",t,{type:"step",text:p("Step")+":"+n,state:{opened:!0}},"last")
b[o]=i.an_scenes[e].timeline[n],w[o]="step",x[o]=t
for(var s=0;s<i.an_scenes[e].timeline[n].tweens.length;s++){var d=k.jstree("create_node",o,{type:"tween",text:l(i.an_scenes[e].timeline[n].tweens[s]),state:{opened:!0}},"last")
b[d]=i.an_scenes[e].timeline[n].tweens[s],w[d]="tween",x[d]=o}}}}var b={},w={},x={}
i.add_scene_to_animations_editor=function(n){i.an_scenes.push(n)
var a=_.clone(i.an_scenes)
e(t).find("#jstree .jstree-node").each(function(){k.jstree("delete_node",e(this).attr("id"))}),i.an_scenes=a,y()}
var z=e('<div class="'+n+"btn-group "+n+'btn-group-xs"></div>').appendTo(e(t).find(".tree"))
e('<button title="'+c("Add scene")+'" class="add-scene '+n+"btn "+n+'btn-default">'+p("Add scene")+"</button>").appendTo(z).click(function(){return m(a?"1000":"-1"),!1}),e('<button title="'+c("Add timeline step")+'" class="add-step '+n+"btn "+n+'btn-default" disabled>'+p("Add step")+"</button>").appendTo(z).click(function(){var e=k.jstree("get_selected")
return u(e[0]),!1}),e('<button title="'+c("Add tween")+'" class="add-tween '+n+"btn "+n+'btn-default" disabled>'+p("Add tween")+"</button>").appendTo(z).click(function(){var e=k.jstree("get_selected")
return v(e[0]),!1}),e('<button title="'+c("Delete")+'" class="delete '+n+"btn "+n+'btn-default">'+p("Delete")+"</button>").appendTo(z).click(function(){var e=k.jstree("get_selected")
return e.length>0&&k.jstree("delete_node",e[0]),!1})
var k=e('<div id="jstree"></div>').appendTo(e(t).find(".tree")).jstree({core:{check_callback:function(e){return"rename_node"===e?!1:!0},multiple:!1,animation:0},types:{"#":{valid_children:["scene"]},scene:{icon:n+"glyphicon "+n+"glyphicon-play",valid_children:["step"]},step:{icon:n+"glyphicon "+n+"glyphicon-step-forward",valid_children:["tween"]},tween:{icon:n+"glyphicon "+n+"glyphicon-leaf",valid_children:[]}},plugins:["dnd","types"]}).on("changed.jstree",function(t,n){for(var a=0;a<n.selected.length;a++){var o=n.instance.get_node(n.selected[a]).id
switch(w[o]){case"scene":e(z).find(".add-step").removeAttr("disabled"),e(z).find(".add-tween").attr("disabled","disabled"),d(o)
break
case"step":e(z).find(".add-step").attr("disabled","disabled"),e(z).find(".add-tween").removeAttr("disabled"),h(o)
break
case"tween":e(z).find(".add-step").attr("disabled","disabled"),e(z).find(".add-tween").attr("disabled","disabled"),f(o)
break
default:e(z).find(".add-step").attr("disabled","disabled"),e(z).find(".add-tween").attr("disabled","disabled")}}}).on("delete_node.jstree",function(e,t){var n=(t.node.id,g(t.node.id))
switch(n.length){case 1:i.an_scenes.splice(n[0],1)
break
case 2:i.an_scenes[n[0]].timeline.splice(n[1],1)
break
case 3:i.an_scenes[n[0]].timeline[n[1]].tweens.splice(n[2],1)}}).on("move_node.jstree",function(e,t){var n=g(t.node.id)
if(t.parent==t.old_parent)switch(n.length){case 1:i.an_scenes.splice(t.position,0,i.an_scenes.splice(t.old_position,1)[0])
break
case 2:i.an_scenes[n[0]].timeline.splice(t.position,0,i.an_scenes[n[0]].timeline.splice(t.old_position,1)[0])
break
case 3:i.an_scenes[n[0]].timeline[n[1]].tweens.splice(t.position,0,i.an_scenes[n[0]].timeline[n[1]].tweens.splice(t.old_position,1)[0])}else{var a=g(t.parent),o=null
switch(n.length){case 1:o=i.an_scenes.splice(n[0],1)[0]
break
case 2:o=i.an_scenes[n[0]].timeline.splice(n[1],1)[0]
break
case 3:o=i.an_scenes[n[0]].timeline[n[1]].tweens.splice(n[2],1)[0]}switch(a.length){case 0:i.an_scenes.splice(t.position,0,o)
break
case 1:i.an_scenes[a[0]].timeline.splice(t.position,0,o)
break
case 2:i.an_scenes[a[0]].timeline[a[1]].tweens.splice(t.position,0,o)}}})
i.an_name="","an_name"in i.attrs&&(i.an_name=i.attrs.an_name,s.elements_instances_by_an_name[i.an_name]=i),i.an_scenes=[],"an_scenes"in i.attrs&&(i.an_scenes=e.parseJSON(decodeURIComponent(atob(i.attrs.an_scenes)))),y()}})},save_js_animations:function(t){var n=this
azexo_add_js({path:"js/json2.min.js",loaded:"JSON"in window,callback:function(){""!=n.an_name&&(n.attrs.an_name=n.an_name,s.elements_instances_by_an_name[n.an_name]=n,e(n.dom_element).attr("data-an-name",n.an_name)),n.attrs.an_scenes=btoa(encodeURIComponent(JSON.stringify(n.an_scenes))),t&&n.update_scroll_animation()}})},show_controls:function(){var t=this
window.azexo_editor&&(yt.baseclass.prototype.show_controls.apply(this,arguments),e('<button title="'+c("Scroll animations")+'" class="control scroll-animation '+n+"btn "+n+"btn-warning "+n+"glyphicon "+n+'glyphicon-sort"> </button>').appendTo(this.controls).click(function(){e("#az-js-animation-modal").remove()
var o='<div class="'+n+'modal-header"><button type="button" class="'+n+'close" data-dismiss="'+n+'modal" aria-hidden="true">&times;</button><h4 class="'+n+'modal-title">'+p("Scroll animation settings")+"</h4></div>",i='<div class="'+n+'modal-footer"><button type="button" class="'+n+"btn "+n+'btn-default" data-dismiss="'+n+'modal">'+p("Close")+'</button><button type="button" class="save '+n+"btn "+n+'btn-primary">'+p("Save changes")+"</button></div>",r=e('<div id="az-js-animation-modal" class="'+n+'modal azexo"><div class="'+n+"modal-dialog "+n+'modal-lg"><div class="'+n+'modal-content">'+o+'<div class="'+n+'modal-body"></div>'+i+"</div></div></div>").prependTo("body"),l=e('<div id="az-js-animation-tabs"><ul class="'+n+"nav "+n+'nav-tabs"><li><a href="#script" data-toggle="'+n+'tab">'+p("Script")+'</a></li><li><a href="#wizards" data-toggle="'+n+'tab">'+p("Wizards")+'</a></li></ul><div class="'+n+'tab-content"><div id="script" class="'+n+'tab-pane"></div><div id="wizards" class="'+n+'tab-pane"></div></div></div>')
e(r).find("."+n+"modal-body").append(l)
var d=e('<div id="az-js-animation-form" class="'+n+'clearfix"></div>')
return e(l).find("#script").append(d),e('#az-js-animation-tabs a[href="#script"]')[a+"tab"]("show"),t.show_js_animations_editor(d,!0,function(){}),e('<div class="'+n+'form-group"><label>'+p("Choose a wizard")+"</label>"+tt({vparalax:"Vertical paralax for child element"},"wizard","")+'</div><div id="wizard-form"></div>').appendTo(e(l).find("#wizards")),e(l).find('#wizards [name="wizard"]').change(function(){switch(e(l).find("#wizard-form").empty(),e(this).val()){case"vparalax":e(l).find("#wizard-form").append('<div class="'+n+'form-group"><label>'+p("Target")+"</label><div>"+tt(_.object(_.keys(s.elements_instances_by_an_name),_.keys(s.elements_instances_by_an_name)),"target","")+'</div><p class="'+n+'help-block">'+p("Target element")+"</p></div>"),e(l).find("#wizard-form").append('<div class="'+n+'form-group"><label>'+p("Shift")+'</label><div><input class="'+n+'form-control" name="shift" type="text" value="1000"></div><p class="'+n+'help-block">'+p("Number of pixels before/after original position when animation start/stop.")+"</p></div>"),e(l).find("#wizard-form").append('<div class="'+n+'form-group"><label>'+p("Speed")+'</label><div><input class="'+n+'form-control" name="speed" type="text" value="1"></div><p class="'+n+'help-block">'+p("Speed ratio. Where 1 mean speed which is equal to viewport speed.")+"</p></div>"),e('<button title="'+c("Create script")+'" class="create-script '+n+"btn "+n+'btn-default">'+p("Create script")+"</button>").appendTo(e(l).find("#wizard-form")).click(function(){var n=parseInt(e(l).find('#wizard-form [name="shift"]').val()),o=parseFloat(e(l).find('#wizard-form [name="speed"]').val()),i=e(l).find('#wizard-form [name="target"]').val(),r=s.elements_instances_by_an_name[i]
if(e(t.dom_element).find(r.dom_element).length>0){var d={target:i,duration:1,from:{css:{transform:"translateY("+n*o+"px)"}},to:{css:{transform:"translateY("+-n*o+"px)"}},ease:"Linear.easeNone",delay:"0"},c={tweens:[d]},m=e(r.dom_element).offset().top-e(t.dom_element).offset().top,h={duration:2*n,offset:m-n,triggerHook:"onCenter",timeline:[c],repeat:"0",repeatDelay:"0"}
t.add_scene_to_animations_editor(h),e('#az-js-animation-tabs a[href="#script"]')[a+"tab"]("show")}else e(l).find("#wizard-form").prepend(nt(p("Animated target element must be child of the current element.")))})}}),e("#az-js-animation-modal").find(".save").click(function(){return e(d).find('.tree [name="an_name"]'),""==e(d).find('.tree [name="an_name"]').val()?(e(d).find(".tree .an-name").addClass("has-error"),!1):(t.an_name=e(d).find('.tree [name="an_name"]').val(),t.save_js_animations(!0),e("#az-js-animation-modal")[a+"modal"]("hide"),e(document).trigger("azexo_edited_element",t.id),!1)}),e("#az-js-animation-modal")[a+"modal"]("show"),!1}))},make_timeline:function(e,t){var n={};("0"==e.duration||"-1"==e.duration)&&(n={repeat:parseInt(e.repeat),repeatDelay:parseFloat(e.repeatDelay)}),null!=t&&(n.onComplete=t)
for(var a=new TimelineMax(n),o=0;o<e.timeline.length;o++){for(var i=[],s=0;s<e.timeline[o].tweens.length;s++){var r='[data-az-id="'+this.id+'"]'
""!=e.timeline[o].tweens[s].target&&(r='[data-an-name="'+e.timeline[o].tweens[s].target+'"]')
var l=_.keys(e.timeline[o].tweens[s].from),d=_.keys(e.timeline[o].tweens[s].to)
if(0==l.length&&d.length>0){var c=e.timeline[o].tweens[s].to
c.ease=e.timeline[o].tweens[s].ease,c.delay=parseFloat(e.timeline[o].tweens[s].delay),i.push(TweenMax.to(r,e.timeline[o].tweens[s].duration,c))}if(l.length>0&&0==d.length){var p=e.timeline[o].tweens[s].from
p.ease=e.timeline[o].tweens[s].ease,p.delay=parseFloat(e.timeline[o].tweens[s].delay),i.push(TweenMax.from(r,e.timeline[o].tweens[s].duration,p))}if(l.length>0&&d.length>0){var p=e.timeline[o].tweens[s].from
p.ease=e.timeline[o].tweens[s].ease,p.delay=e.timeline[o].tweens[s].delay
var c=e.timeline[o].tweens[s].to
c.ease=e.timeline[o].tweens[s].ease,c.delay=parseFloat(e.timeline[o].tweens[s].delay),i.push(TweenMax.fromTo(r,e.timeline[o].tweens[s].duration,p,c))}}a.add(i)}return a},update_scroll_animation:function(){var t=this
this.add_js_list({paths:["ScrollMagic/js/_dependent/greensock/TweenMax.min.js","ScrollMagic/js/_dependent/greensock/TimelineMax.min.js","ScrollMagic/js/jquery.scrollmagic.min.js"],loaded:"ScrollMagic"in window,callback:function(){if(null==r){var n={}
window.azexo_editor,r=new ScrollMagic(n)}if(e.isArray(t.scroll_magic_scenes))for(var a=0;a<t.scroll_magic_scenes.length;a++)"indicators"in t.scroll_magic_scenes[a]&&"remove"in t.scroll_magic_scenes[a].indicators&&t.scroll_magic_scenes[a].indicators.remove(),r.removeScene(t.scroll_magic_scenes[a])
if(t.scroll_magic_scenes=[],0==e(t.dom_element).parents(".azexo-animations-disabled").length)for(var a=0;a<t.an_scenes.length;a++)if("-1"!=t.an_scenes[a].duration){var n={triggerElement:'[data-az-id="'+t.id+'"]',duration:t.an_scenes[a].duration,offset:t.an_scenes[a].offset,triggerHook:t.an_scenes[a].triggerHook},o=new ScrollScene(n).addTo(r)
t.scroll_magic_scenes.push(o),window.azexo_editor&&!function(e){t.add_js({path:"ScrollMagic/js/jquery.scrollmagic.debug.js",callback:function(){e.addIndicators({suffix:t.an_name})}})}(o),"pin"in t.an_scenes[a]&&""!=t.an_scenes[a].pin&&o.setPin('[data-an-name="'+t.an_scenes[a].pin+'"]')
var i=t.make_timeline(t.an_scenes[a],null)
o.setTween(i)}}})},showed:function(e){yt.baseclass.prototype.showed.apply(this,arguments),this.an_name="","an_name"in this.attrs&&""!=this.attrs.an_name&&(this.an_name=this.attrs.an_name,s.elements_instances_by_an_name[this.an_name]=this),this.an_scenes=[],"an_scenes"in this.attrs&&""!=this.attrs.an_scenes&&(this.an_scenes=e.parseJSON(decodeURIComponent(atob(this.attrs.an_scenes))),this.update_scroll_animation()),"an_start"in this.attrs&&""!=this.attrs.an_start&&"no"!=this.attrs.an_start&&this.animation()},render:function(e){"an_name"in this.attrs&&""!=this.attrs.an_name&&e(this.dom_element).attr("data-an-name",this.attrs.an_name),yt.baseclass.prototype.render.apply(this,arguments)}}),bt("az_section",!0,wt),Y(wt.prototype,{name:p("Section"),icon:"fa fa-square-o",description:p("Bootstrap grid container"),category:p("Layout"),params:[it({type:"checkbox",heading:p("Fluid?"),param_name:"fluid",value:{yes:p("Yes, please")}}),it({type:"dropdown",heading:p("Background Effect"),param_name:"effect",tab:p("Background Effects"),value:{"":p("Simple Image"),fixed:p("Fixed Image"),parallax:p("Parallax Image"),youtube:p("YouTube Video")},description:p("Select the effect you want to apply to the section background.")}),it({type:"integer_slider",heading:p("Parallax speed"),param_name:"parallax_speed",tab:p("Background Effects"),value:20,dependency:{element:"effect",value:["parallax"]}}),it({type:"checkbox",heading:p("Video Play Options"),param_name:"video_options",tab:p("Background Effects"),description:p("Select options for the video."),value:{loop:p("Loop"),mute:p("Muted")},dependency:{element:"effect",value:["youtube"]}}),it({type:"textfield",heading:p("YouTube Video URL"),param_name:"video_youtube",tab:p("Background Effects"),description:p("Enter the YouTube video URL."),dependency:{element:"effect",value:["youtube"]}}),it({type:"textfield",heading:p("Start Time in seconds"),param_name:"video_start",tab:p("Background Effects"),description:p("Enter time in seconds from where video start to play."),value:"0",dependency:{element:"effect",value:["youtube"]}}),it({type:"textfield",heading:p("Stop Time in seconds"),param_name:"video_stop",tab:p("Background Effects"),description:p("Enter time in seconds where video ends."),value:"0",dependency:{element:"effect",value:["youtube"]}})].concat(wt.prototype.params),is_container:!0,section:!0,get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+'text-overflow" data-az-element="'+this.base+'" style="width:100%;"><i class="'+n+"text-primary "+this.icon+'"></i><div>'+this.name+'</div><div class="'+n+"text-muted "+n+'small">'+this.description+"</div></div>"},showed:function(e){wt.baseclass.prototype.showed.apply(this,arguments)
var t=this
switch(this.attrs.effect){case"parallax":this.add_js_list({paths:["jquery.parallax/jquery.parallax.js","jquery-waypoints/waypoints.min.js"],loaded:"waypoint"in e.fn&&"parallax"in e.fn,callback:function(){e(t.dom_element).waypoint(function(){e(t.dom_element).css("background-attachment","fixed"),e(t.dom_element).css("background-position","50% 0"),e(t.dom_element).parallax("50%",t.attrs.parallax_speed/100)},{offset:"100%",triggerOnce:!0}),e(document).trigger("scroll")}})
break
case"fixed":e(t.dom_element).css("background-attachment","fixed")
break
case"youtube":var n=_.indexOf(t.attrs.video_options.split(","),"loop")>=0,a=_.indexOf(t.attrs.video_options.split(","),"mute")>=0
this.add_css("jquery.mb.YTPlayer/css/YTPlayer.css","mb_YTPlayer"in e.fn,function(){}),this.add_js_list({paths:["jquery.mb.YTPlayer/inc/jquery.mb.YTPlayer.js","jquery-waypoints/waypoints.min.js"],loaded:"waypoint"in e.fn&&"mb_YTPlayer"in e.fn,callback:function(){e(t.dom_element).waypoint(function(){e(t.dom_element).attr("data-property","{videoURL:'"+K(t.attrs.video_youtube)+"',containment:'#"+t.id+"', showControls:false, autoPlay:true, loop:"+n+", mute:"+a+", startAt:"+t.attrs.video_start+", stopAt:"+t.attrs.video_stop+", opacity:1, addRaster:false, quality:'default'}"),e(t.dom_element).mb_YTPlayer(),e(t.dom_element).playYTP()},{offset:"100%",triggerOnce:!0}),e(document).trigger("scroll")}})}},render:function(e,t){this.dom_element=e('<div id="'+this.id+'" class="az-element az-section '+this.attrs.el_class+' " style="'+this.attrs.style+'"></div>'),this.dom_content_element="yes"==this.attrs.fluid?e('<div class="az-ctnr '+t+'container-fluid"></div>').appendTo(this.dom_element):e('<div class="az-ctnr '+t+'container"></div>').appendTo(this.dom_element),wt.baseclass.prototype.render.apply(this,arguments)}}),bt("az_row",!0,xt),Y(xt.prototype,{name:p("Row"),icon:"fa fa-table",description:p("One row to implement a Bootstrap grid layout with responsive ability. You can choose number of columns and thier widths. Used by default."),category:p("Layout"),params:[it({type:"dropdown",heading:p("Device"),param_name:"device",value:{xs:p("Extra small devices Phones (<768px)"),sm:p("Small devices Tablets (≥768px)"),md:p("Medium devices Desktops (≥992px)"),lg:p("Large devices Desktops (≥1200px)")},description:p("Bootstrap responsive grid system")})].concat(xt.prototype.params),is_container:!0,get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+'text-overflow" data-az-element="'+this.base+'" style="width:100%;"><i class="'+n+"text-primary "+this.icon+'"></i><div>'+this.name+'</div><div class="'+n+"text-muted "+n+'small">'+this.description+"</div></div>"},show_controls:function(){if(window.azexo_editor){xt.baseclass.prototype.show_controls.apply(this,arguments),e(this.controls).find(".add").remove(),e(this.controls).find(".paste").remove()
for(var t=this,o=this.controls,i='<div class="row-layouts '+n+'clearfix">',s=["1/1","1/2 + 1/2","2/3 + 1/3","1/3 + 1/3 + 1/3","1/4 + 1/4 + 1/4 + 1/4","1/4 + 3/4","1/4 + 1/2 + 1/4","5/6 + 1/6","1/6 + 1/6 + 1/6 + 1/6 + 1/6 + 1/6","1/6 + 4/6 + 1/6","1/6 + 1/6 + 1/6 + 1/2"],r=0;r<s.length;r++)i+='<div title="'+c("Set "+s[r]+" colums")+'" class="control set-columns-layout l_'+s[r].replace(/ \+ /g,"_").replace(/\//g,"")+'" data-az-columns="'+s[r]+'"></div>'
i+="</div>"
var l=e('<button title="'+c("Set layout")+'" class="control set-columns '+n+"btn "+n+"btn-primary "+n+"glyphicon "+n+'glyphicon-th"> </button>').appendTo(this.controls).click({object:this},this.click_set_columns)[a+"popover"]({animation:!1,placement:n+"right",html:"true",trigger:"manual",content:i}).hover(function(){e(l)[a+"popover"]("show"),G(e(o)),G(e(o).find("."+n+"popover")),e(o).find("."+n+"popover .set-columns-layout").each(function(){e(this).click({object:t},t.click_set_columns)}),e(t.controls).mouseleave(function(){e(l)[a+"popover"]("hide"),e(l).css("display","")})})}},update_sortable:function(){window.azexo_editor&&e(this.dom_element).sortable({axis:"x",items:"> .az-column",handle:"> .controls > .drag-and-drop",update:this.update_sorting,placeholder:"az-sortable-placeholder",forcePlaceholderSize:!0,over:function(e,t){t.placeholder.attr("class",t.helper.attr("class")),t.placeholder.removeClass("ui-sortable-helper"),t.placeholder.addClass("az-sortable-placeholder")}})},update_sorting:function(){xt.baseclass.prototype.update_sorting.apply(this,arguments)
var t=s.get_element(e(this).closest("[data-az-id]").attr("data-az-id"))
if(t)for(var n=0;n<t.children.length;n++)t.children[n].update_empty()},update_dom:function(){xt.baseclass.prototype.update_dom.apply(this,arguments)
for(var e=0;e<this.children.length;e++)this.children[e].update_dom()},click_set_columns:function(t){var n=e(this).attr("data-az-columns")
if(""==n||void 0==n){if(""==t.data.object.columns){n=[]
for(var a=0;a<t.data.object.children.length;a++)n.push(t.data.object.children[a].attrs.width)
t.data.object.columns=n.join(" + ")}n=window.prompt(p("Enter custom layout for your row:"),t.data.object.columns)}return""!=n&&null!=n&&t.data.object.set_columns(n),!1},set_columns:function(e){this.columns=e
var t=e.replace(" ","").split("+")
if(0==this.children.length)for(var n=0;n<t.length;n++){var a=new zt(this,!0)
a.update_dom(),a.update_width(t[n])}else if(this.children.length==t.length)for(var n=0;n<t.length;n++)this.children[n].update_width(t[n])
else if(this.children.length>t.length){for(var o=this.children[t.length-1],n=0;n<this.children.length;n++)if(n<t.length)this.children[n].update_width(t[n])
else{for(var i=this.children[n],s=0;s<i.children.length;s++)i.children[s].parent=o,o.children.push(i.children[s])
i.children=[]}o.update_dom()
for(var r=this.children.slice(t.length,this.children.length),n=0;n<r.length;n++)r[n].remove()}else for(var n=0;n<t.length;n++)if(n<this.children.length)this.children[n].update_width(t[n])
else{var a=new zt(this,!0)
a.update_dom(),a.update_width(t[n])}this.update_sortable()},render:function(e,t){this.dom_element=e('<div class="az-element az-row '+t+"row "+this.attrs.el_class+'" style="'+this.attrs.style+'"></div>'),this.dom_content_element=this.dom_element,xt.baseclass.prototype.render.apply(this,arguments)}}),pt("az_column",!0,zt),Y(zt.prototype,{name:p("Column"),params:[it({type:"textfield",heading:p("Column with"),param_name:"width",hidden:!0})].concat(zt.prototype.params),hidden:!0,is_container:!0,show_parent_controls:!0,get_empty:function(){return'<div class="az-empty"><div class="top-left '+n+'well"><h1>↖</h1>'+p("Settings for this row and current column. You can choose columns layout by mouse over (or click) this button: ")+'<span class="'+n+"glyphicon "+n+'glyphicon-th"></span></div></div>'},show_controls:function(){window.azexo_editor&&(zt.baseclass.prototype.show_controls.apply(this,arguments),e(this.controls).find(".clone").remove(),e(this.controls).find(".copy").remove(),e(this.controls).find(".remove").remove())},get_my_shortcode:function(){return this.get_children_shortcode()},update_width:function(t){e(this.dom_element).removeClass(F(this.attrs.width,this.parent.attrs.device)),this.attrs.width=t,e(this.dom_element).addClass(F(this.attrs.width,this.parent.attrs.device)),e(document).trigger("azexo_update_element",this.id)},render:function(e){this.dom_element=e('<div class="az-element az-ctnr az-column '+this.attrs.el_class+" "+F(this.attrs.width,this.parent.attrs.device)+'" style="'+this.attrs.style+'"></div>'),this.dom_content_element=this.dom_element,zt.baseclass.prototype.render.apply(this,arguments)}}),bt("az_grid",!0,kt),Y(kt.prototype,{name:p("Grid"),icon:"fa fa-th-large",description:p("Grid with filter by tags. Every item of grid can contain any number of any types of elements."),category:p("Layout"),params:[it({type:"integer_slider",heading:p("Columns number"),param_name:"columns_number",min:"1",max:"20",value:"3"}),it({type:"checkbox",heading:p("Masonry grid?"),param_name:"masonry",value:{yes:p("Yes, please")}})].concat(kt.prototype.params),is_container:!0,get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+'text-overflow" data-az-element="'+this.base+'" style="width:100%;"><i class="'+n+"text-primary "+this.icon+'"></i><div>'+this.name+'</div><div class="'+n+"text-muted "+n+'small">'+this.description+"</div></div>"},update_sortable:function(){function t(e,t){t.placeholder.attr("class",t.helper.attr("class")),t.placeholder.css("width",t.helper.css("width")),t.placeholder.css("height",t.helper.css("height")),t.placeholder.removeClass("ui-sortable-helper"),t.placeholder.addClass("az-sortable-placeholder")}if(window.azexo_editor){var n=this
e(this.dom_element).find("> ul").sortable({items:"> .az-item",connectWith:".az-grid > ul",handle:"> .controls > .drag-and-drop",update:n.update_sorting,placeholder:"az-sortable-placeholder",forcePlaceholderSize:!0,start:t,over:t})}},update_sorting:function(){kt.baseclass.prototype.update_sorting.apply(this,arguments)
var t=s.get_element(e(this).closest("[data-az-id]").attr("data-az-id"))
if(t)for(var n=0;n<t.children.length;n++)t.children[n].update_empty()},show_controls:function(){window.azexo_editor&&(kt.baseclass.prototype.show_controls.apply(this,arguments),e(this.controls).find(".add").remove(),e(this.controls).find(".paste").remove(),e(this.controls).find(".clone").remove(),azexo_add_js({path:"js/json2.min.js",loaded:"JSON"in window,callback:function(){}}))},click_add_item:function(e){return e.data.object.add_item(),!1},add_item:function(){var e=new jt(this,!0)
e.update_dom(),this.update_dom()},attach_events:function(){function t(t,a){var o=s.get_element(a)
if((a in n.linked_elements_index||o.parent.id in n.linked_elements_index)&&!("element_updating"in n)){n.element_updating=!0
var o=s.get_element(a),i=n.get_item(o)
n.add_control(o),t||o.synchronize(),e(o.parent.dom_content_element).hasClass("ui-sortable")&&o.id!=i.id&&e(o.parent.dom_content_element).sortable("option","containment",i.dom_content_element),delete n.element_updating}}if(window.azexo_editor){var n=this
e(document).on("azexo_add_element",function(t,a){var o=s.get_element(a.id),i=n.get_item(o)
null!=i&&(i.parent.linked_elements_index[o.id]=o),(o.parent.id in n.linked_elements_index||"az_item"==o.base)&&("element_adding"in n||(n.element_adding=!0,n.add_control(o),a.position&&"az_column"!=o.base||o.synchronize(),e(o.parent.dom_content_element).hasClass("ui-sortable")&&o.id!=i.id&&e(o.parent.dom_content_element).sortable("option","containment",i.dom_content_element),delete n.element_adding))}),e(document).on("azexo_edited_element",function(e,n){t(!0,n)}),e(document).on("azexo_update_element",function(e,n){t(!1,n)}),e(document).on("azexo_delete_element",function(e,t){var a=s.get_element(t),o=n.get_item(a)
if(null!=o&&a.id in o.parent.linked_elements_index&&"az_item"!=a.base&&!("element_deleting"in n)){if(n.element_deleting=!0,!("item_removing"in n))for(var i=n.get_linked_elements(a,!0),r=0;r<i.length;r++)a.id!=i[r].id&&i[r].remove()
delete o.parent.linked_elements_index[a.id],delete n.element_deleting}}),e(document).on("azexo_update_sorting",function(t,a){var o=e(a.item).closest("[data-az-id]").attr("data-az-id")
if(o in n.linked_elements_index){var i=s.get_element(o),r=n.get_item(i)
if(null==r)delete n.linked_elements_index[o]
else if(i.id!=r.id)if(a.source.id==a.target.id)for(var l=n.get_linked_elements(i.parent,!1),d=(n.get_path(i.parent),0);d<l.length;d++){var c=l[d]
c.id!=i.parent.id&&(c.children.splice(a.to_pos,0,c.children.splice(a.from_pos,1)[0]),c.update_dom())}else for(var p=(n.get_path(a.source),n.get_linked_elements(a.source,!1)),m=(n.get_path(a.target),n.get_linked_elements(a.target,!1)),d=0;d<p.length;d++){var h=p[d],_=m[d]
if(h.id!=a.source.id&&_.id!=a.target.id){var u=h.children.splice(a.from_pos,1)[0]
h.update_dom(),_.children.splice(a.to_pos,0,u),_.update_dom()}}}})}},get_path:function(e){if("az_item"==e.base)return[]
if("parent"in e){var t=this.get_path(e.parent)
return null!=t?this.get_path(e.parent).concat([e.get_child_position()]):null}return null},get_item:function(e){return"az_item"==e.base?e:"parent"in e?this.get_item(e.parent):null},get_linked_elements:function(e,t){for(var n=[],a=this.get_path(e),o=0;o<this.children.length;o++){for(var i=this.children[o],s=0;s<a.length;s++){if(!(a[s]<i.children.length))return[]
i=i.children[a[s]]}if(e.base==i.base){if(t)for(var s=0;s<n.length;s++)if(n[s].parent.children.length!=i.parent.children.length)return[]
n.push(i)}}return n},add_control:function(t){var a=this
t.synchronize=function(){var e=a.get_linked_elements(this,!0)
if(e.length==a.children.length)for(var t=0;t<e.length;t++)e[t].edited(this.attrs)
else{var e=a.get_linked_elements(this.parent,!0)
if(e.length==a.children.length)for(var n=ct.prototype.tags[this.base],o=this.get_child_position(),t=0;t<e.length;t++)if(e[t].id!=this.parent.id){var i=e[t],s=new n(i,!0)
i.children.splice(o,0,i.children.splice(i.children.length-1,1)[0]),s.update_dom(),i.update_dom(),a.linked_elements_index[s.id]=s,a.add_control(s)}}},_.defer(function(){var o=a.get_item(t)
null!=o&&null!=t.parent.dom_content_element&&t.id!=o.id&&e(t.parent.dom_content_element).hasClass("ui-sortable")&&e(t.parent.dom_content_element).sortable("option","containment",o.dom_content_element),null!=t.controls&&(e(t.controls).find(".copy").remove(),e(t.controls).find(".paste").remove(),e(t.controls).find(".save-template").remove(),"az_item"!=t.base&&e(t.controls).find(".clone").remove(),0==t.controls.find(".synchronize").length&&e('<button title="'+c("Synchronize this element settings through all grid items")+'" class="control synchronize '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-pushpin" > </button>').appendTo(t.controls).click({object:t},function(e){return e.data.object.synchronize(),!1}))})
for(var o=0;o<t.children.length;o++)a.add_control(t.children[o])},showed:function(e,t){kt.baseclass.prototype.showed.apply(this,arguments)
var n=this
this.add_js({path:"js/masonry.min.js",loaded:"masonry"in e.fn,callback:function(){for(var a=Math.floor(e(n.dom_element).parent().width()/parseInt(n.attrs.columns_number)),o=[],i=0;i<n.children.length;i++)if(e(n.children[i].dom_element).css("width",a),""!=n.children[i].attrs.tags){for(var s=n.children[i].attrs.tags.split(","),r=0;r<s.length;r++)s[r]=s[r].replace(/ /g,"")
o=o.concat(s)}if(o=e.unique(o),e(n.dom_element).find(".az-tags").remove(),o.length>0){var l=e('<div class="az-tags '+t+'btn-group"></div>').prependTo(n.dom_element)
e('<a class="az-tag '+t+"btn "+t+'btn-default">'+p("All")+"</a>").appendTo(l).click(function(){e(n.dom_content_element).find("> .az-item").css("display","block"),"yes"==n.attrs.masonry&&e(n.dom_element).find("ul").masonry("layout")})
for(var i=0;i<o.length;i++)!function(a){e('<a class="az-tag '+t+"btn "+t+'btn-default">'+o[a]+"</a>").appendTo(l).click(function(){e(n.dom_content_element).find('> .az-item[data-az-tags*="'+o[a]+'"]').css("display","block"),e(n.dom_content_element).find('> .az-item:not([data-az-tags*="'+o[a]+'"])').css("display","none"),"yes"==n.attrs.masonry&&e(n.dom_element).find("ul").masonry("layout")})}(i)}"yes"==n.attrs.masonry&&e(n.dom_element).find("ul").masonry({itemSelector:"li",columnWidth:a})}})},render:function(e,t){this.dom_element=e('<div class="az-element az-grid '+this.attrs.el_class+'" style="'+this.attrs.style+'"></div>'),this.dom_content_element=e('<ul class="'+t+'clearfix"></ul>').appendTo(this.dom_element),kt.baseclass.prototype.render.apply(this,arguments)}}),pt("az_item",!0,jt),Y(jt.prototype,{name:p("Item"),params:[it({type:"textfield",heading:p("Item tags"),param_name:"tags",descritption:p("Separated by comma.")}),it({type:"textfield",heading:p("Item height"),param_name:"height",description:p("You can use px, em, %, etc. or enter just number and it will use pixels.")})].concat(jt.prototype.params),hidden:!0,is_container:!0,disallowed_elements:["az_grid","az_tabs","az_accordion","az_carousel","az_form"],show_parent_controls:!0,get_empty:function(){return'<div class="az-empty"><div class="top-left '+n+'well"><h1>↖</h1>'+p("Settings for this grid element and for current item element. You can add new item via clone current item by click on this button:")+'<span class="'+n+"glyphicon "+n+'glyphicon-repeat"></span></div><div class="bottom '+n+'well"><strong>'+p("1) Create one item as template. 2) Clone it as much as you want. 3) Customize every item.")+"</strong></div></div>"},get_my_shortcode:function(){return this.get_children_shortcode()},remove:function(){this.parent.item_removing=!0,jt.baseclass.prototype.remove.apply(this,arguments),delete this.parent.item_removing,this.parent.showed(e,n,a)},clone:function(){var t=jt.baseclass.prototype.get_my_shortcode.apply(this,arguments)
e("#azexo-clipboard").html(btoa(encodeURIComponent(t)))
for(var n=0;n<this.parent.children.length;n++)if(this.parent.children[n].id==this.id){this.parent.paste(n)
break}this.parent.update_dom()},show_controls:function(){window.azexo_editor&&(jt.baseclass.prototype.show_controls.apply(this,arguments),this.parent.add_control(this))},edited:function(){jt.baseclass.prototype.edited.apply(this,arguments),this.parent.showed(e,n,a)},showed:function(e){jt.baseclass.prototype.showed.apply(this,arguments)
var t=Math.floor(e(this.parent.parent.dom_content_element).width()/parseInt(this.parent.attrs.columns_number))
e(this.dom_element).css("width",t)},render:function(e){this.dom_element=e('<li class="az-element az-ctnr az-item '+this.attrs.el_class+'" style="'+this.attrs.style+'" data-az-tags="'+this.attrs.tags+'"></li>'),this.dom_content_element=this.dom_element,"height"in this.attrs&&e(this.dom_element).css("height",this.attrs.height),jt.baseclass.prototype.render.apply(this,arguments)}}),bt("az_layers",!0,Tt),Y(Tt.prototype,{name:p("Layers"),icon:"fa fa-archive",description:p("Box with fixed size. Every contained element have free position and free size in proportion with this element."),category:p("Layout"),params:[it({type:"textfield",heading:p("Width"),param_name:"width",description:p("You can use px, em, %, etc. or enter just number and it will use pixels."),value:"100%"}),it({type:"integer_slider",heading:p("Height"),param_name:"height",max:"10000",value:"500"}),it({type:"checkbox",heading:p("Responsive?"),param_name:"responsive",value:{yes:p("Yes, please")}}),it({type:"integer_slider",heading:p("Original width"),param_name:"o_width",hidden:!0})].concat(Tt.prototype.params),show_settings_on_create:!0,is_container:!0,disallowed_elements:["az_layers"],get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+'text-overflow" data-az-element="'+this.base+'" style="width:100%;"><i class="'+n+"text-primary "+this.icon+'"></i><div>'+this.name+'</div><div class="'+n+"text-muted "+n+'small">'+this.description+"</div></div>"},get_empty:function(){return'<div class="az-empty"><div class="top '+n+'well">'+p("Double click will add a new element. All elements are draggable and resizable. Middle mouse click will iterate via all elements placed in this container - it can help when elements overlapped.")+'</div><div class="top-left '+n+'well"><h1>↖</h1>'+p("Settings for this layers element.")+"</div></div>"},zindex_normalize:function(){for(var t=[],n=0;n<this.children.length;n++)isNaN(parseInt(this.children[n].attrs.pos_zindex))&&(this.children[n].attrs.pos_zindex=0),t.push(parseInt(this.children[n].attrs.pos_zindex))
t=_.sortBy(t,function(e){return e}),t=_.uniq(t)
for(var n=0;n<this.children.length;n++){var a=_.sortedIndex(t,parseInt(this.children[n].attrs.pos_zindex))
e(this.children[n].dom_element).css("z-index",a),this.children[n].attrs.pos_zindex=a}},update_sortable:function(){function t(t){var n=e(t).closest("[data-az-id]").attr("data-az-id"),i=s.get_element(n)
i.attrs.pos_left=parseInt(e(t).css("left"))/(e(o.dom_content_element).width()/100)+"%",i.attrs.pos_top=parseInt(e(t).css("top"))/(e(o.dom_content_element).height()/100)+"%",i.attrs.pos_width=parseInt(e(t).css("width"))/(e(o.dom_content_element).width()/100)+"%",i.attrs.pos_height=parseInt(e(t).css("height"))/(e(o.dom_content_element).height()/100)+"%",a(t),o.attrs.o_width=e(o.dom_element).width(),e(document).trigger("azexo_update_element",n)}function a(t){e(t).css("left",parseInt(e(t).css("left"))/(e(o.dom_content_element).width()/100)+"%"),e(t).css("top",parseInt(e(t).css("top"))/(e(o.dom_content_element).height()/100)+"%"),e(t).css("width",parseInt(e(t).css("width"))/(e(o.dom_content_element).width()/100)+"%"),e(t).css("height",parseInt(e(t).css("height"))/(e(o.dom_content_element).height()/100)+"%")}if(window.azexo_editor){var o=this
o.zindex_normalize(),e(this.dom_content_element).resizable({start:function(){for(var e=0;e<o.children.length;e++){var t=o.children[e].dom_element
a(t)}},stop:function(){o.attrs.width=parseInt(e(o.dom_content_element).css("width"))/(e(o.dom_element).width()/100)+"%",e(o.dom_content_element).width(o.attrs.width),o.attrs.height=e(o.dom_content_element).height(),e(document).trigger("azexo_update_element",o.id)}})
for(var i=0;i<this.children.length;i++)e.isNumeric(e(this.children[i].dom_element).css("z-index"))||e(this.children[i].dom_element).css("z-index",0),null==this.children[i].controls&&this.children[i].show_controls(),null==this.children[i].attrs.pos_top&&(this.children[i].attrs.pos_top="50%"),null==this.children[i].attrs.pos_left&&(this.children[i].attrs.pos_left="50%"),null==this.children[i].attrs.pos_width&&(this.children[i].attrs.pos_width="50%"),null==this.children[i].attrs.pos_height&&(this.children[i].attrs.pos_height="50%"),0==this.children[i].controls.find(".width100").length&&e('<button title="'+c("100% width")+'" class="control width100 '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-resize-horizontal" > </button>').appendTo(this.children[i].controls).click({object:this.children[i]},function(t){return t.data.object.attrs.pos_left="0%",e(t.data.object.dom_element).css("left","0%"),t.data.object.attrs.pos_width="100%",e(t.data.object.dom_element).css("width","100%"),!1}),0==this.children[i].controls.find(".heigth100").length&&e('<button title="'+c("100% heigth")+'" class="control heigth100 '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-resize-vertical" > </button>').appendTo(this.children[i].controls).click({object:this.children[i]},function(t){return t.data.object.attrs.pos_top="0%",e(t.data.object.dom_element).css("top","0%"),t.data.object.attrs.pos_height="100%",e(t.data.object.dom_element).css("height","100%"),!1}),0==this.children[i].controls.find(".forward").length&&e('<button title="'+c("Bring forward")+'" class="control forward '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-arrow-up" > </button>').appendTo(this.children[i].controls).click({object:this.children[i]},function(t){return e.isNumeric(e(t.data.object.dom_element).css("z-index"))?(e(t.data.object.dom_element).css("z-index",Math.round(e(t.data.object.dom_element).css("z-index"))+1),t.data.object.attrs.pos_zindex=e(t.data.object.dom_element).css("z-index")):(e(t.data.object.dom_element).css("z-index",0),t.data.object.attrs.pos_zindex=0),o.zindex_normalize(),!1}),0==this.children[i].controls.find(".backward").length&&e('<button title="'+c("Send backward")+'" class="control backward '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-arrow-down" > </button>').appendTo(this.children[i].controls).click({object:this.children[i]},function(t){return e.isNumeric(e(t.data.object.dom_element).css("z-index"))?Math.round(e(t.data.object.dom_element).css("z-index"))>0&&(e(t.data.object.dom_element).css("z-index",Math.round(e(t.data.object.dom_element).css("z-index"))-1),t.data.object.attrs.pos_zindex=e(t.data.object.dom_element).css("z-index")):(e(t.data.object.dom_element).css("z-index",0),t.data.object.attrs.pos_zindex=0),o.zindex_normalize(),!1}),e(this.children[i].dom_element).draggable({handle:"> .controls > .drag-and-drop",containment:"#"+this.id,scroll:!1,snap:"#"+this.id+", .az-element",stop:function(){t(this)}}),e(this.children[i].dom_element).resizable({containment:"#"+this.id,stop:function(){t(this)}})}},show_controls:function(){if(window.azexo_editor){Tt.baseclass.prototype.show_controls.apply(this,arguments),this.update_sortable()
var t=this
e(this.dom_content_element).dblclick(function(e){1==e.which&&s.show(t,function(t){t.attrs.pos_top=""+e.offsetY+"px",t.attrs.pos_left=""+e.offsetX+"px"})})}},attach_children:function(){Tt.baseclass.prototype.attach_children.apply(this,arguments),window.azexo_editor&&this.update_sortable()},showed:function(e){function t(e,t){var n="",a=e.attrs[t].match(/font-size[: ]*([\-\d\.]*)(px|%|em) *;/)
return null!=a&&(n=a[1]),n}function n(o,i){var s=t(o,"style")
""!=s&&(s*=i,e(o.dom_element).css("font-size",s+"px"))
for(var r=0;r<o.children.length;r++)n(a.children[r],i)}Tt.baseclass.prototype.showed.apply(this,arguments)
var a=this
e(window).off("resize.az_layers"+a.id),"yes"==this.attrs.responsive&&(e(window).on("resize.az_layers"+a.id,function(){var t=e(a.dom_element).width()
"o_width"in a.attrs&&""!=a.attrs.o_width||(a.attrs.o_width=t)
var o=t/a.attrs.o_width
e(a.dom_element).css("font-size",100*o+"%"),e(a.dom_content_element).css("height",a.attrs.height*o+"px"),n(a,o)}),e(window).trigger("resize"))},render:function(e){this.dom_element=e('<div class="az-element az-layers '+this.attrs.el_class+'" style="'+this.attrs.style+'"><div id="'+this.id+'" class="az-ctnr"></div></div>'),this.dom_content_element=e(this.dom_element).find(".az-ctnr"),e(this.dom_content_element).css("width",this.attrs.width),e(this.dom_content_element).css("height",this.attrs.height),Tt.baseclass.prototype.render.apply(this,arguments)}}),bt("az_tabs",!0,Ct),Y(Ct.prototype,{name:p("Tabs"),icon:"fa fa-folder-o",description:p("Bootstrap content tabs. Every tab can contain any number of any types of elements."),category:p("Layout"),params:[].concat(Ct.prototype.params),is_container:!0,get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+'text-overflow" data-az-element="'+this.base+'" style="width:100%;"><i class="'+n+"text-primary "+this.icon+'"></i><div>'+this.name+'</div><div class="'+n+"text-muted "+n+'small">'+this.description+"</div></div>"},show_controls:function(){window.azexo_editor&&(Ct.baseclass.prototype.show_controls.apply(this,arguments),e(this.controls).find(".add").remove(),e(this.controls).find(".paste").remove(),e('<button title="'+c("Add tab")+'" class="control add-tab '+n+"btn "+n+"btn-primary "+n+"glyphicon "+n+'glyphicon-plus-sign" > </button>').appendTo(this.controls).click({object:this},this.click_add_tab))},update_sortable:function(){window.azexo_editor&&e(this.dom_element).sortable({axis:"x",items:"> ul > li",update:this.update_sorting,placeholder:"az-sortable-placeholder",forcePlaceholderSize:!0,over:function(e,t){t.placeholder.attr("class",t.helper.attr("class")),t.placeholder.removeClass("ui-sortable-helper"),t.placeholder.addClass("az-sortable-placeholder")}})},update_sorting:function(t,a){var o=s.get_element(e(this).attr("data-az-id"))
if(o){var i=e(this).sortable("option"),r=[]
e(this).find(i.items).each(function(){var t=e(this).find('a[data-toggle="'+n+'tab"]').attr("href").replace("#","")
r.push(s.get_element(t))}),o.children=r
for(var l=0;l<o.children.length;l++)o.children[l].parent=o
o.update_dom(),e(document).trigger("azexo_update_sorting",a)}},click_add_tab:function(e){return e.data.object.add_tab(),!1},add_tab:function(){var t=new St(this,!1)
t.update_dom(),this.update_dom(),e(this.dom_element).find('a[href="#'+t.id+'"]')[a+"tab"]("show")},showed:function(e,t,n){Ct.baseclass.prototype.showed.apply(this,arguments),e(this.dom_element).find("ul."+t+"nav-tabs li:first a")[n+"tab"]("show")},render:function(e,t){this.dom_element=e('<div class="az-element az-tabs '+this.attrs.el_class+'" style="'+this.attrs.style+'"></div>')
for(var n='<ul class="'+t+"nav "+t+'nav-tabs" role="tablist">',a=0;a<this.children.length;a++)n+='<li><a href="#'+this.children[a].id+'" role="tab" data-toggle="'+t+'tab">'+this.children[a].attrs.title+"</a></li>"
n+="</ul>",e(this.dom_element).append(n)
var o='<div id="'+this.id+'" class="'+t+'tab-content"></div>'
this.dom_content_element=e(o).appendTo(this.dom_element),Ct.baseclass.prototype.render.apply(this,arguments)}}),pt("az_tab",!0,St),Y(St.prototype,{name:p("Tab"),params:[it({type:"textfield",heading:p("Tab title"),param_name:"title",value:p("Title")})].concat(St.prototype.params),hidden:!0,is_container:!0,show_parent_controls:!0,get_empty:function(){return'<div class="az-empty"><div class="top-left '+n+'well"><h1>↖</h1>'+p("Settings for this tabs element and for current tab element. ")+'<span class="'+n+"glyphicon "+n+'glyphicon-plus-sign"></span>'+p(" - add a new tab.")+" "+p("Tabs headers are draggable. You can enter tab title by click on this button: ")+'<span class="'+n+"glyphicon "+n+'glyphicon-pencil"></span></div></div>'},show_controls:function(){window.azexo_editor&&(St.baseclass.prototype.show_controls.apply(this,arguments),e(this.controls).find(".drag-and-drop").remove(),e('<span class="control '+n+"btn "+n+"btn-primary "+n+'glyphicon">'+this.name+"</span>").prependTo(this.controls))},get_my_shortcode:function(){return this.get_children_shortcode()},edited:function(){St.baseclass.prototype.edited.apply(this,arguments),this.parent.update_dom(),e('a[href="#'+this.id+'"]')[a+"tab"]("show")},clone:function(){var t=St.baseclass.prototype.get_my_shortcode.apply(this,arguments)
e("#azexo-clipboard").html(btoa(encodeURIComponent(t))),this.parent.paste(this.parent.children.length),this.parent.update_dom()},remove:function(){St.baseclass.prototype.remove.apply(this,arguments),this.parent.update_dom()},render:function(e,t){this.dom_element=e('<div id="'+this.id+'" class="az-element az-ctnr az-tab '+t+"tab-pane "+this.attrs.el_class+'" style="'+this.attrs.style+'"></div>'),this.dom_content_element=this.dom_element,St.baseclass.prototype.render.apply(this,arguments)}}),bt("az_accordion",!0,Ot),Y(Ot.prototype,{name:p("Accordion"),icon:"fa fa-bars",description:p("Bootstrap content accordion. Every toggle of this element can contain any number of any types of elements."),category:p("Layout"),params:[it({type:"dropdown",heading:p("Type"),param_name:"type",value:{"panel-default":p("Default"),"panel-primary":p("Primary"),"panel-success":p("Success"),"panel-info":p("Info"),"panel-warning":p("Warning"),"panel-danger":p("Danger")}}),it({type:"checkbox",heading:p("Collapsed?"),param_name:"collapsed",value:{yes:p("Yes, please")}})].concat(Ot.prototype.params),is_container:!0,get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+'text-overflow" data-az-element="'+this.base+'" style="width:100%;"><i class="'+n+"text-primary "+this.icon+'"></i><div>'+this.name+'</div><div class="'+n+"text-muted "+n+'small">'+this.description+"</div></div>"},show_controls:function(){window.azexo_editor&&(Ot.baseclass.prototype.show_controls.apply(this,arguments),e(this.controls).find(".add").remove(),e(this.controls).find(".paste").remove(),e('<button title="'+c("Add toggle")+'" class="control add-toggle '+n+"btn "+n+"btn-primary "+n+"glyphicon "+n+'glyphicon-plus-sign" > </button>').appendTo(this.controls).click({object:this},this.click_add_toggle))},update_sortable:function(){window.azexo_editor&&e(this.dom_element).sortable({axis:"y",items:"> .az-toggle",handle:"> .controls > .drag-and-drop",update:this.update_sorting,placeholder:"az-sortable-placeholder",forcePlaceholderSize:!0,over:function(e,t){t.placeholder.attr("class",t.helper.attr("class")),t.placeholder.removeClass("ui-sortable-helper"),t.placeholder.addClass("az-sortable-placeholder")}})},click_add_toggle:function(e){return e.data.object.add_toggle(),!1},add_toggle:function(){var e=new It(this,!1)
e.update_dom(),this.update_dom()},update_dom:function(){for(var e=0;e<this.children.length;e++)this.children[e].update_dom()
Ot.baseclass.prototype.update_dom.apply(this,arguments)},showed:function(e,t,n){Ot.baseclass.prototype.showed.apply(this,arguments),e(this.dom_element).find("> .az-toggle > ."+t+"in").removeClass(t+"in"),e(this.dom_element).find("> .az-toggle > ."+t+"collapse:not(:first)")[n+"collapse"]({toggle:!1,parent:"#"+this.id}),e(this.dom_element).find("> .az-toggle > ."+t+"collapse:first")[n+"collapse"]({toggle:"yes"!=this.attrs.collapsed,parent:"#"+this.id})},render:function(e,t){this.dom_element=e('<div id="'+this.id+'" class="az-element az-accordion '+t+"panel-group "+this.attrs.el_class+'" style="'+this.attrs.style+'"></div>'),this.dom_content_element=this.dom_element,Ot.baseclass.prototype.render.apply(this,arguments)}}),pt("az_toggle",!0,It),Y(It.prototype,{name:p("Toggle"),params:[it({type:"textfield",heading:p("Toggle title"),param_name:"title",value:p("Title")})].concat(It.prototype.params),hidden:!0,is_container:!0,show_parent_controls:!0,get_empty:function(){return'<div class="az-empty"><div class="top-left '+n+'well"><h1>↖</h1>'+p("Settings for this accordion element and for current toggle. ")+'<span class="'+n+"glyphicon "+n+'glyphicon-plus-sign"></span>'+p(" - add a new toggle. You can enter toggle title by click on this button: ")+'<span class="'+n+"glyphicon "+n+'glyphicon-pencil"></span></div></div>'},get_my_shortcode:function(){return this.get_children_shortcode()},clone:function(){var t=It.baseclass.prototype.get_my_shortcode.apply(this,arguments)
e("#azexo-clipboard").html(btoa(encodeURIComponent(t))),this.parent.paste(this.parent.children.length)},render:function(e,t){var n=t+"panel-default"
""!=this.parent.attrs.type&&(n=this.parent.attrs.type),this.dom_element=e('<div class="az-element az-toggle '+t+"panel "+n+" "+this.attrs.el_class+'" style="'+this.attrs.style+'"><div class="'+t+'panel-heading"><h4 class="'+t+'panel-title"><a data-toggle="'+t+'collapse" data-parent="#'+this.parent.id+'" href="#'+this.id+'">'+this.attrs.title+'</a></h4></div><div id="'+this.id+'" class="'+t+"panel-collapse "+t+'collapse"><div class="'+t+'panel-body az-ctnr"></div></div></div>'),this.dom_content_element=e(this.dom_element).find("."+t+"panel-body"),It.baseclass.prototype.render.apply(this,arguments)}}),bt("az_carousel",!0,Pt),Y(Pt.prototype,{name:p("Carousel"),icon:"fa fa-ellipsis-h",description:p("Content carousel. Every slide of this element can contain any number of any types of elements. It can be used for create classic content slider."),category:p("Layout"),params:[it({type:"integer_slider",heading:p("Number items"),param_name:"items",min:"1",max:"10",value:"1"}),it({type:"checkbox",heading:p("Options"),param_name:"options",value:{navigation:p("Navigation"),auto_play:p("Auto play"),mouse:p("Mouse drag"),touch:p("Touch drag")}}),it({type:"dropdown",heading:p("Transition style"),param_name:"transition",value:{"":p("Default"),fade:p("fade"),backSlide:p("backSlide"),goDown:p("goDown"),fadeUp:p("fadeUp")}})].concat(Pt.prototype.params),is_container:!0,show_settings_on_create:!0,frontend_render:!0,get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+'text-overflow" data-az-element="'+this.base+'" style="width:100%;"><i class="'+n+"text-primary "+this.icon+'"></i><div>'+this.name+'</div><div class="'+n+"text-muted "+n+'small">'+this.description+"</div></div>"},show_controls:function(){if(window.azexo_editor){Pt.baseclass.prototype.show_controls.apply(this,arguments),e(this.controls).find(".add").remove(),e(this.controls).find(".paste").remove()
e('<button title="'+c("Add slide")+'" class="control add-toggle '+n+"btn "+n+"btn-primary "+n+"glyphicon "+n+'glyphicon-plus-sign" > </button>').appendTo(this.controls).click({object:this},this.click_add_slide)}},update_sortable:function(){},click_add_slide:function(e){return e.data.object.add_slide(),!1},add_slide:function(){var e=new At(this,!0)
e.update_dom(),this.update_dom()},showed:function(e){Pt.baseclass.prototype.showed.apply(this,arguments),this.add_css("owl.carousel/owl-carousel/owl.carousel.css","owlCarousel"in e.fn,function(){}),this.add_css("owl.carousel/owl-carousel/owl.theme.css","owlCarousel"in e.fn,function(){}),this.add_css("owl.carousel/owl-carousel/owl.transitions.css","owlCarousel"in e.fn,function(){})
var t=this
this.add_js({path:"owl.carousel/owl-carousel/owl.carousel.js",loaded:"owlCarousel"in e.fn,callback:function(){var n=function(t){var n=null
n="userItems"in t?t.userItems:t.$userItems
var a=null
a="visibleItems"in t?t.visibleItems:t.$visibleItems
for(var o=0;o<n.length;o++)if(_.indexOf(a,o)<0){var i=n[o],r=e(i).attr("data-az-id"),l=s.get_element(r)
_.isUndefined(l)||"trigger_start_out_animation"in l&&l.trigger_start_out_animation()}for(var o=0;o<a.length;o++)if(a[o]<n.length){var i=n[a[o]],r=e(i).attr("data-az-id"),l=s.get_element(r)
_.isUndefined(l)||"trigger_start_in_animation"in l&&l.trigger_start_in_animation()}}
e(t.dom_content_element).owlCarousel({singleItem:"1"==t.attrs.items,items:t.attrs.items,navigation:_.indexOf(t.attrs.options.split(","),"navigation")>=0,autoPlay:_.indexOf(t.attrs.options.split(","),"auto_play")>=0,mouseDrag:_.indexOf(t.attrs.options.split(","),"mouse")>=0,touchDrag:_.indexOf(t.attrs.options.split(","),"touch")>=0,transitionStyle:""==t.attrs.transition?!1:t.attrs.transition,stopOnHover:!0,afterAction:function(){n(this.owl)},beforeMove:function(){},afterMove:function(){},startDragging:function(){}}),n(t.dom_content_element.data("owlCarousel"))}})},render:function(e){this.dom_element=e('<div id="'+this.id+'" class="az-element az-carousel '+this.attrs.el_class+'" style="'+this.attrs.style+'"></div>'),this.dom_content_element=e("<div></div>").appendTo(this.dom_element),Pt.baseclass.prototype.render.apply(this,arguments)}}),pt("az_slide",!0,At),Y(At.prototype,{name:p("Slide"),params:[].concat(At.prototype.params),hidden:!0,frontend_render:!0,is_container:!0,show_parent_controls:!0,get_empty:function(){return'<div class="az-empty"><div class="top-left '+n+'well"><h1>↖</h1>'+p("Settings for this carousel element and for current slide. ")+'<span class="'+n+"glyphicon "+n+'glyphicon-plus-sign"></span>'+p(" - add a new slide.")+"</div></div>"},show_controls:function(){window.azexo_editor&&(At.baseclass.prototype.show_controls.apply(this,arguments),e(this.controls).find(".clone").remove(),e(this.controls).find(".drag-and-drop").remove(),e('<span class="control '+n+"btn "+n+"btn-primary "+n+'glyphicon">'+this.name+"</span>").prependTo(this.controls))},get_my_shortcode:function(){return this.get_children_shortcode()},edited:function(){At.baseclass.prototype.edited.apply(this,arguments),this.parent.update_dom()},render:function(e,t){var n="panel-default"
""!=this.parent.attrs.type&&(n=this.parent.attrs.type),this.dom_element=e('<div class="az-element az-slide az-ctnr '+this.attrs.el_class+" "+t+'clearfix" style="'+this.attrs.style+'"></div>'),this.dom_content_element=this.dom_element,At.baseclass.prototype.render.apply(this,arguments)}}),bt("az_presentation",!0,Rt),Y(Rt.prototype,{name:p("Presentation"),icon:"fa fa-file-powerpoint-o",description:p("Content presentation. Every step of presentation can contain any number of any types of elements."),category:p("Layout"),params:[it({type:"integer_slider",heading:p("Height"),param_name:"height",min:"0",max:"2000",value:"900"}),it({type:"checkbox",heading:p("Options"),param_name:"options",value:{navigation:p("Navigation"),auto_play:p("Auto play"),full_filling:p("Full filling available area")}}),it({type:"integer_slider",heading:p("Transition duration"),param_name:"duration",min:"0",max:"10000",value:"1000"})].concat(Rt.prototype.params),is_container:!0,highlighted:!1,get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+'text-overflow" data-az-element="'+this.base+'" style="width:100%;"><i class="'+n+"text-primary "+this.icon+'"></i><div>'+this.name+'</div><div class="'+n+"text-muted "+n+'small">'+this.description+"</div></div>"},init_scroll_variables:function(){this.hover=!1,this.scroll_top=0,this.transition_duration="0s",this.transition_delay="0s"},show_controls:function(){function t(e,t){var n={x:0,y:0},a=d.config.rotation/180*Math.PI,o=Math.cos(a),i=Math.sin(a)
return n.x=(e*o-t*i)*d.config.visualScaling,n.y=(e*i+t*o)*d.config.visualScaling,n}function a(){var t=s.get_element(e(p.$node[0]).closest("[data-az-id]").attr("data-az-id"))
t.attrs.x=""+p.data.x,t.attrs.y=""+p.data.y,t.attrs.rotate_z=""+p.data.rotate,t.attrs.scale=""+p.data.scale,e(document).trigger("azexo_update_element",t.id)}function o(){p.data.x=parseFloat(p.$node[0].dataset.x)||m.x,p.data.y=parseFloat(p.$node[0].dataset.y)||m.y,p.data.scale=parseFloat(p.$node[0].dataset.scale)||m.scale,p.data.rotate=parseFloat(p.$node[0].dataset.rotate)||m.rotate,a()}function i(){p.$node[0].dataset.scale=p.data.scale,p.$node[0].dataset.rotate=p.data.rotate,p.$node[0].dataset.x=p.data.x,p.$node[0].dataset.y=p.data.y,d.impress.initStep(p.$node[0]),a(),l(p.$node)}function r(e){e.preventDefault(),e.stopPropagation()
var t=e.pageX-h.prevX,n=e.pageY-h.prevY
return h.prevX=e.pageX,h.prevY=e.pageY,h.activeFunction&&(h.activeFunction(t,n),i()),!1}function l(t){if(e(d.dom_element).parents(".azexo-editor").length>0){var n,a,o=t.offset()
n=o.top>0?o.top+100/d.config.visualScaling:0,a=o.left>0?o.left+100/d.config.visualScaling:0,e(d.step_controls).css("display","inline-block").offset({top:n,left:a})}else e(d.step_controls).hide()}if(window.azexo_editor){Pt.baseclass.prototype.show_controls.apply(this,arguments),e(this.controls).find(".add").remove(),e(this.controls).find(".paste").remove()
var d=this
e('<button title="'+c("Add step")+'" class="control add-toggle '+n+"btn "+n+"btn-primary "+n+"glyphicon "+n+'glyphicon-plus-sign" > </button>').appendTo(this.controls).click({object:this},this.click_add_step)
var p={editing:!1,$node:!1,data:{x:0,y:0,rotate:0,scale:0}}
d.config={rotateStep:.1,scaleStep:.01,redrawFunction:!1,setTransformationCallback:!1}
var m={x:0,y:0,rotate:0,scale:1},h={prevX:!1,prevY:!1,activeFunction:!1},_={}
_.move=function(e,n){var a=t(e,n)
p.data.x=p.data.x?p.data.x+a.x:a.x,p.data.y=p.data.y?p.data.y+a.y:a.y},_.scale=function(e){p.data.scale-=-e*d.config.scaleStep*d.config.visualScaling/10},_.rotate=function(e){p.data.rotate-=-e*d.config.rotateStep}
var u=null
"step_controls"in d&&d.step_controls.remove(),d.step_controls=e('<div class="az-step-controls '+n+'btn-group-vertical"></div>').css("display","none"),e('<span class="number '+n+"btn "+n+"btn-primary "+n+'glyphicon"></span>').prependTo(d.step_controls).click(function(){var t=parseInt(e(this).attr("data-step"))-1
return d.impress.goto(d.children[t].id),!1}),e('<button title="'+c("Move this step")+'" class="control '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-move"> </button>').data("func","move").appendTo(d.step_controls),e('<button title="'+c("Scale this step")+'" class="control '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-resize-full" > </button>').data("func","scale").appendTo(d.step_controls),e('<button title="'+c("Rotate this step")+'" class="control '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-refresh" > </button>').data("func","rotate").appendTo(d.step_controls)
var u
e(d.step_controls).appendTo(d.dom_element).on("click","button",function(){return!1}),e(d.step_controls).appendTo(d.dom_element).on("mousedown","button",function(t){return t.preventDefault(),h.activeFunction=_[e(this).data("func")],o(),h.prevX=t.pageX,h.prevY=t.pageY,e(document).on("mousemove.az_presentation_controls"+d.id,r),!1}).on("mouseenter",function(){clearTimeout(u)}),e(document).off("mouseup.az_presentation_controls"+d.id),e(document).on("mouseup.az_presentation_controls"+d.id,function(){h.activeFunction=!1,e(document).off("mousemove.az_presentation_controls"+d.id)}),e(d.dom_element).on("mouseenter",".step",function(){var t=e(this)
u=setTimeout(function(){if(!h.activeFunction){var n=s.get_element(t.closest("[data-az-id]").attr("data-az-id")),a=n.get_child_position()+1
e(d.step_controls).find("span.number").attr("data-step",a),""!=n.attrs.name&&(a=n.attrs.name),e(d.step_controls).find("span.number").html(a),p.$node=t,l(p.$node)}},500),t.data("showTimer",u)}).on("mouseleave",".step",function(){clearTimeout(e(this).data("showTimer"))}),e(document).off("scroll.az_presentation"+d.id),e(document).on("scroll.az_presentation"+d.id,function(e){return d.hover&&window.scrollTo(0,d.scroll_top),e.preventDefault(),e.stopPropagation(),!1}),e(d.dom_element).on("mouseenter",function(){d.scroll_top=e(document).scrollTop(),d.transition_duration=e(d.dom_content_element).css("transition-duration"),e(d.dom_content_element).css("transition-duration","0s"),d.transition_delay=e(d.dom_content_element).css("transition-delay"),e(d.dom_content_element).css("transition-delay","0s"),d.hover=!0}),e(d.dom_element).on("mouseleave",function(){e(d.dom_content_element).css("transition-duration",d.transition_duration),e(d.dom_content_element).css("transition-delay",d.transition_delay),d.hover=!1})
var f=!1
e(d.dom_element).on("mousedown",function(t){if(2==t.which){f=!0,h.prevX=t.pageX,h.prevY=t.pageY
var n=e(d.dom_content_element).find("> div")
return d.transition_duration=e(n).css("transition-duration"),e(n).css("transition-duration","0s"),d.transition_delay=e(n).css("transition-delay"),e(n).css("transition-delay","0s"),!1}}),e(document).off("mouseup.az_presentation"+d.id),e(document).on("mouseup.az_presentation"+d.id,function(){if(f){var t=e(d.dom_content_element).find("> div")
e(t).css("transition-duration",d.transition_duration),e(t).css("transition-delay",d.transition_delay),f=!1}}),e(document).off("mousemove.az_presentation"+d.id),e(document).on("mousemove.az_presentation"+d.id,function(n){if(f){var a=e(d.dom_content_element).find("> div");("0s"!=e(a).css("transition-duration")||"0s"!=e(a).css("transition-delay"))&&(d.transition_duration=e(a).css("transition-duration"),e(a).css("transition-duration","0s"),d.transition_delay=e(a).css("transition-delay"),e(a).css("transition-delay","0s")),n.preventDefault(),n.stopPropagation()
var o=n.pageX-h.prevX,i=n.pageY-h.prevY
h.prevX=n.pageX,h.prevY=n.pageY
var s=t(o,i),r=e(d.dom_content_element).find("> div").css("transform")
return e(d.dom_content_element).find("> div").css("transform",r+" translate("+s.x+"px, "+s.y+"px)"),!1}}),e(d.dom_element).on("wheel mousewheel",function(t){("0s"!=e(d.dom_content_element).css("transition-duration")||"0s"!=e(d.dom_content_element).css("transition-delay"))&&(d.transition_duration=e(d.dom_content_element).css("transition-duration"),e(d.dom_content_element).css("transition-duration","0s"),d.transition_delay=e(d.dom_content_element).css("transition-delay"),e(d.dom_content_element).css("transition-delay","0s"))
var n=.05,a=t.originalEvent.wheelDelta/120,o=e(d.dom_content_element).css("transform"),i=1+a*n
d.config.visualScaling=d.config.visualScaling/i,e(d.dom_content_element).css("transform",o+" scale("+i+")")})}},update_sortable:function(){if(window.azexo_editor);},click_add_step:function(e){return e.data.object.add_step(),!1},add_step:function(){var e=new Dt(this,!0)
e.update_dom(),this.update_dom()},attach_children:function(){if("impress"in this&&e(this.dom_content_element).find("> div").length>0)for(var t=0;t<this.children.length;t++)e(this.dom_content_element).find("> div").append(this.children[t].dom_element)
else Rt.baseclass.prototype.attach_children.apply(this,arguments)},edited:function(){Rt.baseclass.prototype.edited.apply(this,arguments),this.update_dom()},showed:function(e,t){Rt.baseclass.prototype.showed.apply(this,arguments)
var n=this
this.add_js({path:"js/impress.js",loaded:"impress"in window,callback:function(){"impress"in n||(n.impress=window.impress(n.id)),n.impress.init(),"config"in n||(n.config={}),n.impress.setTransformationCallback(function(e){n.config.visualScaling=e.scale,n.config.rotation="z"in e.rotate?~~e.rotate.z:~~e.rotate}),n.children.length>0&&n.impress.goto(n.children[0].id),n.dom_element.get(0).addEventListener("impress:stepenter",function(t){var n=e(t.target).attr("data-az-id"),a=s.get_element(n)
_.isUndefined(a)||"trigger_start_out_animation"in a&&a.trigger_start_out_animation()},!1),n.dom_element.get(0).addEventListener("impress:stepleave",function(t){var n=e(t.target).attr("data-az-id"),a=s.get_element(n)
_.isUndefined(a)||"trigger_start_in_animation"in a&&a.trigger_start_in_animation()},!1),e(n.dom_element).find("> ."+t+"pagination > li > ."+t+"prev").click(function(){return n.impress.prev(),!1}),e(n.dom_element).find("> ."+t+"pagination > li > ."+t+"next").click(function(){return n.impress.next(),!1}),e(n.dom_element).find("> ."+t+"pagination > li > .goto").click(function(){return n.impress.goto(e(this).attr("data-step")),!1}),window.azexo_editor||e(n.dom_content_element).find(".az-step").each(function(){e(this).on("wheel mousewheel",function(t){if(e(this).hasClass("active")){if(this.offsetHeight==this.scrollHeight)return t.originalEvent.wheelDelta<0?(n.impress.next(),!1):(n.impress.prev(),!1)
if(0==this.scrollTop&&t.originalEvent.wheelDelta>0)return n.impress.prev(),!1
if(this.offsetHeight+this.scrollTop>=this.scrollHeight&&t.originalEvent.wheelDelta<0)return n.impress.next(),!1}})}),"auto_play"in n&&clearInterval(n.auto_play),_.indexOf(n.attrs.options.split(","),"auto_play")>=0&&(n.auto_play=setInterval(function(){n.impress.next()},5e3)),_.indexOf(n.attrs.options.split(","),"full_filling")>=0&&(e(n.dom_element).css("height",e(window).height()+"px"),e(n.dom_content_element).find(".az-step").each(function(){e(this).css("height",e(n.dom_element).height()+"px"),e(this).css("width",e(n.dom_element).width()+"px")}))}})},render:function(e,t){if(delete this.impress,this.dom_element=e('<div class="az-element az-presentation '+this.attrs.el_class+'" style="'+this.attrs.style+'"></div>'),e(this.dom_element).css("height",this.attrs.height+"px"),e(this.dom_element).css("overflow","hidden"),this.dom_content_element=e('<div id="'+this.id+'"></div>').appendTo(this.dom_element),e(this.dom_content_element).attr("data-transition-duration",this.attrs.duration),_.indexOf(this.attrs.options.split(","),"navigation")>=0){var n=e('<ul class="'+t+'pagination"></ul>').appendTo(this.dom_element)
e('<li><a href="#" class="'+t+'prev">&laquo;</a></li>').appendTo(n)
for(var a=1;a<=this.children.length;a++)if(_.indexOf(this.children[a-1].attrs.options.split(","),"dummy")<0){var o=""+a
""!=this.children[a-1].attrs.name&&(o=this.children[a-1].attrs.name),e('<li><a href="#" class="goto" data-step="'+this.children[a-1].id+'">'+o+"</a></li>").appendTo(n)}e('<li><a href="#" class="'+t+'next">&raquo;</a></li>').appendTo(n)}Rt.baseclass.prototype.render.apply(this,arguments)}}),pt("az_step",!0,Dt),Y(Dt.prototype,{name:p("Step"),params:[it({type:"textfield",heading:p("Name"),param_name:"name"}),it({type:"checkbox",heading:p("Options"),param_name:"options",value:{dummy:p("Dummy")}}),it({type:"integer_slider",heading:p("Width"),param_name:"width",min:"1",max:"100000",value:"900"}),it({type:"integer_slider",heading:p("Height"),param_name:"height",min:"1",max:"100000",value:"700"}),it({type:"integer_slider",heading:p("X coordinate"),param_name:"x",min:"-100000",max:"100000",value:"0"}),it({type:"integer_slider",heading:p("Y coordinate"),param_name:"y",min:"-100000",max:"100000",value:"0"}),it({type:"integer_slider",heading:p("Z coordinate"),param_name:"z",min:"-10000",max:"10000",value:"0"}),it({type:"integer_slider",heading:p("X rotate"),param_name:"rotate_x",min:"-180",max:"180",value:"0"}),it({type:"integer_slider",heading:p("Y rotate"),param_name:"rotate_y",min:"-180",max:"180",value:"0"}),it({type:"integer_slider",heading:p("Z rotate"),param_name:"rotate_z",min:"-180",max:"180",value:"0"}),it({type:"integer_slider",heading:p("Scale"),param_name:"scale",min:"0",max:"1000",value:"1",step:"0.01"})].concat(Dt.prototype.params),hidden:!0,is_container:!0,show_parent_controls:!0,disallowed_elements:["az_presentation"],highlighted:!1,get_empty:function(){return'<div class="az-empty"><div class="top-left '+n+'well"><h1>↖</h1>'+p('Settings for this presentation element and for current step. Press on "Space" button to going through steps. ')+'<span class="'+n+"glyphicon "+n+'glyphicon-plus-sign"></span>'+p(" - add a new step.")+"</div></div>"},get_my_shortcode:function(){return this.get_children_shortcode()},show_controls:function(){Dt.baseclass.prototype.show_controls.apply(this,arguments),window.azexo_editor&&(e(this.controls).find(".drag-and-drop").remove(),e('<span class="control '+n+"btn "+n+"btn-primary "+n+'glyphicon">'+this.name+"</span>").prependTo(this.controls))},update_sortable:function(){if(window.azexo_editor){var t=this
e(this.dom_element).resizable({stop:function(){t.attrs.width=e(t.dom_element).width(),t.attrs.height=e(t.dom_element).height(),e(document).trigger("azexo_update_element",t.id),"impress"in t.parent&&t.impress.initStep(t.dom_element.get(0))}})}},clone:function(){var t=Dt.baseclass.prototype.get_my_shortcode.apply(this,arguments)
e("#azexo-clipboard").html(btoa(encodeURIComponent(t)))
for(var n=0;n<this.parent.children.length;n++)if(this.parent.children[n].id==this.id){this.parent.paste(n)
break}this.parent.update_dom()},edited:function(){Dt.baseclass.prototype.edited.apply(this,arguments)
var e=this
"impress"in e.parent&&e.parent.impress.initStep(e.dom_element.get(0))},remove:function(){Dt.baseclass.prototype.remove.apply(this,arguments),this.parent.update_dom()},render:function(e){this.dom_element=e('<div id="'+this.id+'" class="az-element az-step az-ctnr step '+this.attrs.el_class+'" style="'+this.attrs.style+'"></div>'),e(this.dom_element).css("width",this.attrs.width),e(this.dom_element).css("height",this.attrs.height),e(this.dom_element).attr("data-x",this.attrs.x),e(this.dom_element).attr("data-y",this.attrs.y),e(this.dom_element).attr("data-z",this.attrs.z),e(this.dom_element).attr("data-rotate-x",this.attrs.rotate_x),e(this.dom_element).attr("data-rotate-y",this.attrs.rotate_y),e(this.dom_element).attr("data-rotate",this.attrs.rotate_z),e(this.dom_element).attr("data-scale",this.attrs.scale),this.dom_content_element=this.dom_element,Dt.baseclass.prototype.render.apply(this,arguments)}}),bt("az_container",!0,Ut),Y(Ut.prototype,{name:p("Container"),icon:"fa fa-archive",description:p("AJAX loaded content from server. Content can be edited and saved to server."),category:p("Layout"),params:[it({type:"container",heading:p("Container"),param_name:"container",description:p("Type and name used as identificator to save container on server."),value:"/"})].concat(Ut.prototype.params),show_settings_on_create:!0,is_container:!0,hidden:!window.azexo_online,saveable:!0,get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+'text-overflow" data-az-element="'+this.base+'" style="width:100%;"><i class="'+n+"text-primary "+this.icon+'"></i><div>'+this.name+'</div><div class="'+n+"text-muted "+n+'small">'+this.description+"</div></div>"},get_empty:function(){return'<div class="az-empty"><div class="top '+n+'well"><strong>'+p("Click to put an element here.")+'</strong></div><div class="top-right '+n+'well"><h1>↗</h1><span class="'+n+"glyphicon "+n+'glyphicon-eye-open"></span>'+p(" - toggle editor helpers.")+' <span class="'+n+"glyphicon "+n+'glyphicon-play-circle"></span>'+p(" - toggle animation engine to not hinder editing.")+' <span class="'+n+"glyphicon "+n+'glyphicon-save"></span>'+p(" - save results of editing on server.")+"</div></div>"},show_controls:function(){if(window.azexo_editor){var t=this
Ut.baseclass.prototype.show_controls.apply(this,arguments),null==this.parent&&(e('<button title="'+c("Toggle editor")+'" class="control toggle-editor '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-eye-open" > </button>').appendTo(this.controls).click(function(){return e(t.dom_element).toggleClass("azexo-editor"),!1}),e('<button title="'+c("Toggle animations")+'" class="control toggle-animations '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-play-circle" > </button>').appendTo(this.controls).click(function(){return e(t.dom_element).toggleClass("azexo-animations-disabled"),!1}),e(this.controls).removeClass(n+"btn-group-xs"),e(this.controls).find(".edit").remove(),e(this.controls).find(".copy").remove(),e(this.controls).find(".clone").remove(),e(this.controls).find(".remove").remove(),e(this.controls).find(".js-animation").remove(),e(this.controls).find(".drag-and-drop").attr("title",""),e(this.controls).find(".drag-and-drop").removeClass(n+"glyphicon"),e(this.controls).find(".drag-and-drop").removeClass(n+"glyphicon-move"),e(this.controls).find(".drag-and-drop").removeClass("drag-and-drop")),this.saveable&&e('<button title="'+c("Save container")+'" class="control save-container '+n+"btn "+n+"btn-success "+n+"glyphicon "+n+'glyphicon-save" > </button>').appendTo(this.controls).click({object:this},this.click_save_container)}},get_my_shortcode:function(){return this.get_children_shortcode()},get_hover_styles:function(e){var t=""
""!=e.attrs.hover_style&&(t=e.get_hover_style())
for(var n=0;n<e.children.length;n++)t+=this.get_hover_styles(e.children[n])
return t},get_js:function(e){var t=""
for(var n in e.js)t+='<script src="'+n+'"></script>\n'
return t},get_css:function(e){var t=""
for(var n in e.css)t+='<link rel="stylesheet" type="text/css" href="'+n+'">\n'
return t},get_loader:function(){function t(e,t,n){return n&&!e.hasOwnProperty(t)?"":t+": "+e[t]+",\n"}function o(e,t,n){return n&&!e.hasOwnProperty(t)?"":t+": "+JSON.stringify(e[t])+",\n"}function i(n,a){var i="{"
for(var s in n)(!a||n.hasOwnProperty(s))&&(i+=e.isFunction(n[s])?t(n,s,a):o(n,s,a))
return i+="}"}function s(e,t,n){return n&&!e.prototype.hasOwnProperty(t)?"":e.name+".prototype."+t+"="+e.prototype[t]+"\n"}function r(e){for(var t=[],n=0;n<e.prototype.params.length;n++){var a={}
a.param_name=e.prototype.params[n].param_name,a.value="","value"in e.prototype.params[n]&&_.isString(e.prototype.params[n].value)&&(a.value=e.prototype.params[n].value),a.safe=e.prototype.params[n].safe,t.push(a)}return e.name+".prototype.params="+JSON.stringify(t)+";\n"}function l(e,t){var n={}
n.base=e.base,"showed"in e&&(n.showed=e.showed),n.params=[]
for(var a=0;a<e.params.length;a++)if("value"in e.params[a]&&_.isString(e.params[a].value)){var o={}
o.param_name=e.params[a].param_name,o.value=e.params[a].value,n.params.push(o)}else{var o={}
o.param_name=e.params[a].param_name,o.value="",n.params.push(o)}return e.hasOwnProperty("is_container")&&(n.is_container=e.is_container),e.hasOwnProperty("has_content")&&(n.has_content=e.has_content),e.hasOwnProperty("frontend_render")&&(n.frontend_render=e.frontend_render,n.frontend_render&&(n.render=e.render,e.hasOwnProperty("recursive_render")&&(n.recursive_render=e.recursive_render))),i(n,t)}function d(t){var n={}
n[t.base]=!0
for(var a=0;a<t.children.length;a++){var o=d(t.children[a])
e.extend(n,o)}return n}function c(t){var n={}
"an_scenes"in t.attrs&&""!=t.attrs.an_scenes&&(n.an_scenes=!0),"an_start"in t.attrs&&""!=t.attrs.an_start&&(n.an_start=!0),"an_letters"in t.attrs&&""!=t.attrs.an_letters&&(n.an_letters=!0),"an_js_in"in t.attrs&&""!=t.attrs.an_js_in&&(n.an_js=!0),"an_js_out"in t.attrs&&""!=t.attrs.an_js_out&&(n.an_js=!0)
for(var a=0;a<t.children.length;a++)e.extend(n,c(t.children[a]))
return n}function h(){var t="(function("+Xt+") {\n"
if(t+="if('azexo_backend' in window) return;\n",t+="var "+Wt+" = true;\n",t+="var "+Vt+" = '"+n+"';var "+Gt+" = '"+a+"';\n",t+=""+p+"\n",t+=""+m+"\n",t+=""+y+"\n",t+=""+B+"\n",t+=""+Y+"\n",t+=""+q+"\n",t+=""+J+"\n",t+=Xt+".fn.closest_descendents = "+e.fn.closest_descendents+" \n",t+=""+at+"\n",t+=at.name+".prototype.safe = true;\n",t+=at.name+".prototype.param_types = {};\n",t+=""+it+"\n",t+="window.azexo_add_css="+window.azexo_add_css+"\n",t+="window.azexo_add_js="+window.azexo_add_js+"\n",t+="window.azexo_add_js_list="+window.azexo_add_js_list+"\n",t+="var "+Qt+" = {};\n",t+="var "+Zt+" = {};\n",t+="window.azexo_add_external_js="+window.azexo_add_external_js+"\n",t+=""+dt+"\n",t+=dt.name+".prototype.elements_instances = {};\n",t+=dt.name+".prototype.elements_instances_by_an_name = {};\n",t+=s(dt,"get_element",!0),t+=s(dt,"delete_element",!0),t+=s(dt,"add_element",!0),t+=""+ct+"\n",t+=ct.name+".prototype.p = '"+n+"';\n",t+=ct.name+".prototype.fp = '"+a+"';\n",t+=ct.name+".prototype.elements = {};\n",t+=ct.name+".prototype.tags = {};\n",t+=r(ct),t+=s(ct,"get_hover_style",!0),t+=s(ct,"showed",!0),t+=s(ct,"render",!0),t+=s(ct,"recursive_render",!0),t+=s(ct,"replace_render",!0),t+=s(ct,"update_dom",!0),t+=s(ct,"attach_children",!0),t+=s(ct,"detach_children",!0),t+=s(ct,"recursive_showed",!0),t+=s(ct,"parse_attrs",!0),t+=s(ct,"parse_html",!0),t+=s(ct,"add_css",!0),t+=s(ct,"add_js_list",!0),t+=s(ct,"add_js",!0),t+=s(ct,"add_external_js",!0),t+=s(ct,"get_my_container",!0),"an_start"in g&&(t+=s(ct,"trigger_start_in_animation",!0),t+=s(ct,"trigger_start_out_animation",!0)),t+=""+pt+"\n",t+=""+mt+"\n",t+=pt.name+"('az_unknown', true, "+mt.name+");\n",t+=mt.name+".prototype.has_content = true;\n",t+="window.azexo_baseurl = '"+window.azexo_baseurl+"';\n","ajaxurl"in window&&(t+="window.ajaxurl = '"+et(window.ajaxurl)+"';\n"),"azexo_lang"in window&&(t+="window.azexo_lang = '"+window.azexo_lang+"';\n"),t+="window.azexo_online = (window.location.protocol == 'http:' || window.location.protocol == 'https:');\n",t+="var "+Kt+" = new "+dt.name+"();\n",t+="var "+en+" = null;\n",t+="window.azexo_editor = false;\n","azexo_exporter"in window&&(t+="window.azexo_exported = "+window.azexo_exporter+";\n"),t+="var "+tn+" = [];\n",t+="var "+nn+" = {};\n",t+=""+ft+"\n",t+=""+yt+"\n",t+=B.name+"("+yt.name+", "+ct.name+");\n",t+=r(yt),"an_start"in g&&(t+=s(yt,"set_in_timeout",!0),t+=s(yt,"start_in_animation",!0),t+=s(yt,"set_out_timeout",!0),t+=s(yt,"start_out_animation",!0),t+=s(yt,"clear_animation",!0),t+=s(yt,"end_animation",!0),t+=s(yt,"trigger_start_in_animation",!0),t+=s(yt,"trigger_start_out_animation",!0),t+=s(yt,"animation",!0)),("an_scenes"in g||"an_js"in g)&&(t+=s(yt,"make_timeline",!0)),"an_scenes"in g&&(t+=s(yt,"update_scroll_animation",!0)),"an_letters"in g&&(t+=s(yt,"animation_letters",!0)),("an_start"in g||"an_scenes"in g)&&(t+=s(yt,"showed",!0)),t+=s(yt,"render",!0),t+=""+bt+"\n",t+=""+Et+"\n",t+=B.name+"("+Et.name+", "+yt.name+");\n",t+=Et.name+".prototype.form_elements = {};\n",t+=""+Mt+"\n",wt.prototype.base in v&&(t+=""+wt+"\n",t+=bt.name+"('"+wt.prototype.base+"', true, "+wt.name+");\n",t+=r(wt),t+=s(wt,"showed",!0)),xt.prototype.base in v&&(t+=""+xt+"\n",t+=bt.name+"('"+xt.prototype.base+"', true, "+xt.name+");\n",t+=r(xt),t+=xt.name+".prototype.set_columns = function(columns){};\n",t+=""+zt+"\n",t+=pt.name+"('"+zt.prototype.base+"', true, "+zt.name+");\n",t+=r(zt),t+=s(zt,"showed",!0)),kt.prototype.base in v&&(t+=""+kt+"\n",t+=bt.name+"('"+kt.prototype.base+"', true, "+kt.name+");\n",t+=r(kt),t+=kt.name+".prototype.attach_events = function(){};\n",t+=s(kt,"showed",!0),t+=s(kt,"render",!0),t+=""+jt+"\n",t+=pt.name+"('"+jt.prototype.base+"', true, "+jt.name+");\n",t+=r(jt),t+=s(jt,"showed",!0),t+=s(jt,"render",!0)),Tt.prototype.base in v&&(t+=""+Tt+"\n",t+=bt.name+"('"+Tt.prototype.base+"', true, "+Tt.name+");\n",t+=r(Tt),t+=s(Tt,"showed",!0)),Ct.prototype.base in v&&(t+=""+Ct+"\n",t+=bt.name+"('"+Ct.prototype.base+"', true, "+Ct.name+");\n",t+=r(Ct),t+=s(Ct,"showed",!0),t+=s(Ct,"render",!0),t+=""+St+"\n",t+=pt.name+"('"+St.prototype.base+"', true, "+St.name+");\n",t+=r(St),t+=s(St,"render",!0)),Ot.prototype.base in v&&(t+=""+Ot+"\n",t+=bt.name+"('"+Ot.prototype.base+"', true, "+Ot.name+");\n",t+=r(Ot),t+=s(Ot,"showed",!0),t+=s(Ot,"render",!0),t+=""+It+"\n",t+=pt.name+"('"+It.prototype.base+"', true, "+It.name+");\n",t+=r(It),t+=s(It,"render",!0),t+=s(It,"showed",!0)),Pt.prototype.base in v&&(t+=""+Pt+"\n",t+=bt.name+"('"+Pt.prototype.base+"', true, "+Pt.name+");\n",t+=r(Pt),t+=Pt.name+".prototype.frontend_render = true;\n",t+=s(Pt,"showed",!0),t+=s(Pt,"render",!0),t+=""+At+"\n",t+=pt.name+"('"+At.prototype.base+"', true, "+At.name+");\n",t+=r(At),t+=At.name+".prototype.frontend_render = true;\n",t+=s(At,"showed",!0),t+=s(At,"render",!0)),Rt.prototype.base in v&&(t+=""+Rt+"\n",t+=bt.name+"('"+Rt.prototype.base+"', true, "+Rt.name+");\n",t+=r(Rt),t+=Rt.name+".prototype.frontend_render = true;\n",t+=s(Rt,"showed",!0),t+=s(Rt,"render",!0),t+=""+Dt+"\n",t+=pt.name+"('"+Dt.prototype.base+"', true, "+Dt.name+");\n",t+=r(Dt)),Ut.prototype.base in v&&(t+=""+Ut+"\n",t+=bt.name+"('"+Ut.prototype.base+"', true, "+Ut.name+");\n",t+=r(Ut),t+=s(Ut,"showed",!0),t+=s(Ut,"load_container",!0),t+=s(Ut,"update_dom",!0),t+=s(Ut,"render",!0),t+=s(Ut,"recursive_render",!0)),Nt.prototype.base in v&&(t+=""+Nt+"\n",t+=pt.name+"('"+Nt.prototype.base+"', false, "+Nt.name+");\n",t+=r(Nt),t+=s(Nt,"showed",!0)),Lt.prototype.base in v&&(t+=""+nt+"\n","azexo_form_submit_type"in window&&(t+="window.azexo_form_submit_type = '"+window.azexo_form_submit_type+"';\n"),"azexo_form_submit_name"in window&&(t+="window.azexo_form_submit_name = '"+window.azexo_form_submit_name+"';\n"),"recaptcha_publickey"in window&&(t+="window.recaptcha_publickey = '"+window.recaptcha_publickey+"';\n"),t+=""+O+"\n",t+=""+Lt+"\n",t+=bt.name+"('"+Lt.prototype.base+"', true, "+Lt.name+");\n",t+=r(Lt),t+=s(Lt,"showed",!0),t+=""+S+"\n"),"azexo_elements"in window){t+="window.azexo_elements = [];\n"
for(var o=0;o<window.azexo_elements.length;o++)window.azexo_elements[o].base in v&&(t+="window.azexo_elements.push("+l(window.azexo_elements[o],!0)+");\n")}if("azexo_form_elements"in window){t+="window.azexo_form_elements = [];\n"
for(var o=0;o<window.azexo_form_elements.length;o++)window.azexo_form_elements[o].base in v&&(t+="window.azexo_form_elements.push("+l(window.azexo_form_elements[o],!0)+");\n")}if("azexo_extend"in window){t+="window.azexo_extend = [];\n"
for(var o=0;o<window.azexo_extend.length;o++)t+="window.azexo_extend.push("+i(window.azexo_extend[o],!0)+");\n"}if(t+=""+Bt+"\n",t+=Bt.name+"();\n",t+=""+Yt+"\n",t+=Yt.name+"();\n",t+=""+qt+"\n",t+=qt.name+"();\n",window.azexo_online)hashCode=function(e){return e.split("").reduce(function(e,t){return e=(e<<5)-e+t.charCodeAt(0),e&e},0)},t+=Xt+"(document).ready(function(){"+ft.name+"("+Xt+"('[data-az-hash=\""+hashCode(t)+"\"]'));});\n"
else{var d=f.attrs.container.split("/")[0],c=f.attrs.container.split("/")[1]
t+=Xt+"(document).ready(function(){"+ft.name+"("+Xt+"('[data-az-type=\""+d+'"][data-az-name="'+c+"\"]'));});\n"}return t+="})(window.jQuery);\n"}function u(e){if(e.constructor.prototype.hasOwnProperty("showed")){var t=!1
switch(("is_cms_element"in e||"is_template_element"in e)&&(t=!0),e.base){case"az_container":null==e.parent&&(t=!0)
break
case"az_image":"yes"!=e.attrs.img_link_large&&"none"==e.attrs.adipoli_start&&"none"==e.attrs.adipoli_hover&&"yes"!=e.attrs.splits&&(t=!0)
break
case"az_section":""==e.attrs.effect&&(t=!0)}if(!t)return!0}for(var n=0;n<e.children.length;n++)if(u(e.children[n]))return!0
return!1}var f=this,v=d(f),g=c(f),b=""
return(u(f)||"an_start"in g||"an_scenes"in g)&&(b='<script type="text/javascript">\n//<![CDATA[\n'+h()+"//]]>\n</script>\n"),b},get_html:function(){this.recursive_update_data(),this.recursive_clear_animation(),this.recursive_restore()
var t=e("<div>"+e(this.dom_content_element).html()+"</div>")
return e(t).find(".az-element > .controls").remove(),e(t).find("> .controls").remove(),e(t).find(".az-sortable-controls").remove(),e(t).find(".az-step-controls").remove(),e(t).find(".az-empty").remove(),e(t).find(".ui-resizable-e").remove(),e(t).find(".ui-resizable-s").remove(),e(t).find(".ui-resizable-se").remove(),e(t).find(".editable-highlight").removeClass("editable-highlight"),e(t).find(".styleable-highlight").removeClass("styleable-highlight"),e(t).find(".sortable-highlight").removeClass("sortable-highlight"),e(t).find(".ui-draggable").removeClass("ui-draggable"),e(t).find(".ui-resizable").removeClass("ui-resizable"),e(t).find(".ui-sortable").removeClass("ui-sortable"),e(t).find(".az-element.az-container > .az-ctnr").empty(),e(t).find(".az-element.az-cms-element").empty(),e(t).find(".g-recaptcha").empty(),e(t).html()},get_container_html:function(){return this.get_css(this)+this.get_hover_styles(this)+this.get_js(this)+this.get_loader()+this.get_html()},click_save_container:function(e){return e.data.object.save_container(),!1},save_container:function(){var e=this
azexo_add_js({path:"js/json2.min.js",loaded:"JSON"in window,callback:function(){var t=e.get_container_html()
g(e.attrs.container.split("/")[0],e.attrs.container.split("/")[1],t)}})},load_container:function(){var n=this
""!=this.attrs.container&&y(this.attrs.container.split("/")[0],this.attrs.container.split("/")[1],function(a){var o=/^\s*\<[\s\S]*\>\s*$/.exec(a)
if(o){n.loaded_container=n.attrs.container,e(a).appendTo(n.dom_content_element),e(n.dom_content_element).find("> script").detach().appendTo("head"),e(n.dom_content_element).find("> link[href]").detach().appendTo("head"),e(n.dom_element).css("display",""),e(n.dom_element).addClass("azexo"),n.parse_html(n.dom_content_element),e(n.dom_element).attr("data-az-id",n.id),n.html_content=!0
for(var i=0;i<n.children.length;i++)n.children[i].recursive_render()
n.dom_content_element.empty(),window.azexo_editor&&(n.show_controls(),n.update_sortable()),n.attach_children()
for(var i=0;i<n.children.length;i++)n.children[i].recursive_showed()
e(document).trigger("scroll")}else if(!t){n.loaded_container=n.attrs.container,n.parse_shortcode(a),e(n.dom_element).attr("data-az-id",n.id),window.azexo_editor&&(n.show_controls(),n.update_sortable())
for(var i=0;i<n.children.length;i++)n.children[i].recursive_render()
n.attach_children(),null!=n.parent&&n.parent.update_dom()
for(var i=0;i<n.children.length;i++)n.children[i].recursive_showed()
e(document).trigger("scroll")}s.try_render_unknown_elements()})},clone:function(){Ut.baseclass.prototype.clone.apply(this,arguments),this.rendered=!0},recursive_render:function(){t?(this.render(e,n,a),this.children=[]):Ut.baseclass.prototype.recursive_render.apply(this,arguments),window.azexo_editor&&(this.show_controls(),this.update_sortable())},update_dom:function(){this.loaded_container!=this.attrs.container&&(this.children=[],e(this.dom_content_element).empty(),this.rendered=!1,null!=this.parent&&Ut.baseclass.prototype.update_dom.apply(this,arguments))},showed:function(e){Ut.baseclass.prototype.showed.apply(this,arguments)
var t=this
null==this.parent?t.rendered||(t.rendered=!0,t.load_container()):this.add_js({path:"jquery-waypoints/waypoints.min.js",loaded:"waypoint"in e.fn,callback:function(){e(t.dom_element).waypoint(function(){t.rendered||(t.rendered=!0,t.load_container())},{offset:"100%",triggerOnce:!0}),e(document).trigger("scroll")}})},render:function(e){this.dom_element=e('<div class="az-element az-container"><div class="az-ctnr"></div></div>'),this.dom_content_element=e(this.dom_element).find(".az-ctnr"),Ut.baseclass.prototype.render.apply(this,arguments)}}),wt.prototype.params.push(it({type:"textfield",heading:p("Menu item title"),param_name:"menu_item_title",description:p("Title which will be used in scroll menu."),tab:p("Menu")})),pt("az_scroll_menu",!1,Nt),Y(Nt.prototype,{name:p("Scroll Menu"),icon:"fa fa-sitemap",description:p("One page scroll menu"),params:[it({type:"image",heading:p("Logo"),param_name:"logo",description:p("Select image from media library.")}),it({type:"link",heading:p("Logo link"),param_name:"logo_link"})].concat(Nt.prototype.params),showed:function(e,t,n){this.navbar_height=e(this.dom_element).find("."+t+"navbar").height(),Nt.baseclass.prototype.showed.apply(this,arguments)
var a=this
if(this.add_js({path:"scrollTo/jquery.scrollTo.min.js",loaded:"scrollTo"in e.fn,callback:function(){e("#"+a.id+" ul li a").unbind("click"),e("#"+a.id+" ul li a").bind("click",function(t){return t.preventDefault(),t.stopPropagation(),e.scrollTo(this.hash,1e3),!1})}}),null!=a.dom_element){e("body")[n+"scrollspy"]({target:"#"+a.id+".navbar-collapse",offset:a.navbar_height})
var o=e(a.dom_element).find(".navbar-brand").height()
e(a.dom_element).find(".navbar-brand img").css("max-height",o+"px"),e(a.dom_element).find("."+t+"navbar")[n+"affix"]({offset:{top:e(a.dom_element).find("."+t+"navbar").offset().top,bottom:0}}).on("affix."+n+"bs.affix resize",function(){e(a.dom_element).height(e(a.dom_element).find("."+t+"navbar").height()),e("body")[n+"scrollspy"]({target:"#"+a.id+".navbar-collapse",offset:a.navbar_height})})}},render:function(e,t){this.dom_element=e('<div class="az-element az-scroll-menu"><nav  class="'+t+"navbar "+t+"navbar-default "+this.attrs.el_class+'" role="navigation" style="'+this.attrs.style+'"><div class="'+t+'container-fluid"></div></nav></div>')
var n=e('<div class="'+t+'navbar-header"><button type="button" class="'+t+'navbar-toggle" data-toggle="'+t+'collapse" data-target="#'+this.id+'"><span class="'+t+'sr-only">'+p("Toggle navigation")+'</span><span class="'+t+'icon-bar"></span><span class="'+t+'icon-bar"></span><span class="'+t+'icon-bar"></span></button><a class="'+t+'navbar-brand" href="'+this.attrs.logo_link+'"></a></div>'),a=e('<img src="'+this.attrs.logo+'" alt="">')
e(n).find("a."+t+"navbar-brand").append(a)
var o=e('<div class="'+t+"collapse "+t+'navbar-collapse" id="'+this.id+'"></div>'),i='<ul class="'+t+"nav "+t+'navbar-nav">'
for(var s in this.menu_items)i+='<li><a href="#'+s+'">'+this.menu_items[s]+"</a></li>"
i+="</ul>",e(o).append(i),e(this.dom_element).find("."+t+"container-fluid").append(n).append(o),Nt.baseclass.prototype.render.apply(this,arguments)}}),bt("az_form",!0,Lt),Y(Lt.prototype,{name:p("Form"),icon:"fa fa-envelope-o",description:p("Form container. Can contain form elements for user input and any number of any other elements types."),category:p("Layout"),params:[it({type:"textfield",heading:p("Name"),param_name:"name",description:p("Required."),required:!0}),it({type:"textfield",heading:p("Submit button title"),param_name:"submit_title",value:p("Submit")}),it({type:"textfield",heading:p("Submited message"),param_name:"submited_message",value:p("Submited")}),it({type:"textfield",heading:p("Action URL"),param_name:"action",description:p("URL of server script which will receive submitted form data.")})].concat(Lt.prototype.params),is_container:!0,hidden:!window.azexo_online,show_settings_on_create:!0,get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+'text-overflow" data-az-element="'+this.base+'" style="width:100%;"><i class="'+n+"text-primary "+this.icon+'"></i><p>'+this.name+'</p><p class="'+n+"text-muted "+n+'small">'+this.description+"</p></div>"},get_empty:function(){return'<div class="az-empty"><div class="top-left '+n+'well"><h1>↖</h1>'+p("You can add form element by mouse over this button: ")+'<span class="'+n+"glyphicon "+n+'glyphicon-plus-sign"></span> '+p("You can see all submissions by click on this button: ")+'<span class="'+n+"glyphicon "+n+'glyphicon-list-alt"></span></div></div>'},show_controls:function(){if(window.azexo_editor){Lt.baseclass.prototype.show_controls.apply(this,arguments)
var t=this
""==this.attrs.action&&e('<button title="'+c("Show submissions")+'" class="control show-submissions '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-list-alt" > </button>').appendTo(this.controls).click({object:this},this.click_show_submissions)
var o='<div class="form-fields '+n+"btn-group "+n+'btn-group-sm">'
for(var i in Et.prototype.form_elements){var s=Et.prototype.form_elements[i].prototype
o+='<button title="'+c("Add")+" "+s.name+'" class="control '+n+"btn "+n+"btn-default "+s.icon+'" data-az-element="'+i+'"></button>'}o+="</div>"
var r=e('<button title="'+c("Add form field")+'" class="control add-field '+n+"btn "+n+"btn-primary "+n+"glyphicon "+n+'glyphicon-plus-sign"> </button>').appendTo(this.controls)[a+"popover"]({animation:!1,placement:n+"right",html:"true",trigger:"manual",content:o}).hover(function(){e(r)[a+"popover"]("show"),G(e(t.controls)),G(e(t.controls).find("."+n+"popover")),e(t.controls).find("."+n+"popover .control").each(function(){e(this).click(function(){var n=e(this).attr("data-az-element"),a=ct.prototype.elements[n],o=new a(t,!1)
return o.update_dom(),t.update_dom(),t.update_empty(),o.show_settings_on_create&&o.edit(),!1})}),e(t.controls).mouseleave(function(){e(r)[a+"popover"]("hide"),e(r).css("display","")})})}},update_sortable:function(){window.azexo_editor&&e(this.dom_content_element).sortable({items:"> .az-element",connectWith:".az-form .az-ctnr",handle:"> .controls > .drag-and-drop",update:this.update_sorting,placeholder:"az-sortable-placeholder",forcePlaceholderSize:!0,over:function(e,t){t.placeholder.attr("class",t.helper.attr("class")),t.placeholder.removeClass("ui-sortable-helper"),t.placeholder.addClass("az-sortable-placeholder")}})},click_show_submissions:function(e){return e.data.object.show_submissions(),!1},show_submissions:function(){var t=this,o=t.get_my_container(),i=o.attrs.container.split("/")[0]
"azexo_form_submit_type"in window&&(i=window.azexo_form_submit_type)
var s=o.attrs.container.split("/")[1]
"azexo_form_submit_name"in window&&(s=window.azexo_form_submit_name),I(i,s,t.attrs.name,function(o){e("#az-form-modal").remove()
var i='<div class="'+n+'modal-header"><button type="button" class="'+n+'close" data-dismiss="'+n+'modal" aria-hidden="true">&times;</button><h4 class="'+n+'modal-title">'+t.attrs.name+" "+p(" submissions")+"</h4></div>",s='<div class="'+n+'modal-footer"></div>',r=e('<div id="az-form-modal" class="'+n+'modal azexo"><div class="'+n+"modal-dialog "+n+'modal-lg"><div class="'+n+'modal-content">'+i+'<div class="'+n+'modal-body"></div>'+s+"</div></div></div>").prependTo("body"),l={}
for(var d in o)if(""!=o[d]){var c=e.parseJSON(o[d])
for(var m in c)m in l||(l[m]=!0)}var h=[]
for(var d in o)if(""!=o[d]){var c=e.parseJSON(o[d]),_={}
for(var m in l)_[m]=m in c?c[m]:""
h.push(_)}var u=e("<table></table>"),f=e("<thead><tr></tr></thead>").appendTo(u)
for(var v in l)e(f).find("tr").append("<th>"+v+"</th>")
for(var g=e("<tbody></tbody>").appendTo(u),y=0;y<h.length;y++){var _=e("<tr></tr>").appendTo(g)
for(var v in l)e("<td>"+h[y][v]+"</td>").appendTo(_)}azexo_add_css("DataTables/media/css/jquery.dataTables.min.css",function(){}),azexo_add_js({path:"DataTables/media/js/jquery.dataTables.min.js",callback:function(){e(u).dataTable()}}),e(r).find("."+n+"modal-body").append(u),e("#az-form-modal")[a+"modal"]("show")})},showed:function(e){Lt.baseclass.prototype.showed.apply(this,arguments)
var t=this
""==this.attrs.action&&("recaptcha_publickey"in window?e(t.dom_element).find(".g-recaptcha").attr("data-sitekey",window.recaptcha_publickey):S(function(n){e(t.dom_element).find(".g-recaptcha").attr("data-sitekey",n)}),this.add_external_js("https://www.google.com/recaptcha/api.js",function(){}),e(t.dom_element).submit(function(){var n=t.get_my_container(),a=n.attrs.container.split("/")[0]
"azexo_form_submit_type"in window&&(a=window.azexo_form_submit_type)
var o=n.attrs.container.split("/")[1]
return"azexo_form_submit_name"in window&&(o=window.azexo_form_submit_name),O(a,o,t.attrs.name,e(t.dom_element).serialize(),function(e){e&&t.dom_element.prepend(nt(t.attrs.submited_message))}),!1}))},render:function(e,t){this.dom_element=e('<form action="'+this.attrs.action+'" method="post" class="az-element az-form '+this.attrs.el_class+'" style="'+this.attrs.style+'" role="form" enctype="multipart/form-data"></form>'),this.dom_content_element=e('<div class="az-ctnr"></div>').appendTo(this.dom_element),e('<div class="'+t+'form-group"><div class="g-recaptcha"></div></div>').appendTo(this.dom_element),e('<div class="'+t+'form-group"><button class="'+t+"btn "+t+"btn-lg "+t+'btn-primary" type="submit">'+this.attrs.submit_title+"</button></div>").appendTo(this.dom_element),Lt.baseclass.prototype.render.apply(this,arguments)}}),B(Et,yt),Y(Et.prototype,{form_elements:{},show_parent_controls:".az-form",params:[it({type:"textfield",heading:p("Name"),param_name:"name",description:p("Required."),required:!0}),it({type:"checkbox",heading:p("Field is required?"),param_name:"required",value:{yes:p("Yes, please")}}),it({type:"textfield",heading:p("Title"),param_name:"title"})].concat(Et.prototype.params)}),Bt(),Yt(),qt(),Ht(),Ft()
var hn="",_n="",un="",fn="",vn={},gn={},yn={theme:[],host:"",username:"",password:"",port:"21",directory:"."}}(window.jQuery,!1,"","",{},{},{},null,[],{})